import{_ as s,o as n,c as a,V as l}from"./chunks/framework.c6d8cbec.js";const p="/docs/images/cesium/630.png",o="/docs/images/cesium/636.png",e="/docs/images/cesium/631.png",t="/docs/images/cesium/632.png",c="/docs/images/cesium/633.png",r="/docs/images/cesium/634.png",i="/docs/images/cesium/635.png",y="/docs/images/cesium/cesium-api.png",B=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"frontend/graph/cesium/cesium入门.md","filePath":"frontend/graph/cesium/cesium入门.md"}'),F={name:"frontend/graph/cesium/cesium入门.md"},E=l('<h2 id="cesium开发环境搭建" tabindex="-1">Cesium开发环境搭建 <a class="header-anchor" href="#cesium开发环境搭建" aria-label="Permalink to &quot;Cesium开发环境搭建&quot;">​</a></h2><h3 id="开发环境准备" tabindex="-1">开发环境准备 <a class="header-anchor" href="#开发环境准备" aria-label="Permalink to &quot;开发环境准备&quot;">​</a></h3><p>利用Cesium API进行二次开发属于Web前端开发范畴，目前比较火的Web三剑客包括React、Vue、AngularJS，每个js库的详细介绍可转至官网查看，在此不做详细介绍。本次开发环境是基于Vue搭建的，需要安装（部署）的软件主要包括以下几种：</p><table><thead><tr><th>分类</th><th>名称</th></tr></thead><tbody><tr><td>IDE</td><td>VS Code</td></tr><tr><td>浏览器</td><td>Chrome</td></tr><tr><td>Web服务器</td><td>nginx</td></tr><tr><td>包管理器</td><td>node</td></tr></tbody></table><p>前两个下载后安装即可，注意VS Code需要安装Live Server扩展；nginx下载后的压缩包解压到电脑磁盘路径下（比如E盘跟路径下），配置好conf文件夹下的nginx.conf文件，双击nginx跟路径下的nginx.exe程序启动服务；同样node下载后的压缩包也解压到某个路径下，不同的是需要配置node系统环境变量，配置流程如下：<em>我的电脑→右击属性→点击左侧的高级系统设置→点击环境变量→在系统变量中选中Path点击编辑→点新建将node的存储目录复制过去（比如E:\\node-v12.16.2-win-x64\\）</em>。配置好之后打开cmd命令窗口输入node -v，显示版本则表示安装成功。</p><h3 id="cesium源码下载" tabindex="-1">Cesium源码下载 <a class="header-anchor" href="#cesium源码下载" aria-label="Permalink to &quot;Cesium源码下载&quot;">​</a></h3><p>Cesium最新版本下载地址：<a href="https://cesium.com/downloads/%EF%BC%8C%E6%9C%AC%E6%AC%A1%E6%95%99%E7%A8%8B%E7%94%A8%E7%9A%841.75%E7%89%88%E6%9C%AC%E7%9A%84Cesium%EF%BC%8C%E5%A6%82%E6%9E%9C%E5%BD%93%E5%89%8D%E7%89%88%E6%9C%AC%E8%BE%83%E9%AB%98%EF%BC%8C%E5%8F%AF%E7%82%B9%E5%87%BBPrevious" target="_blank" rel="noreferrer">https://cesium.com/downloads/，本次教程用的1.75版本的Cesium，如果当前版本较高，可点击Previous</a> releases找到1.75版本的Cesium下载，下载界面如下图所示：</p><img src="'+p+'"><p>下载完之后进行解压，压缩包主要内容如下图所示。</p><img src="'+o+'"><p>用VS Code打开解压后的文件夹，右击跟路径下的index.html，选“Open with Live Server”，运行界面如下：</p><img src="'+e+`"><p>Cesium ion：Cesium在线资源-地形(createWorldTerrain)、影像(createWorldImagery/IonImageryProvider)、OSM(createOsmBuildings)、点云(IonResource.fromAssetId)、3DTiles等</p><p>Local links：Cesium本地资源链接，文档、示例、单元测试等</p><p>External links：Cesium外部资源链接，社区、博客、GitHub等</p><h3 id="环境搭建-纯html" tabindex="-1">环境搭建（纯HTML） <a class="header-anchor" href="#环境搭建-纯html" aria-label="Permalink to &quot;环境搭建（纯HTML）&quot;">​</a></h3><p>通过在html文件中引用cesium比较简单，新建文件夹（cesium_traning），将上面的Build文件夹（只拷贝里面的Cesium）拷贝到cesium_traning中，在cesium_traning根路径下创建examples文件夹，在examples文件夹下创建html文件，代码如下：（详情可查看github.com/ls870061011）</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">&lt;!</span><span style="color:#F286C4;">DOCTYPE</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;font-style:italic;">html</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">&lt;</span><span style="color:#F286C4;">head</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">  &lt;</span><span style="color:#F286C4;">title</span><span style="color:#F6F6F4;">&gt;Hello World&lt;/</span><span style="color:#F286C4;">title</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">  &lt;</span><span style="color:#F286C4;">script</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;font-style:italic;">src</span><span style="color:#F286C4;">=</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">../Build/Cesium/Cesium.js</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">&gt;&lt;/</span><span style="color:#F286C4;">script</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">  &lt;</span><span style="color:#F286C4;">link</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;font-style:italic;">href</span><span style="color:#F286C4;">=</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">../Build/Cesium/Widgets/widgets.css</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;font-style:italic;">rel</span><span style="color:#F286C4;">=</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">stylesheet</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> /&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">  &lt;</span><span style="color:#F286C4;">style</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">html</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F286C4;">    body</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F286C4;">    </span><span style="color:#62E884;font-style:italic;">#cesiumContainer</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#97E1F1;">width</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">100</span><span style="color:#F286C4;">%</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#97E1F1;">height</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">100</span><span style="color:#F286C4;">%</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#97E1F1;">margin</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#97E1F1;">padding</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#97E1F1;">overflow</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">hidden</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">&lt;/</span><span style="color:#F286C4;">style</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">&lt;/</span><span style="color:#F286C4;">head</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">&lt;</span><span style="color:#F286C4;">body</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">  &lt;</span><span style="color:#F286C4;">div</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;font-style:italic;">id</span><span style="color:#F286C4;">=</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">cesiumContainer</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">&gt;&lt;/</span><span style="color:#F286C4;">div</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">  &lt;</span><span style="color:#F286C4;">script</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">var</span><span style="color:#F6F6F4;"> viewer </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> Cesium.</span><span style="color:#62E884;">Viewer</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">cesiumContainer</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">&lt;/</span><span style="color:#F286C4;">script</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">&lt;/</span><span style="color:#F286C4;">body</span><span style="color:#F6F6F4;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;!</span><span style="color:#22863A;">DOCTYPE</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">html</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">head</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">title</span><span style="color:#24292E;">&gt;Hello World&lt;/</span><span style="color:#22863A;">title</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">src</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;../Build/Cesium/Cesium.js&quot;</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">link</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">href</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;../Build/Cesium/Widgets/widgets.css&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">rel</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;stylesheet&quot;</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">style</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">html</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">body</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">#cesiumContainer</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">width</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">100</span><span style="color:#D73A49;">%</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">height</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">100</span><span style="color:#D73A49;">%</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">margin</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">padding</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">overflow</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">hidden</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">style</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">head</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">body</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">id</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;cesiumContainer&quot;</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">var</span><span style="color:#24292E;"> viewer </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> Cesium.</span><span style="color:#6F42C1;">Viewer</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;cesiumContainer&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">body</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><h3 id="环境搭建-vue-cli-创建vue工程" tabindex="-1">环境搭建（Vue CLI） 创建Vue工程 <a class="header-anchor" href="#环境搭建-vue-cli-创建vue工程" aria-label="Permalink to &quot;环境搭建（Vue CLI） 创建Vue工程&quot;">​</a></h3><p>建Vue工程，需要提前安装Vue脚手架，可在cmd命令窗口通过npm install -g @vue/cli命令安装，安装成功后输入vue --version命令检查安装版本。</p><p>当然如果你喜欢用yarn的话，可通过以下命令安装yarn和vue脚手架。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#f6f6f4;">npm i yarn</span></span>
<span class="line"><span style="color:#f6f6f4;">yarn global add @vue/cli</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">npm i yarn</span></span>
<span class="line"><span style="color:#24292e;">yarn global add @vue/cli</span></span></code></pre></div><p>到此，你的电脑环境中已经具备创建vue工程的能力，下面就是通过在某个路径下打开cmd命令窗口执行vue create vue_cesium_js命令一步一步创建vue工程了，具体每一步选项的具体意义这里就不详细解释了，想了解的可查询相关资料。每一步的选项及部分截图如下：</p><img src="`+t+`"><p>剩下的就是等待了，工程创建好之后，用VS Code打开此工程，在终端输入yarn add cesium@1.75等待cesium包安装完成即可。</p><p>配置vue.config.js</p><p>首先执行yarn add webpack copy-webpack-plugin --dev，在vue.config.js中的configureWebpack配置如下代码：详情可查看本人GitHub地址中的工程<a href="https://github.com/ls870061011/vue%5C_cesium%E3%80%82" target="_blank" rel="noreferrer">https://github.com/ls870061011/vue\\_cesium。</a></p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">config.plugins </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> [</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">...</span><span style="color:#F6F6F4;">config.plugins,</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">CopyWebpackPlugin</span><span style="color:#F6F6F4;">({</span></span>
<span class="line"><span style="color:#F6F6F4;">        patterns</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> [</span></span>
<span class="line"><span style="color:#F6F6F4;">          {</span></span>
<span class="line"><span style="color:#F6F6F4;">            from</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">node_modules/cesium/Build/Cesium</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">            to</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">cesium</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          },</span></span>
<span class="line"><span style="color:#F6F6F4;">        ],</span></span>
<span class="line"><span style="color:#F6F6F4;">      }),</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> webpack.</span><span style="color:#62E884;">DefinePlugin</span><span style="color:#F6F6F4;">({</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#7B7F8B;">// Define relative base path in cesium for loading assets</span></span>
<span class="line"><span style="color:#F6F6F4;">        CESIUM_BASE_URL</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">JSON</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">stringify</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">./cesium</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">),</span></span>
<span class="line"><span style="color:#F6F6F4;">      }),</span></span>
<span class="line"><span style="color:#F6F6F4;">    ];</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">config.plugins </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> [</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">...</span><span style="color:#24292E;">config.plugins,</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">CopyWebpackPlugin</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">        patterns: [</span></span>
<span class="line"><span style="color:#24292E;">          {</span></span>
<span class="line"><span style="color:#24292E;">            from: </span><span style="color:#032F62;">&#39;node_modules/cesium/Build/Cesium&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">            to: </span><span style="color:#032F62;">&#39;cesium&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          },</span></span>
<span class="line"><span style="color:#24292E;">        ],</span></span>
<span class="line"><span style="color:#24292E;">      }),</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> webpack.</span><span style="color:#6F42C1;">DefinePlugin</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// Define relative base path in cesium for loading assets</span></span>
<span class="line"><span style="color:#24292E;">        CESIUM_BASE_URL: </span><span style="color:#005CC5;">JSON</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">stringify</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;./cesium&#39;</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">      }),</span></span>
<span class="line"><span style="color:#24292E;">    ];</span></span></code></pre></div><p>到目前为止，所有环境都已搭建好，下一步就是见证奇迹的时刻了。</p><h3 id="第一个示例" tabindex="-1">第一个示例 <a class="header-anchor" href="#第一个示例" aria-label="Permalink to &quot;第一个示例&quot;">​</a></h3><p>如果是纯html的页面，可在VS Code中选中html文件右击Open with Live Server；如果是vue工程，在VS Code终端输入yarn serve按回车。不管是哪种方式，最终显示的结果都是一样的，大功告成。</p><h2 id="cesium目录结构介绍" tabindex="-1">Cesium目录结构介绍 <a class="header-anchor" href="#cesium目录结构介绍" aria-label="Permalink to &quot;Cesium目录结构介绍&quot;">​</a></h2><p>上一讲我们已经下载了1.75版本的Ceisum并进行了解压，解压内容如下图所示，这一讲我们详细介绍每个目录文件具体表示什么意思，下面就对主要文件（夹）进行说明。</p><img src="`+c+'"><h3 id="根路径文件" tabindex="-1">根路径文件 <a class="header-anchor" href="#根路径文件" aria-label="Permalink to &quot;根路径文件&quot;">​</a></h3><p>CHANGES.md：Cesium每个版本的变更记录以及每个版本修复了哪些功能。<br> gulpfile.cjs：记录了cesium的所有打包流程，包括GLSL语法的转义、压缩和未压缩库文件的打包、API文档的生成以及自动化单元测试等。<br> index.html：这个就不用多说了，Web导航首页。<br> package.json：一个用于包的依赖管理文件，包括包的名称、版本号、描述、官网url、作者、程序的主入口文件、开发环境和生产环境依赖包列表以及执行执行脚本等。<br> README.md：项目的入门手册，里面介绍了整个项目的使用、功能等等。<br> server.cjs：Cesium内置的Node服务器文件，命令npm run start以及npm run startPublic实际上执行的文件。</p><h3 id="apps文件夹" tabindex="-1">Apps文件夹 <a class="header-anchor" href="#apps文件夹" aria-label="Permalink to &quot;Apps文件夹&quot;">​</a></h3><p>CesiumViewer：一个简单的Cesium初始化示例<br> SampleData：所有示例代码所用到的数据，包括json、geoJson、topojson、kml、czml、gltf、3dtiles以及图片等。<br> Sandcastle：Ceisum的示例程序代码就存储在此文件夹里，有兴趣的童鞋可以查阅每一个示例代码，一定会有新的收获。<br> TimelineDemo：时间轴示例代码。</p><h3 id="build文件夹" tabindex="-1">Build文件夹 <a class="header-anchor" href="#build文件夹" aria-label="Permalink to &quot;Build文件夹&quot;">​</a></h3><p>Cesium：打包之后的Cesium库文件（压缩）。<br> CesiumUnminified：打包之后的Cesium库文件（未压缩），引用该文件可方便开发人员进行调试，找到程序异常或报错的具体代码位置。<br> Documentation：打包之后的API 文档。</p><h3 id="source文件夹" tabindex="-1">Source文件夹 <a class="header-anchor" href="#source文件夹" aria-label="Permalink to &quot;Source文件夹&quot;">​</a></h3><p>Source文件夹是Cesium整个项目工程的重中之重，涉及到的所有类的源码和自定义shader（渲染）源码都存储在此文件夹里，有兴趣的童鞋可以通过阅读源码研究每个类、属性、方法及事件的实现原理。</p><h3 id="specs文件夹" tabindex="-1">Specs文件夹 <a class="header-anchor" href="#specs文件夹" aria-label="Permalink to &quot;Specs文件夹&quot;">​</a></h3><p>自动化单元测试，Cesium采用了单元测试Jasmine框架 ，可以实现接口的自动化测试以及接口覆盖率等统计效果。</p><h3 id="thirdparty文件夹" tabindex="-1">ThirdParty文件夹 <a class="header-anchor" href="#thirdparty文件夹" aria-label="Permalink to &quot;ThirdParty文件夹&quot;">​</a></h3><p>Cesium中接口实现和单元测试所依赖的外部第三方库，比如代码编辑器codemirror、单元测试框架库jasmine、javascript语法和风格的检查工具jshint等。</p><h2 id="viewer界面介绍及组件显隐" tabindex="-1">Viewer界面介绍及组件显隐 <a class="header-anchor" href="#viewer界面介绍及组件显隐" aria-label="Permalink to &quot;Viewer界面介绍及组件显隐&quot;">​</a></h2><h3 id="viewer界面介绍" tabindex="-1">Viewer界面介绍 <a class="header-anchor" href="#viewer界面介绍" aria-label="Permalink to &quot;Viewer界面介绍&quot;">​</a></h3><p>任何Cesium应用程序的基础都是Viewer，Viewer是一个带有多种功能的可交互的三位数字地球的容器。我们已经通过以下代码初始化了一个视图窗口，看到了一个基本的数字地球。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#f6f6f4;">var viewer = new Cesium.Viewer(&quot;cesiumContainer&quot;);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">var viewer = new Cesium.Viewer(&quot;cesiumContainer&quot;);</span></span></code></pre></div><p>默认地，场景支持鼠标（电脑端）和手指触摸（移动端）交互，并且支持以下相机漫游方式：</p><ul><li><p>按住鼠标左键拖拽 - 让相机在数字地球平面平移</p></li><li><p>按住鼠标右键拖拽 - 放缩相机</p></li><li><p>鼠标滚轮滑动 - 放缩相机</p></li><li><p>按住鼠标中键拖拽 - 在当前地球的屏幕中间点，旋转相机</p></li></ul><p>同时初始化界面也默认自带了一些组件，其初始化场景及组件数字标号如下图所示：</p><img src="'+r+`"><p>每一个组件的描述如下：<br> Geocoder：查找位置工具，查找到之后会将镜头对准找到的地址，默认使用微软的Bing地图<br> HomeButton：首页位置，点击之后将视图跳转到默认全球视角<br> SceneModePicker：选择视角的模式，3D，2D，哥伦布视图(CV)<br> BaseLayerPicker：图层选择器，选择要显示的地图服务和地形服务<br> NavigationHelpButton：导航帮助按钮，显示默认的地图控制帮助<br> Animation：动画器件，控制视图动画的播放速度<br> CreditsDisplay：展示商标版权和数据归属<br> Timeline：时间轴，指示当前时间，并允许用户跳到特定的时间<br> FullscreenButton：全屏按钮</p><h3 id="组件显隐" tabindex="-1">组件显隐 <a class="header-anchor" href="#组件显隐" aria-label="Permalink to &quot;组件显隐&quot;">​</a></h3><p>初始化界面比较怪，领导不喜欢，看着不爽，怎么办？先别急，下面我们可采用两种方式，让这些组件立刻消失在我们眼前。<br> 通过js代码控制</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">var</span><span style="color:#F6F6F4;"> viewer </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> Cesium.</span><span style="color:#62E884;">Viewer</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">cesiumContainer</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, {</span></span>
<span class="line"><span style="color:#F6F6F4;">      animation</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">false</span><span style="color:#F6F6F4;">, </span><span style="color:#7B7F8B;">// 动画小组件</span></span>
<span class="line"><span style="color:#F6F6F4;">      baseLayerPicker</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">false</span><span style="color:#F6F6F4;">, </span><span style="color:#7B7F8B;">// 底图组件，选择三维数字地球的底图（imagery and terrain）。</span></span>
<span class="line"><span style="color:#F6F6F4;">      fullscreenButton</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">false</span><span style="color:#F6F6F4;">, </span><span style="color:#7B7F8B;">// 全屏组件</span></span>
<span class="line"><span style="color:#F6F6F4;">      vrButton</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">false</span><span style="color:#F6F6F4;">, </span><span style="color:#7B7F8B;">// VR模式</span></span>
<span class="line"><span style="color:#F6F6F4;">      geocoder</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">false</span><span style="color:#F6F6F4;">, </span><span style="color:#7B7F8B;">// 地理编码（搜索）组件</span></span>
<span class="line"><span style="color:#F6F6F4;">      homeButton</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">false</span><span style="color:#F6F6F4;">, </span><span style="color:#7B7F8B;">// 首页，点击之后将视图跳转到默认视角</span></span>
<span class="line"><span style="color:#F6F6F4;">      infoBox</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">false</span><span style="color:#F6F6F4;">, </span><span style="color:#7B7F8B;">// 信息框</span></span>
<span class="line"><span style="color:#F6F6F4;">      sceneModePicker</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">false</span><span style="color:#F6F6F4;">, </span><span style="color:#7B7F8B;">// 场景模式，切换2D、3D 和 Columbus View (CV) 模式。</span></span>
<span class="line"><span style="color:#F6F6F4;">      selectionIndicator</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">false</span><span style="color:#F6F6F4;">, </span><span style="color:#7B7F8B;">//是否显示选取指示器组件</span></span>
<span class="line"><span style="color:#F6F6F4;">      timeline</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">false</span><span style="color:#F6F6F4;">, </span><span style="color:#7B7F8B;">// 时间轴</span></span>
<span class="line"><span style="color:#F6F6F4;">      navigationHelpButton</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">false</span><span style="color:#F6F6F4;">, </span><span style="color:#7B7F8B;">// 帮助提示，如何操作数字地球。</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">// 如果最初应该看到导航说明，则为true；如果直到用户明确单击该按钮，则该提示不显示，否则为false。</span></span>
<span class="line"><span style="color:#F6F6F4;">      navigationInstructionsInitiallyVisible</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">false</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// 隐藏logo</span></span>
<span class="line"><span style="color:#F6F6F4;">    viewer._cesiumWidget._creditContainer.style.display </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">none</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">var</span><span style="color:#24292E;"> viewer </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> Cesium.</span><span style="color:#6F42C1;">Viewer</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;cesiumContainer&quot;</span><span style="color:#24292E;">, {</span></span>
<span class="line"><span style="color:#24292E;">      animation: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 动画小组件</span></span>
<span class="line"><span style="color:#24292E;">      baseLayerPicker: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 底图组件，选择三维数字地球的底图（imagery and terrain）。</span></span>
<span class="line"><span style="color:#24292E;">      fullscreenButton: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 全屏组件</span></span>
<span class="line"><span style="color:#24292E;">      vrButton: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// VR模式</span></span>
<span class="line"><span style="color:#24292E;">      geocoder: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 地理编码（搜索）组件</span></span>
<span class="line"><span style="color:#24292E;">      homeButton: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 首页，点击之后将视图跳转到默认视角</span></span>
<span class="line"><span style="color:#24292E;">      infoBox: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 信息框</span></span>
<span class="line"><span style="color:#24292E;">      sceneModePicker: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 场景模式，切换2D、3D 和 Columbus View (CV) 模式。</span></span>
<span class="line"><span style="color:#24292E;">      selectionIndicator: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">//是否显示选取指示器组件</span></span>
<span class="line"><span style="color:#24292E;">      timeline: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 时间轴</span></span>
<span class="line"><span style="color:#24292E;">      navigationHelpButton: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">// 帮助提示，如何操作数字地球。</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 如果最初应该看到导航说明，则为true；如果直到用户明确单击该按钮，则该提示不显示，否则为false。</span></span>
<span class="line"><span style="color:#24292E;">      navigationInstructionsInitiallyVisible: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 隐藏logo</span></span>
<span class="line"><span style="color:#24292E;">    viewer._cesiumWidget._creditContainer.style.display </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;none&quot;</span><span style="color:#24292E;">;</span></span></code></pre></div><p>通过css代码控制</p><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">/* 通过CSS控制组件显隐及位置 */</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;font-style:italic;">.cesium-viewer-toolbar</span><span style="color:#F6F6F4;">,             </span><span style="color:#7B7F8B;">/* 右上角按钮组 */</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;font-style:italic;">.cesium-viewer-animationContainer</span><span style="color:#F6F6F4;">,  </span><span style="color:#7B7F8B;">/* 左下角动画控件 */</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;font-style:italic;">.cesium-viewer-timelineContainer</span><span style="color:#F6F6F4;">,   </span><span style="color:#7B7F8B;">/* 时间线 */</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;font-style:italic;">.cesium-viewer-bottom</span><span style="color:#F6F6F4;">               </span><span style="color:#7B7F8B;">/* logo信息 */</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#97E1F1;">display</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">none</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">!important</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;font-style:italic;">.cesium-widget-credits</span><span style="color:#F6F6F4;">  </span><span style="color:#7B7F8B;">/* 隐藏logo图片 */</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#97E1F1;">display</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">none</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">!important</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;font-style:italic;">.cesium-viewer-fullscreenContainer</span><span style="color:#F6F6F4;">  </span><span style="color:#7B7F8B;">/* 全屏按钮 */</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#97E1F1;">display</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">none</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">!important</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#97E1F1;">position</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">absolute</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#97E1F1;">top</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">/* 通过CSS控制组件显隐及位置 */</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">.cesium-viewer-toolbar</span><span style="color:#24292E;">,             </span><span style="color:#6A737D;">/* 右上角按钮组 */</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">.cesium-viewer-animationContainer</span><span style="color:#24292E;">,  </span><span style="color:#6A737D;">/* 左下角动画控件 */</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">.cesium-viewer-timelineContainer</span><span style="color:#24292E;">,   </span><span style="color:#6A737D;">/* 时间线 */</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">.cesium-viewer-bottom</span><span style="color:#24292E;">               </span><span style="color:#6A737D;">/* logo信息 */</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">display</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">none</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">!important</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">.cesium-widget-credits</span><span style="color:#24292E;">  </span><span style="color:#6A737D;">/* 隐藏logo图片 */</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">display</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">none</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">!important</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">.cesium-viewer-fullscreenContainer</span><span style="color:#24292E;">  </span><span style="color:#6A737D;">/* 全屏按钮 */</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">display</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">none</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">!important</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">position</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">absolute</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">top</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span></code></pre></div><p>通过以上两种方式中任何一种，组件都会消失，如下图所示。这下看着就比较顺眼了，剩下的工作就交给UI人员了，高大上的页面全部指望他们了。</p><img src="`+i+'"><h2 id="cesium-api结构介绍" tabindex="-1">Cesium API结构介绍 <a class="header-anchor" href="#cesium-api结构介绍" aria-label="Permalink to &quot;Cesium API结构介绍&quot;">​</a></h2><img src="'+y+'"><p>在实际的开发过程中，基本上会用到上图所示的Cesium API中各个类，我们可以把它按照以下分类进行记忆。</p><h3 id="viewer类属性" tabindex="-1">Viewer类属性 <a class="header-anchor" href="#viewer类属性" aria-label="Permalink to &quot;Viewer类属性&quot;">​</a></h3><p><strong>imageryLayers</strong> 影像数据<br><strong>terrainProvider</strong> 地形数据<br><strong>dataSources</strong> 矢量数据<br><strong>entities</strong> 几何实体集合（用于空间数据可视化）<br><strong>Widgets</strong> 组件，即Viewer初始化界面上的组件<br><strong>Camera</strong> 相机<br><strong>Event</strong> 事件，鼠标事件、实体选中事件等</p><h3 id="scene类属性" tabindex="-1">Scene类属性 <a class="header-anchor" href="#scene类属性" aria-label="Permalink to &quot;Scene类属性&quot;">​</a></h3><p><strong>primitives</strong> 图元集合（几何体和外观）<br><strong>postProcessStages</strong> 场景后期处理<br> 环境对象，大气圈、天空盒、太阳、月亮等<br><strong>Event</strong>事件，更新、渲染事件等<br><strong>Camera</strong>类属性<br> 位置、方位角、俯仰角、翻滚角</p><h3 id="空间计算" tabindex="-1">空间计算 <a class="header-anchor" href="#空间计算" aria-label="Permalink to &quot;空间计算&quot;">​</a></h3><p>三维矩阵、四元数、四维矩阵、转换等</p>',71),u=[E];function d(C,m,h,g,b,f){return n(),a("div",null,u)}const A=s(F,[["render",d]]);export{B as __pageData,A as default};
