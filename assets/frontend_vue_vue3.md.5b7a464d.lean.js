import{_ as c,H as e,o as r,c as y,J as a,E as p,C as n,a as s,V as o}from"./chunks/framework.c6d8cbec.js";const _=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"frontend/vue/vue3.md","filePath":"frontend/vue/vue3.md"}'),F={name:"frontend/vue/vue3.md"},i=o("",30),E=o("",6),u=n("p",null,[s("与"),n("code",null,"watch"),s("不同的是")],-1),d=n("ul",null,[n("li",null,[s("不需要指定监听的变量，在"),n("code",null,"watchEffect"),s("的回调中使用了哪些变量就会监听哪些变量")]),n("li",null,[s("也正因为第一点，在"),n("strong",null,"初始化的时候会执行一次"),s("收集依赖（回调中使用的变量）")]),n("li",null,"拿不到新旧值")],-1),C={id:"监听的东西一定是要具体到值",tabindex:"-1"},g=n("a",{class:"header-anchor",href:"#监听的东西一定是要具体到值","aria-label":'Permalink to "<font color="red">监听的东西一定是要具体到值</font>"'},"​",-1),h=o("",18),m=n("p",null,[n("code",null,"this.$ref.xxx"),s("这个在 vue2 也是很经常使用")],-1),q=o("",7),D=o("",108);function v(f,A,b,k,x,B){const t=e("Banner"),l=e("font");return r(),y("div",null,[a(t),i,a(l,{color:"red"},{default:p(()=>[s("**❎ 错误示范**")]),_:1}),E,n("blockquote",null,[a(l,{color:"red"},{default:p(()=>[s("`watch()` 和 `watchEffect()` 在 DOM 挂载或更新*之前*运行副作用(回调函数)，所以当侦听器运行时，模板引用还未被更新。")]),_:1})]),u,d,n("h4",C,[a(l,{color:"red"},{default:p(()=>[s("监听的东西一定是要具体到值")]),_:1}),s(),g]),h,n("blockquote",null,[m,a(l,{color:"red"},{default:p(()=>[s("`watch()` 和 `watchEffect()` 在 DOM 挂载或更新*之前*运行副作用(回调函数)，所以当侦听器运行时，模板引用还未被更新。")]),_:1})]),q,n("p",null,[s("但是，"),n("strong",null,[s("在 setup 中不可以调用 getCurrentInstance().ctx 来获取"),a(l,{color:"red"},{default:p(()=>[s("组件内部数据")]),_:1}),s("，因为在 prod 会被干掉")])]),a(l,{color:"blue"},{default:p(()=>[s("推荐使用`proxy`获取，无论开发还是生产环境都可以获取到")]),_:1}),D])}const j=c(F,[["render",v]]);export{_ as __pageData,j as default};
