import{_ as s,o as a,c as n,V as l}from"./chunks/framework.c6d8cbec.js";const h=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"frontend/js/JavaScriptAdvanced.md","filePath":"frontend/js/JavaScriptAdvanced.md"}'),p={name:"frontend/js/JavaScriptAdvanced.md"},o=l(`<h2 id="javascriptè¿›é˜¶" tabindex="-1">JavaScriptè¿›é˜¶ <a class="header-anchor" href="#javascriptè¿›é˜¶" aria-label="Permalink to &quot;JavaScriptè¿›é˜¶&quot;">â€‹</a></h2><h2 id="æ•°å­—" tabindex="-1">æ•°å­— <a class="header-anchor" href="#æ•°å­—" aria-label="Permalink to &quot;æ•°å­—&quot;">â€‹</a></h2><ul><li>Number(n: number)ä¸new Number(n: number)åˆ†åˆ«åˆ›å»ºäº†numberä¸objectç±»å‹å˜é‡ï¼ˆé€šå¸¸æ²¡æœ‰å¿…è¦ä½¿ç”¨Numberç±»å‹å®ä¾‹ï¼‰</li><li>toString(radix: number)æ¥å—2ã€8ã€10ã€16ï¼ˆ2åˆ°36ï¼‰ï¼Œç”¨äºè½¬æ¢è¿›åˆ¶</li><li>toFixed(n: number)å¯ä»¥å®šä¹‰å°æ•°ç‚¹åä½æ•°ï¼Œç”¨äºè½¬æ¢æ ¼å¼</li><li>toPrecision()è‡ªåŠ¨åº”ç”¨toFixed()æˆ–toExponential()ï¼ˆå›ºå®šå°æ•°ä½æ•°æˆ–ç§‘å­¦è®¡æ•°æ³•çš„ç³»æ•°ï¼‰</li></ul><h2 id="å‡½æ•°" tabindex="-1">å‡½æ•° <a class="header-anchor" href="#å‡½æ•°" aria-label="Permalink to &quot;å‡½æ•°&quot;">â€‹</a></h2><ul><li>å¿…éœ€å‚æ•°ä½¿ç”¨å‚æ•°åˆ—è¡¨ï¼Œå¯é€‰å‚æ•°ç”¨å¯¹è±¡å°è£…</li><li>arguments.calleeæŒ‡å‘å‡½æ•°æœ¬èº«ï¼Œå¯ä»¥é¿å…é€’å½’è°ƒç”¨ä¸å‡½æ•°åè€¦åˆï¼ˆå½“ç„¶å…¶ä»–è¯­è¨€ä¸­ä¸å­˜åœ¨è¿™é—®é¢˜ï¼‰</li><li>[function].calleræŒ‡å‘è°ƒç”¨å‡½æ•°çš„å‡½æ•°</li><li>thisæŒ‡å‘è°ƒç”¨å‡½æ•°çš„å¯¹è±¡</li><li>å‡½æ•°ä¸€å®šåŒ…æ‹¬lengthï¼ˆå‘½åå‚æ•°ä¸ªæ•°ï¼‰ä¸prototypeå±æ€§</li><li>å‡½æ•°ä¹Ÿæ”¯æŒtoStringæ–¹æ³•ï¼Œè¿”å›å€¼æ˜¯ä»£ç å­—ç¬¦ä¸²ï¼ˆè¿™ç§è¡Œä¸ºæ²¡æœ‰ä¸¥æ ¼è§„å®šï¼Œä¸åŒç¯å¢ƒå¯èƒ½ä¸åŒï¼‰</li><li>ç”¨func.apply(this,[array])å°†æ¥å—å¤šä¸ªå‚æ•°çš„å‡½æ•°è½¬æ¢ä¸ºæ¥å—æ•°ç»„</li></ul><h2 id="æ•°ç»„" tabindex="-1">æ•°ç»„ <a class="header-anchor" href="#æ•°ç»„" aria-label="Permalink to &quot;æ•°ç»„&quot;">â€‹</a></h2><ul><li>é€šè¿‡è®¾ç½®lengthï¼Œå¯ä»¥åŠ¨æ€å¢é•¿/ç¼©å‡æ•°ç»„ï¼Œè¶…è¿‡lengthçš„é¡¹==undefined</li><li>è®¿é—®array[n]ï¼Œå¦‚æœlength&lt;nï¼Œæ•°ç»„é•¿åº¦è‡ªåŠ¨æ‰©å±•è‡³n</li></ul><h2 id="this" tabindex="-1">this <a class="header-anchor" href="#this" aria-label="Permalink to &quot;this&quot;">â€‹</a></h2><p>thisæŒ‡å‘è°ƒç”¨å½“å‰å‡½æ•°çš„å¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰å¯¹è±¡è°ƒç”¨ï¼Œé‚£ä¹ˆthis==windowã€‚åœ¨ç®­å¤´å‡½æ•°ä¸­ï¼ŒthisæŒ‡å‘ä¸ç¯å¢ƒä¸­ç›¸åŒã€‚bindã€callã€replyæ–¹æ³•éƒ½å¯ä»¥ä¿®æ”¹thisã€‚</p><h3 id="ç»‘å®šthis" tabindex="-1">ç»‘å®šthis <a class="header-anchor" href="#ç»‘å®šthis" aria-label="Permalink to &quot;ç»‘å®šthis&quot;">â€‹</a></h3><p>ç»‘å®šthisçš„4ç§æ–¹æ³•ï¼ŒæŒ‰ä¼˜å…ˆçº§ä»ä½åˆ°é«˜æ’åºåˆ†åˆ«æ˜¯é»˜è®¤ç»‘å®šã€éšå¼ç»‘å®šã€æ˜¾å¼ç»‘å®šã€newç»‘å®šã€‚å…¶ä¸­apply()ä¸call()å±äºæ˜¾å¼ç»‘å®šã€‚</p><h4 id="é»˜è®¤ç»‘å®š" tabindex="-1">é»˜è®¤ç»‘å®š <a class="header-anchor" href="#é»˜è®¤ç»‘å®š" aria-label="Permalink to &quot;é»˜è®¤ç»‘å®š&quot;">â€‹</a></h4><p>å…¨å±€ç¯å¢ƒä¸­ã€å‡½æ•°ç‹¬ç«‹è°ƒç”¨æ—¶ï¼ˆå³ä½¿è¢«åµŒå¥—ã€åŒ…æ‹¬ç«‹å³æ‰§è¡Œå‡½æ•°ï¼‰ï¼ŒthisæŒ‡å‘windowã€‚æœ‰æ—¶å€™è¢«åµŒå¥—çš„å‡½æ•°æƒ³è·å¾—ä¸Šå±‚å‡½æ•°çš„thisï¼Œå¯ä»¥ä½¿ç”¨<code>var that = this</code>è¯­å¥ä¼ é€’thiså€¼ã€‚</p><h4 id="éšå¼ç»‘å®š-æ–¹æ³•è°ƒç”¨" tabindex="-1">éšå¼ç»‘å®š/æ–¹æ³•è°ƒç”¨ <a class="header-anchor" href="#éšå¼ç»‘å®š-æ–¹æ³•è°ƒç”¨" aria-label="Permalink to &quot;éšå¼ç»‘å®š/æ–¹æ³•è°ƒç”¨&quot;">â€‹</a></h4><p>thisçš„å€¼æ˜¯è°ƒç”¨è¯¥å‡½æ•°çš„å¯¹è±¡ã€‚å¦‚a.b()ä¸­bå†…éƒ¨çš„thisæŒ‡å‘aã€‚åªæœ‰ç›´æ¥è°ƒç”¨<code>obj.func()</code>æ—¶æ‰ä¼šä¼ é€’thisï¼Œå¦åˆ™thisä»æŒ‡å‘windowã€‚å‡½æ•°è™½ç„¶å¯ä»¥å±äºä¸€ä¸ªå¯¹è±¡ï¼Œä½†å‡½æ•°ä¸ä¼šä¸å¯¹è±¡ç»‘å®šthisã€‚</p><p>è¿™äº›ä¸èƒ½ä¼ é€’thisçš„åœºæ™¯åŒ…æ‹¬èµ‹å€¼ã€ä¼ å‚ã€å†…ç½®å‡½æ•°ï¼ˆå¦‚setTimeoutï¼‰ã€é—´æ¥å¼•ç”¨ï¼ˆå¯¹è±¡çš„å±æ€§èµ‹å€¼æ—¶çš„ç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œå¦‚<code>(p.foo = o.foo)()</code>ï¼Œthisä¸ºwindowï¼‰ç­‰ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">var</span><span style="color:#F6F6F4;"> val</span><span style="color:#F286C4;">=</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">window</span><span style="color:#DEE492;">&#39;</span></span>
<span class="line"><span style="color:#F286C4;">var</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">func</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">  console.</span><span style="color:#62E884;">log</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.val)</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#F286C4;">var</span><span style="color:#F6F6F4;"> obj</span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;">{val</span><span style="color:#F286C4;">:</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">obj</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">,func</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;">func};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#62E884;">func</span><span style="color:#F6F6F4;">()</span><span style="color:#7B7F8B;">//window</span></span>
<span class="line"><span style="color:#F6F6F4;">obj.</span><span style="color:#62E884;">func</span><span style="color:#F6F6F4;">()</span><span style="color:#7B7F8B;">//obj</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7B7F8B;">//èµ‹å€¼ä¼šä¸¢å¤±this</span></span>
<span class="line"><span style="color:#F286C4;">var</span><span style="color:#F6F6F4;"> func1 </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> obj.func</span></span>
<span class="line"><span style="color:#62E884;">func1</span><span style="color:#F6F6F4;">()</span><span style="color:#7B7F8B;">//window</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7B7F8B;">//ä½œä¸ºå‚æ•°ä¼ é€’ä¹Ÿä¼šä¸¢å¤±this</span></span>
<span class="line"><span style="color:#F286C4;">var</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">func2</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">func</span><span style="color:#F6F6F4;">){</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#62E884;">func</span><span style="color:#F6F6F4;">()</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#62E884;">func2</span><span style="color:#F6F6F4;">(obj.func)</span><span style="color:#7B7F8B;">//window</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">var</span><span style="color:#24292E;"> val</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;window&#39;</span></span>
<span class="line"><span style="color:#D73A49;">var</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">func</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.val)</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#D73A49;">var</span><span style="color:#24292E;"> obj</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{val:</span><span style="color:#032F62;">&#39;obj&#39;</span><span style="color:#24292E;">,func:func};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">func</span><span style="color:#24292E;">()</span><span style="color:#6A737D;">//window</span></span>
<span class="line"><span style="color:#24292E;">obj.</span><span style="color:#6F42C1;">func</span><span style="color:#24292E;">()</span><span style="color:#6A737D;">//obj</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//èµ‹å€¼ä¼šä¸¢å¤±this</span></span>
<span class="line"><span style="color:#D73A49;">var</span><span style="color:#24292E;"> func1 </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> obj.func</span></span>
<span class="line"><span style="color:#6F42C1;">func1</span><span style="color:#24292E;">()</span><span style="color:#6A737D;">//window</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//ä½œä¸ºå‚æ•°ä¼ é€’ä¹Ÿä¼šä¸¢å¤±this</span></span>
<span class="line"><span style="color:#D73A49;">var</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">func2</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;">(</span><span style="color:#E36209;">func</span><span style="color:#24292E;">){</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">func</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6F42C1;">func2</span><span style="color:#24292E;">(obj.func)</span><span style="color:#6A737D;">//window</span></span></code></pre></div><h4 id="æ˜¾ç¤ºç»‘å®š" tabindex="-1">æ˜¾ç¤ºç»‘å®š <a class="header-anchor" href="#æ˜¾ç¤ºç»‘å®š" aria-label="Permalink to &quot;æ˜¾ç¤ºç»‘å®š&quot;">â€‹</a></h4><p>å³ä½¿ç”¨callã€applyã€bindæ–¹æ³•ç»‘å®šthisåˆ°å¯¹è±¡ä¸Šã€‚JSè¿˜æ–°å¢äº†è®¸å¤šå†…ç½®å‡½æ•°æä¾›thisValueé€‰é¡¹ï¼Œå¦‚æ•°ç»„çš„è¿­ä»£æ–¹æ³•mapã€forEachã€filterã€someã€everyã€‚</p><h4 id="newç»‘å®š" tabindex="-1">newç»‘å®š <a class="header-anchor" href="#newç»‘å®š" aria-label="Permalink to &quot;newç»‘å®š&quot;">â€‹</a></h4><p>newçš„ä½œç”¨æ˜¯ä»æ„é€ å‡½æ•°è¿”å›æ–°å¯¹è±¡ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">constructorA</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.a</span><span style="color:#F286C4;">=</span><span style="color:#BF9EEE;">0</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> obj </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">constructorA</span><span style="color:#F6F6F4;">()</span></span>
<span class="line"><span style="color:#F6F6F4;">obj.a</span><span style="color:#7B7F8B;">//0</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">constructorA</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.a</span><span style="color:#D73A49;">=</span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> obj </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">constructorA</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">obj.a</span><span style="color:#6A737D;">//0</span></span></code></pre></div><p>éœ€è¦æ³¨æ„å¦‚æœconstructoræ²¡æœ‰è¿”å›å€¼ï¼Œé‚£ä¹ˆæ„é€ çš„å¯¹è±¡å°±æ˜¯è¿”å›å€¼ã€‚è€Œå…¶ä¸­çš„thisæ°¸è¿œæŒ‡å‘objï¼Œå³æ–°ç”Ÿæˆçš„å¯¹è±¡ï¼Œå³ä½¿<code>let newObj = new obj.constructorA()</code>ï¼Œthisä¹Ÿä¼šæŒ‡å‘newObjï¼Œè€Œä¸æ˜¯objã€‚</p><h3 id="thisä¸å‡½æ•°" tabindex="-1">thisä¸å‡½æ•° <a class="header-anchor" href="#thisä¸å‡½æ•°" aria-label="Permalink to &quot;thisä¸å‡½æ•°&quot;">â€‹</a></h3><p>thisçš„å››ç§ç»‘å®šæ–¹æ³•å…¶å®ä¹Ÿå¯¹åº”å‡½æ•°çš„å››ç§è°ƒç”¨æ–¹å¼ï¼ŒåŒ…æ‹¬å‡½æ•°è°ƒç”¨(func)ã€æ–¹æ³•è°ƒç”¨ï¼ˆobj.funcï¼‰ã€é—´æ¥è°ƒç”¨ï¼ˆcallã€applyï¼‰ã€æ„é€ å‡½æ•°è°ƒç”¨ï¼ˆnewï¼‰ã€‚</p><h3 id="å®ç°bind" tabindex="-1">å®ç°bind <a class="header-anchor" href="#å®ç°bind" aria-label="Permalink to &quot;å®ç°bind&quot;">â€‹</a></h3><p><code>Function.prototype.bind(thisArg[,arg1[,arg2[,...]]])</code></p><p>bindæä¾›äº†ä¸¤ä¸ªåŠŸèƒ½ï¼Œä¸€ä¸ªæ˜¯ä¼ é€’thisï¼Œå¦ä¸€ä¸ªæ˜¯ä¼ é€’å‚æ•°ï¼ˆä¹‹åä¼ å‚æ•°ä¼šä½äºè¿™äº›å‚æ•°åé¢ï¼‰ï¼Œå®ƒè¿”å›ç»‘å®šåçš„å‡½æ•°ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬è¦ä¼ é€’thisï¼Œéœ€è¦é€šè¿‡æ–¹æ³•è°ƒç”¨æ¥å®Œæˆï¼Œbindçš„thisæ˜¯åŸå‡½æ•°ï¼Œæˆ‘ä»¬è¦æ€ä¹ˆè¿”å›ç»‘å®šå¥½çš„å‡½æ•°å‘¢ï¼ŸğŸ¤”</p><p>å¯ä»¥æƒ³åˆ°ï¼Œæˆ‘ä»¬å…ˆæŠŠå‡½æ•°ç»‘å®šåˆ°é‚£ä¸ªç¯å¢ƒä¸Šå»ï¼Œä½†è¿™å°±æ˜¯bindçš„åŠŸèƒ½å•Šã€‚å®é™…ä¸Šï¼Œæˆ‘ä»¬åº”è¯¥è¿”å›ä¸€ä¸ªå…¨æ–°å‡½æ•°ï¼Œè€Œè¿™ä¸ªæ–°å‡½æ•°çš„æ‰§è¡Œç»“æœä¸åŸå‡½æ•°+thisArgä¸€è‡´ã€‚</p><p>é‚£ä¹ˆå…ˆä¸è€ƒè™‘ä¼ é€’å‚æ•°ï¼Œåªè€ƒè™‘thisçš„æƒ…å†µã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#97E1F1;font-style:italic;">Function</span><span style="color:#F6F6F4;">.prototype.</span><span style="color:#62E884;">myBind</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">thisValue</span><span style="color:#F6F6F4;">){</span></span>
<span class="line"><span style="color:#F6F6F4;">  thisValue._func </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> thisValue.</span><span style="color:#62E884;">_func</span><span style="color:#F6F6F4;">()</span></span>
<span class="line"><span style="color:#F6F6F4;">  }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">Function</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">prototype</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">myBind</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;">(</span><span style="color:#E36209;">thisValue</span><span style="color:#24292E;">){</span></span>
<span class="line"><span style="color:#24292E;">  thisValue._func </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> thisValue.</span><span style="color:#6F42C1;">_func</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>è¿™æ ·æˆ‘ä»¬å°±å·²ç»å®ç°äº†bindæœ€åŸºæœ¬çš„åŠŸèƒ½â€”â€”ç»‘å®šthisï¼Œä½†æˆ‘ä»¬å‘thisValueæ·»åŠ äº†å±æ€§ã€‚å…¶å®æˆ‘ä»¬åªç”¨ä¿è¯ç»“æœæ­£ç¡®ï¼Œå› æ­¤å¯ä»¥åˆ é™¤æ·»åŠ çš„å±æ€§ï¼Œç”¨ä¸´æ—¶å˜é‡æ›¿ä»£ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#97E1F1;font-style:italic;">Function</span><span style="color:#F6F6F4;">.prototype.</span><span style="color:#62E884;">myBind</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">thisValue</span><span style="color:#F6F6F4;">){</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> func </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">getResult</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> (</span><span style="color:#FFB86C;font-style:italic;">func</span><span style="color:#F6F6F4;">,</span><span style="color:#FFB86C;font-style:italic;">thisValue</span><span style="color:#F6F6F4;">)</span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">    thisValue._func </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> func</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> result </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> thisValue.</span><span style="color:#62E884;">_func</span><span style="color:#F6F6F4;">()</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">delete</span><span style="color:#F6F6F4;"> thisValue._func</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> result</span></span>
<span class="line"><span style="color:#F6F6F4;">  }</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">getResult</span><span style="color:#F6F6F4;">(func,thisValue)</span></span>
<span class="line"><span style="color:#F6F6F4;">  }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">Function</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">prototype</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">myBind</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;">(</span><span style="color:#E36209;">thisValue</span><span style="color:#24292E;">){</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> func </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getResult</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">func</span><span style="color:#24292E;">,</span><span style="color:#E36209;">thisValue</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    thisValue._func </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> func</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> thisValue.</span><span style="color:#6F42C1;">_func</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">delete</span><span style="color:#24292E;"> thisValue._func</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> result</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getResult</span><span style="color:#24292E;">(func,thisValue)</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>ç»†å¿ƒçš„æœ‹å‹ä¸éš¾çœ‹å‡ºï¼ŒgetResultå’Œcallã€applyæœ‰ç€ç›¸ä¼¼çš„åŠŸèƒ½ï¼Œå³è¿”å›ç»‘å®šæŸä¸ªthiså€¼åçš„æ‰§è¡Œç»“æœã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œbindå…¶å®æ˜¯åŸºäºcallå’Œapplyå®ç°çš„ã€‚ä½†ä¸ºäº†æ–¹ä¾¿ç†è§£æ•´ä¸ªæ¦‚å¿µï¼Œæˆ‘å…ˆä»‹ç»äº†bindã€‚</p><h4 id="callå’Œapply" tabindex="-1">callå’Œapply <a class="header-anchor" href="#callå’Œapply" aria-label="Permalink to &quot;callå’Œapply&quot;">â€‹</a></h4><p>æ˜ç™½äº†åŸºæœ¬åŸç†ä¹‹åï¼Œæˆ‘ä»¬æ¥ç ”ç©¶å¦‚ä½•ä¼ å…¥å‚æ•°ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬åº”è¯¥çŸ¥é“æ‰€æœ‰å‚æ•°éƒ½å¯ä»¥åœ¨arugumentså¯¹è±¡ä¸­æ‰¾åˆ°ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹å®ƒçš„ç»“æ„ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">printArguments</span><span style="color:#F6F6F4;">(){</span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">arguments</span><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#62E884;">printArguments</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">,</span><span style="color:#BF9EEE;">2</span><span style="color:#F6F6F4;">,</span><span style="color:#BF9EEE;">3</span><span style="color:#F6F6F4;">)</span><span style="color:#7B7F8B;">//[Arguments] { &#39;0&#39;: 1, &#39;1&#39;: 2, &#39;2&#39;: 3 }</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">printArguments</span><span style="color:#24292E;">(){</span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">arguments</span><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6F42C1;">printArguments</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">3</span><span style="color:#24292E;">)</span><span style="color:#6A737D;">//[Arguments] { &#39;0&#39;: 1, &#39;1&#39;: 2, &#39;2&#39;: 3 }</span></span></code></pre></div><p>Argumentsæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å¯¹è±¡ï¼Œå®ƒä¸æ˜¯æ•°ç»„ï¼Œä½†å…·æœ‰æ•°ç»„çš„è®¸å¤šç‰¹å¾ï¼Œè¿™é‡ŒæŠŠå®ƒå½“ä½œæ•°ç»„ã€‚</p><p>å…ˆçœ‹<code>function.call(thisArg,arg1,arg2,...)</code>ï¼Œæˆ‘ä»¬éœ€è¦æŠŠåé¢çš„å‚æ•°ä¼ å…¥å‡½æ•°ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#97E1F1;font-style:italic;">Function</span><span style="color:#F6F6F4;">.prototype.</span><span style="color:#62E884;">myCall</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> [thisValue,</span><span style="color:#F286C4;">...</span><span style="color:#F6F6F4;">parameters] </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">arguments</span></span>
<span class="line"><span style="color:#F6F6F4;">  thisValue._func </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> result </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> thisValue.</span><span style="color:#62E884;">_func</span><span style="color:#F6F6F4;">(</span><span style="color:#F286C4;">...</span><span style="color:#F6F6F4;">parameters)</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">delete</span><span style="color:#F6F6F4;"> thisValue._func</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> result</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">Function</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">prototype</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">myCall</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> [thisValue,</span><span style="color:#D73A49;">...</span><span style="color:#24292E;">parameters] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">arguments</span></span>
<span class="line"><span style="color:#24292E;">  thisValue._func </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> thisValue.</span><span style="color:#6F42C1;">_func</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">...</span><span style="color:#24292E;">parameters)</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">delete</span><span style="color:#24292E;"> thisValue._func</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> result</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>å†çœ‹çœ‹<code>function.apply(thisArg,[argsArray])</code>ï¼Œæˆ‘ä»¬è½¬æ¢ä¸€ä¸‹å‚æ•°å½¢å¼å°±è¡Œã€‚éœ€è¦æ³¨æ„æˆ‘ä»¬çš„argsArrayä¸èƒ½ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºï¼Œparametersä¸ºundefinedï¼Œå†ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦å°±ä¼šæŠ¥é”™<code>is not iterable</code>ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#97E1F1;font-style:italic;">Function</span><span style="color:#F6F6F4;">.prototype.</span><span style="color:#62E884;">myApply</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> [thisValue,parameters] </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">arguments</span></span>
<span class="line"><span style="color:#F6F6F4;">  thisValue._func </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> result </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> thisValue.</span><span style="color:#62E884;">_func</span><span style="color:#F6F6F4;">(</span><span style="color:#F286C4;">...</span><span style="color:#F6F6F4;">parameters)</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">delete</span><span style="color:#F6F6F4;"> thisValue._func</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> result</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">Function</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">prototype</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">myApply</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> [thisValue,parameters] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">arguments</span></span>
<span class="line"><span style="color:#24292E;">  thisValue._func </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> thisValue.</span><span style="color:#6F42C1;">_func</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">...</span><span style="color:#24292E;">parameters)</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">delete</span><span style="color:#24292E;"> thisValue._func</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> result</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h4 id="å¯ä»¥å®Œå–„çš„ä¸€äº›åœ°æ–¹" tabindex="-1">å¯ä»¥å®Œå–„çš„ä¸€äº›åœ°æ–¹ <a class="header-anchor" href="#å¯ä»¥å®Œå–„çš„ä¸€äº›åœ°æ–¹" aria-label="Permalink to &quot;å¯ä»¥å®Œå–„çš„ä¸€äº›åœ°æ–¹&quot;">â€‹</a></h4><p>å¦‚æœæ²¡æœ‰ä¼ thiså€¼ï¼Œæˆ‘ä»¬å¯ä»¥è®©é»˜è®¤å€¼ä¸ºwindowï¼Œå¦‚æœæ²¡æœ‰ä¼ argsArrayï¼Œè®©é»˜è®¤å€¼ä¸º[]ï¼Œè¿™é‡Œæ‹¿applyä½œä¸ºä¾‹å­ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#97E1F1;font-style:italic;">Function</span><span style="color:#F6F6F4;">.prototype.</span><span style="color:#62E884;">myApply</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> [thisValue,parameters] </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">arguments</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;">(</span><span style="color:#F286C4;">!</span><span style="color:#F6F6F4;">thisValue)thisValue </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> window</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;">(</span><span style="color:#F286C4;">!</span><span style="color:#F6F6F4;">parameters)parameters </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> []</span></span>
<span class="line"><span style="color:#F6F6F4;">  thisValue._func </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> result </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> thisValue.</span><span style="color:#62E884;">_func</span><span style="color:#F6F6F4;">(</span><span style="color:#F286C4;">...</span><span style="color:#F6F6F4;">parameters)</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">delete</span><span style="color:#F6F6F4;"> thisValue._func</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> result</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">Function</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">prototype</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">myApply</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> [thisValue,parameters] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">arguments</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">thisValue)thisValue </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> window</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">parameters)parameters </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> []</span></span>
<span class="line"><span style="color:#24292E;">  thisValue._func </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> thisValue.</span><span style="color:#6F42C1;">_func</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">...</span><span style="color:#24292E;">parameters)</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">delete</span><span style="color:#24292E;"> thisValue._func</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> result</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>æˆ‘ä»¬çš„bindä¹Ÿå¯ä»¥æ”¹é€ æˆä½¿ç”¨applyçš„æ¨¡å¼ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#97E1F1;font-style:italic;">Function</span><span style="color:#F6F6F4;">.prototype.</span><span style="color:#62E884;">myBind</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> func </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> [thisValue,</span><span style="color:#F286C4;">...</span><span style="color:#F6F6F4;">parameters] </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">arguments</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> func.</span><span style="color:#62E884;">myApply</span><span style="color:#F6F6F4;">(thisValue,parameters)</span></span>
<span class="line"><span style="color:#F6F6F4;">  }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">Function</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">prototype</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">myBind</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> func </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> [thisValue,</span><span style="color:#D73A49;">...</span><span style="color:#24292E;">parameters] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">arguments</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> func.</span><span style="color:#6F42C1;">myApply</span><span style="color:#24292E;">(thisValue,parameters)</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>ç°åœ¨è¿˜å¯ä»¥ç»§ç»­è€ƒè™‘ä¸¤ä¸ªé—®é¢˜ï¼šå¦‚æœä¸èƒ½ä½¿ç”¨â€¦è¿ç®—ç¬¦æ€ä¹ˆåŠï¼Ÿå¦‚æœç»‘å®šçš„å¯¹è±¡å·²ç»æœ‰äº†_funcå±æ€§æˆ–è€…ä¸èƒ½è®¾ç½®å±æ€§æ€ä¹ˆåŠï¼Ÿ</p><p>å…ˆçœ‹å¦‚ä½•æ›¿ä»£â€¦è¿ç®—ç¬¦ã€‚å¦‚æœä¸èƒ½ä½¿ç”¨â€¦è¿ç®—ç¬¦ï¼Œæˆ‘ä»¬å°±ä¸èƒ½æ–¹ä¾¿åœ°å‘å‡½æ•°ä¼ é€’ä»»æ„å¤šä¸ªå‚æ•°ï¼Œå¯ä»¥ä½¿ç”¨eval()è§£æç”Ÿæˆçš„å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥ç”¨<code>new Function([arg1[,arg2[,...argN]],]functionBody)</code>ç»“åˆè¯»å–argumentsæ•°ç»„è¯»å–ä»»æ„å¤šä¸ªå‚æ•°ï¼Œä¹Ÿæ˜¯é€šè¿‡è§£æç”Ÿæˆçš„å­—ç¬¦ä¸²ã€‚</p><p>ä½¿ç”¨ä¸é‡å¤çš„å±æ€§ã€‚ES6æä¾›äº†symbol()ç”¨äºæ ‡å¿—å”¯ä¸€çš„äº‹ç‰©ï¼Œå®ƒå¯ä»¥ä»¥ä½œä¸ºå¯¹è±¡çš„å±æ€§ï¼Œæˆ‘ä»¬ä»ä»¥applyä½œä¸ºä¾‹å­ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#97E1F1;font-style:italic;">Function</span><span style="color:#F6F6F4;">.prototype.</span><span style="color:#62E884;">myApply</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> [thisValue,parameters] </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">arguments</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;">(</span><span style="color:#F286C4;">!</span><span style="color:#F6F6F4;">thisValue)thisValue </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> window</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;">(</span><span style="color:#F286C4;">!</span><span style="color:#F6F6F4;">parameters)parameters </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> []</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> _func </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">Symbol</span><span style="color:#F6F6F4;">()</span></span>
<span class="line"><span style="color:#F6F6F4;">  thisValue[_func] </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> result </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> thisValue[_func](</span><span style="color:#F286C4;">...</span><span style="color:#F6F6F4;">parameters)</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">delete</span><span style="color:#F6F6F4;"> thisValue[_func]</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> result</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">Function</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">prototype</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">myApply</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> [thisValue,parameters] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">arguments</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">thisValue)thisValue </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> window</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">parameters)parameters </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> []</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> _func </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Symbol</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">  thisValue[_func] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> thisValue[_func](</span><span style="color:#D73A49;">...</span><span style="color:#24292E;">parameters)</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">delete</span><span style="color:#24292E;"> thisValue[_func]</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> result</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>æ­¤å¤–è¿˜å¯ä»¥ç”¨Math.random()ç”Ÿæˆä¸€ä¸ªä¸å¤ªå¯èƒ½é‡å¤çš„å±æ€§åã€‚</p><h2 id="ä½œç”¨åŸŸ-scope" tabindex="-1">ä½œç”¨åŸŸ Scope <a class="header-anchor" href="#ä½œç”¨åŸŸ-scope" aria-label="Permalink to &quot;ä½œç”¨åŸŸ Scope&quot;">â€‹</a></h2><p>ä½œç”¨åŸŸå³å˜é‡å’Œå‡½æ•°çš„å¯è®¿é—®èŒƒå›´å’Œç”Ÿå‘½å‘¨æœŸã€‚</p><h3 id="å˜é‡ä½œç”¨åŸŸ" tabindex="-1">å˜é‡ä½œç”¨åŸŸ <a class="header-anchor" href="#å˜é‡ä½œç”¨åŸŸ" aria-label="Permalink to &quot;å˜é‡ä½œç”¨åŸŸ&quot;">â€‹</a></h3><p>å¯ä»¥åˆ†ä¸ºå…¨å±€ä½œç”¨åŸŸã€å‡½æ•°å†…ä½œç”¨åŸŸï¼ˆåŒ…æ‹¬åµŒå¥—å‡½æ•°ï¼‰ã€å—çº§ä½œç”¨åŸŸã€‚å±€éƒ¨å˜é‡å¯ä»¥åœ¨å±€éƒ¨è¦†ç›–åŒåå…¨å±€å˜é‡ã€‚</p><h3 id="ä½œç”¨åŸŸé“¾-scope-chain" tabindex="-1">ä½œç”¨åŸŸé“¾ Scope Chain <a class="header-anchor" href="#ä½œç”¨åŸŸé“¾-scope-chain" aria-label="Permalink to &quot;ä½œç”¨åŸŸé“¾ Scope Chain&quot;">â€‹</a></h3><p>ä»å¤–å±‚åˆ°å‡½æ•°ä¹ƒè‡³åµŒå¥—å‡½æ•°å†…ï¼Œå¤šä¸ªæ‰§è¡Œç¯å¢ƒå½¢æˆäº†ä¸€ä¸ªç¨‹åºæ‰§è¡Œæ ˆï¼ŒåŒæ—¶ä¹Ÿå½¢æˆäº†ä¸€ä¸ªæŒ‡å‘å¤šä¸ªç¯å¢ƒçš„é“¾è¡¨ï¼Œå³ä½œç”¨åŸŸé“¾ã€‚ä½œç”¨åŸŸé“¾åŒ…æ‹¬VOä¸æ‰€æœ‰ä¸Šçº§çš„ä½œç”¨åŸŸã€‚</p><p>ä½œç”¨åŸŸé“¾å†³å®šäº†å‡½æ•°èƒ½è®¿é—®å˜é‡çš„èŒƒå›´ï¼Œç»„ç»‡äº†è®¿é—®å˜é‡çš„é¡ºåºï¼Œåœ¨è§£ææ ‡è¯†ç¬¦æ—¶ä¸€çº§ä¸€çº§åœ°æŒ‰é¡ºåºæŸ¥æ‰¾å‡½æ•°å’Œå˜é‡ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒJSæ ¹æ®å‡½æ•°å®šä¹‰çš„ä½ç½®æŸ¥æ‰¾ï¼Œè€Œéæ‰§è¡Œçš„ä½ç½®ã€‚</p><h4 id="æ‰§è¡Œç¯å¢ƒ-æ‰§è¡Œä¸Šä¸‹æ–‡-execution-context" tabindex="-1">æ‰§è¡Œç¯å¢ƒ/æ‰§è¡Œä¸Šä¸‹æ–‡ Execution Context <a class="header-anchor" href="#æ‰§è¡Œç¯å¢ƒ-æ‰§è¡Œä¸Šä¸‹æ–‡-execution-context" aria-label="Permalink to &quot;æ‰§è¡Œç¯å¢ƒ/æ‰§è¡Œä¸Šä¸‹æ–‡ Execution Context&quot;">â€‹</a></h4><p>æ‰§è¡Œç¯å¢ƒå®šä¹‰äº†å˜é‡ä¸å‡½æ•°èƒ½è®¿é—®çš„æ•°æ®ï¼ŒåŒ…æ‹¬å…¨å±€ã€å‡½æ•°å†…ã€evalã€å—çº§ä½œç”¨åŸŸç­‰ã€‚</p><p>æ‰§è¡Œç¯å¢ƒåŒ…æ‹¬è‡³å°‘3ä¸ªé‡è¦çš„å±æ€§ï¼šä½œç”¨åŸŸé“¾ã€å˜é‡å¯¹è±¡å’Œthisï¼ˆæŒ‰åˆ›å»ºé¡ºåºæ’åºï¼‰ã€‚è¿™é‡Œå…³æ³¨å‰ä¸¤ä¸ªã€‚</p><h4 id="å˜é‡å¯¹è±¡-variable-object" tabindex="-1">å˜é‡å¯¹è±¡ Variable Object <a class="header-anchor" href="#å˜é‡å¯¹è±¡-variable-object" aria-label="Permalink to &quot;å˜é‡å¯¹è±¡ Variable Object&quot;">â€‹</a></h4><p>æ¯ä¸ªæ‰§è¡Œç¯å¢ƒéƒ½æœ‰ä¸ä¹‹å…³è”çš„å˜é‡å¯¹è±¡ï¼Œå®ƒåŒ…æ‹¬äº†ç¯å¢ƒä¸­æ‰€æœ‰çš„å˜é‡å’Œå‡½æ•°ã€‚å…¨å‰§ç¯å¢ƒä¸‹çš„å˜é‡å¯¹è±¡ç§°ä¸ºVOã€‚</p><p>æ‰€æœ‰çš„å˜é‡å’Œå‡½æ•°å³å‡½æ•°å£°æ˜ã€å˜é‡å£°æ˜ã€å‡½æ•°å½¢å‚ã€‚ä¸åŒ…æ‹¬åŒ¿åå‡½æ•°ã€‚</p><h4 id="æ´»åŠ¨å¯¹è±¡-activation-object" tabindex="-1">æ´»åŠ¨å¯¹è±¡ Activation Object <a class="header-anchor" href="#æ´»åŠ¨å¯¹è±¡-activation-object" aria-label="Permalink to &quot;æ´»åŠ¨å¯¹è±¡ Activation Object&quot;">â€‹</a></h4><p>å½“ç¯å¢ƒæ˜¯å‡½æ•°æ—¶ï¼Œæ´»åŠ¨å¯¹è±¡å°±æ˜¯å˜é‡å¯¹è±¡ã€‚æ´»åŠ¨å¯¹è±¡è‡³å°‘åŒ…å«argumentså¯¹è±¡ï¼ˆå³å‡½æ•°å‚æ•°ï¼‰ã€‚æœ‰å¾ˆå¤šèµ„æ–™æåˆ°å‡½æ•°ä¸­ä¸èƒ½ç›´æ¥è®¿é—®VOï¼Œè€Œä»¥AOæ›¿ä»£ï¼Œä¸è¿‡åæ­£è¿™ä¸¤ä¸ªéƒ½æ˜¯ä¸èƒ½ç”¨JSä»£ç æ‰“å°å‡ºæ¥çš„ã€‚</p><p>Argumentså¯¹è±¡è‡³å°‘åŒ…æ‹¬calleeï¼ˆå¯¹å½“å‰å‡½æ•°çš„å¼•ç”¨ï¼‰ã€lengthï¼ˆçœŸæ­£ä¼ é€’å‚æ•°çš„ä¸ªæ•°ï¼‰ã€properties-indexsï¼ˆå‡½æ•°çš„å‚æ•°å€¼ï¼‰ï¼Œæ³¨æ„Argumentså¹¶ä¸åŒ…å«thisã€‚</p><p>withè¯­å¥</p><p><code>with (expression) statement</code></p><p>withè¯­å¥ç®—æ˜¯è¯­æ³•ç³–ï¼Œstatementä¸­çš„è¯­å¥å¯ä»¥ä½¿ç”¨expressionä¸­çš„ä»»æ„å±æ€§è€Œä¸å¿…åŠ ä¸Šå‰ç¼€ã€‚ä½ ä¹Ÿå¯ä»¥è‡ªå·±å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œæ¥å—ä¸€ä¸ªå¯¹è±¡ï¼Œå°†å…¶æ–¹æ³•çš„thisç»‘å®šåˆ°å¯¹è±¡ä¸Šï¼Œç„¶åå®šä¹‰è‹¥å¹²ä¸ªå’Œå¯¹è±¡å±æ€§ç›¸åŒçš„å˜é‡ï¼Œä»è€Œç”¨method()è®¿é—®obj.method()ã€‚ä¸è¿‡å¿…é¡»è¦ç”¨åˆ°evalå‡½æ•°ï¼Œå› ä¸ºjsä¸èƒ½ç›´æ¥åŠ¨æ€å‘½åå˜é‡ã€‚</p><p><strong>withå­˜åœ¨æ€§èƒ½å¼€é”€ï¼Œå¤§å‹é¡¹ç›®ä¸å»ºè®®ä½¿ç”¨ã€‚</strong></p><h2 id="iterableæ¥å£-es6" tabindex="-1">iterableæ¥å£ ES6 <a class="header-anchor" href="#iterableæ¥å£-es6" aria-label="Permalink to &quot;iterableæ¥å£ ES6&quot;">â€‹</a></h2><p>å¯¹è±¡çš„<code>[Symbol.iterator]</code>å±æ€§æŒ‡å‘å…¶é»˜è®¤çš„éå†å™¨ï¼Œå…¶ä¸ä»…æä¾›äº†ç»Ÿä¸€çš„æ¥å£ï¼Œè¿˜èƒ½æŒ‰è§„å®šçš„é¡ºåºæ’åˆ—ã€‚åœ¨ES6ä¸­ï¼ŒArrayã€Stringã€Setå’ŒMapã€argumentsç­‰ç±»æ•°ç»„å¯¹è±¡éƒ½å…·æœ‰iterableæ¥å£ã€‚è€Œ<a href="#è§£æ„èµ‹å€¼">è§£æ„èµ‹å€¼</a>ã€<a href="#æ‰©å±•è¿ç®—ç¬¦">æ‰©å±•è¿ç®—ç¬¦</a>ã€yieldå’Œä»»ä½•ä¸æ¥å—æ•°ç»„çš„åœºåˆéƒ½è°ƒç”¨äº†Iteratoræ¥å£ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> myIterable </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> {}</span></span>
<span class="line"><span style="color:#F6F6F4;">myIterable[Symbol.iterator] </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">function*</span><span style="color:#F6F6F4;"> (){</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">yield</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">yield</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">2</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">yield</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">3</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#F6F6F4;">[</span><span style="color:#F286C4;">...</span><span style="color:#F6F6F4;">myIterable]</span><span style="color:#7B7F8B;">//[ 1, 2, 3 ]</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> myIterable </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {}</span></span>
<span class="line"><span style="color:#24292E;">myIterable[Symbol.iterator] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function*</span><span style="color:#24292E;"> (){</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">yield</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">yield</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">yield</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">3</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">[</span><span style="color:#D73A49;">...</span><span style="color:#24292E;">myIterable]</span><span style="color:#6A737D;">//[ 1, 2, 3 ]</span></span></code></pre></div><p>å€Ÿç”¨æ•°ç»„çš„iteratorï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> fakeArray</span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;">{</span><span style="color:#BF9EEE;">0</span><span style="color:#F286C4;">:</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">apple</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">,</span><span style="color:#BF9EEE;">1</span><span style="color:#F286C4;">:</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">peach</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">,</span><span style="color:#BF9EEE;">2</span><span style="color:#F286C4;">:</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">pancake</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">,length</span><span style="color:#F286C4;">:</span><span style="color:#BF9EEE;">3</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">               [Symbol.iterator]</span><span style="color:#F286C4;">:</span><span style="color:#97E1F1;font-style:italic;">Array</span><span style="color:#F6F6F4;">.prototype[Symbol.iterator]}</span></span>
<span class="line"><span style="color:#F286C4;">for</span><span style="color:#F6F6F4;">(</span><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> it </span><span style="color:#F286C4;">of</span><span style="color:#F6F6F4;"> fakeArray){console.</span><span style="color:#62E884;">log</span><span style="color:#F6F6F4;">(it)}</span><span style="color:#7B7F8B;">//apple peach pancake</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> fakeArray</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&#39;apple&#39;</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&#39;peach&#39;</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&#39;pancake&#39;</span><span style="color:#24292E;">,length:</span><span style="color:#005CC5;">3</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">               [Symbol.iterator]:</span><span style="color:#005CC5;">Array</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">prototype</span><span style="color:#24292E;">[Symbol.iterator]}</span></span>
<span class="line"><span style="color:#D73A49;">for</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> it </span><span style="color:#D73A49;">of</span><span style="color:#24292E;"> fakeArray){console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(it)}</span><span style="color:#6A737D;">//apple peach pancake</span></span></code></pre></div><p>å¾…å¡«å‘ asyncå†™æ³•ã€next()å†™æ³•</p><h2 id="æ¨¡å—ç®¡ç†" tabindex="-1">æ¨¡å—ç®¡ç† <a class="header-anchor" href="#æ¨¡å—ç®¡ç†" aria-label="Permalink to &quot;æ¨¡å—ç®¡ç†&quot;">â€‹</a></h2><h3 id="npm" tabindex="-1">NPM <a class="header-anchor" href="#npm" aria-label="Permalink to &quot;NPM&quot;">â€‹</a></h3><p>Node Package Managerã€‚é»˜è®¤å®‰è£…åˆ°é¡¹ç›®ç›®å½•ä¸‹ï¼Œ-gå®‰è£…åˆ°å…¨å±€ï¼Œ-saveåœ¨package.jsonå†™å…¥dependencieså­—æ®µï¼Œ-save-devç›¸åº”å†™å…¥devDependencieså­—æ®µã€‚</p><h3 id="yarnrecommend" tabindex="-1">YARNRecommend <a class="header-anchor" href="#yarnrecommend" aria-label="Permalink to &quot;YARNRecommend&quot;">â€‹</a></h3><p>NPMä¸YARNä½¿ç”¨å‡ ä¹æ— å·®å¼‚ï¼Œä½†YARNæ˜¯NPMçš„æ”¹è¿›ç‰ˆï¼Œä¸»è¦æ”¯æŒäº†å¹¶è¡Œå®‰è£…ã€ç¦»çº¿æ¨¡å¼ï¼ˆä»ç¼“å­˜å®‰è£…ï¼‰ã€ç»Ÿä¸€ç‰ˆæœ¬ã€‚å› æ­¤ä¸å»ºè®®å†ä½¿ç”¨NPMã€‚</p><p><code>yarn add &lt;package&gt;</code>æ·»åŠ åŒ…ï¼Œ<code>yarn global add &lt;package&gt;</code>æ·»åŠ å…¨å±€åŒ…ï¼Œ<code>yarn add &lt;package&gt; --dev</code>æ·»åŠ devä¾èµ–ã€‚yarnæ·»åŠ çš„ä¾èµ–ä¼šé»˜è®¤ä¿å­˜åˆ°package.jsoné‡Œã€‚</p><h4 id="åˆå§‹åŒ–" tabindex="-1">åˆå§‹åŒ– <a class="header-anchor" href="#åˆå§‹åŒ–" aria-label="Permalink to &quot;åˆå§‹åŒ–&quot;">â€‹</a></h4><p><code>yarn init</code></p><p>initä¼šå¼•å¯¼ä½ åˆ›å»ºpackage.jsonæ–‡ä»¶ã€‚æ²¡æœ‰initä¹Ÿå¯ä»¥å®‰è£…ä¾èµ–ï¼Œä½†package.jsonå¯ä»¥åªå­˜å‚¨åŒ…åå’Œç‰ˆæœ¬ï¼Œæ–¹ä¾¿gitç®¡ç†ã€ä¸åˆ«äººå…±äº«ä»£ç ã€‚</p><p><code>yarn</code>æˆ–<code>yarn install</code></p><p>é’ˆå¯¹å·²æœ‰package.jsonæˆ–yarn.lockçš„é¡¹ç›®ï¼Œå°†æ‰€éœ€ä¾èµ–å…¨éƒ¨å®‰è£…ã€‚</p><h4 id="ä¿®æ”¹é•œåƒæº" tabindex="-1">ä¿®æ”¹é•œåƒæº <a class="header-anchor" href="#ä¿®æ”¹é•œåƒæº" aria-label="Permalink to &quot;ä¿®æ”¹é•œåƒæº&quot;">â€‹</a></h4><p><code>yarn config set registry https://registry.npm.taobao.org/</code>ï¼ˆå…¨å±€ï¼‰</p><p><code>yarn [operation] --reigistry https://registry.npm.taobao.org/</code>ï¼ˆæœ¬æ¬¡æ“ä½œï¼‰</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#f6f6f4;">//.npmrc é¡¹ç›®å†…</span></span>
<span class="line"><span style="color:#f6f6f4;">registry=https://registry.npm.taobao.org</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">//.npmrc é¡¹ç›®å†…</span></span>
<span class="line"><span style="color:#24292e;">registry=https://registry.npm.taobao.org</span></span></code></pre></div><h4 id="ç®¡ç†ä¾èµ–åŒ…" tabindex="-1">ç®¡ç†ä¾èµ–åŒ… <a class="header-anchor" href="#ç®¡ç†ä¾èµ–åŒ…" aria-label="Permalink to &quot;ç®¡ç†ä¾èµ–åŒ…&quot;">â€‹</a></h4><p>é¦–å…ˆï¼Œæˆ‘ä»¬ç”¨<code>&lt;package&gt;</code>ã€<code>&lt;package&gt;@&lt;version&gt;</code>å’Œ<code>&lt;package&gt;@&lt;tag&gt;</code>æè¿°ä¸€ä¸ªä¾èµ–åŒ…ã€‚</p><p><code>yarn upgrade &lt;package&gt;</code>ï¼ˆå‡çº§ï¼‰</p><p><code>yarn remove &lt;package&gt;</code>ï¼ˆç§»é™¤ï¼‰</p><h3 id="importä¸require" tabindex="-1">importä¸require <a class="header-anchor" href="#importä¸require" aria-label="Permalink to &quot;importä¸require&quot;">â€‹</a></h3><p>importä¸requireéƒ½æä¾›å¼•å…¥ä¸€ä¸ªæ¨¡å—çš„åŠŸèƒ½ï¼Œä½†requireæ˜¯AMDè§„èŒƒä¸‹çš„å¼•å…¥ï¼Œåœ¨è¿è¡Œæ—¶è°ƒç”¨ï¼Œè€Œimportæ˜¯ES6è§„å®šçš„å¼•å…¥ï¼Œç¼–è¯‘æ—¶è°ƒç”¨ï¼ˆå› æ­¤å®é™…ä¸Šæœ€æ—©æ‰§è¡Œï¼Œï¼‰ã€‚requireå¯¹åº”exportsï¼Œimportå¯¹åº”exportã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">//CommonJS/AMD</span></span>
<span class="line"><span style="color:#F286C4;">const</span><span style="color:#F6F6F4;"> app </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">require</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">app</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">module</span><span style="color:#F6F6F4;">.</span><span style="color:#97E1F1;font-style:italic;">exports</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> app</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">exports</span><span style="color:#F6F6F4;">.app </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> app</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7B7F8B;">//ES6è§„èŒƒ,è§£æ„è¦æ±‚æ ‡è¯†ç¬¦å¯¹åº”ï¼ˆä½†å¯ä»¥ç”¨asé‡å‘½åï¼‰ï¼Œå¼•å…¥export defaultè¿™ç§çš„å¯ä»¥è‡ªå®šä¹‰å˜é‡åï¼Œä¸€ä¸ªæ–‡ä»¶å¯ä»¥åŒæ—¶export defaultå’Œexport xxx</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> app </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">app</span><span style="color:#DEE492;">&#39;</span><span style="color:#7B7F8B;">// export default xxx</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> {login,logout} </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">app</span><span style="color:#DEE492;">&#39;</span><span style="color:#7B7F8B;">//export const xxx or export function xxx or export {login,logout,...} or export * from &#39;xxx&#39;</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">*</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">xxx</span><span style="color:#DEE492;">&#39;</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> {</span><span style="color:#FFB86C;font-style:italic;">login</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">as</span><span style="color:#F6F6F4;"> logIn} </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">app</span><span style="color:#DEE492;">&#39;</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> app ,{login} </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">app</span><span style="color:#DEE492;">&#39;</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">*</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">as</span><span style="color:#F6F6F4;"> app </span><span style="color:#F286C4;">from</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">app</span><span style="color:#DEE492;">&#39;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">//CommonJS/AMD</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">app</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">require</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;app&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#005CC5;">module</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">exports</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> app</span></span>
<span class="line"><span style="color:#005CC5;">exports</span><span style="color:#24292E;">.app </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> app</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//ES6è§„èŒƒ,è§£æ„è¦æ±‚æ ‡è¯†ç¬¦å¯¹åº”ï¼ˆä½†å¯ä»¥ç”¨asé‡å‘½åï¼‰ï¼Œå¼•å…¥export defaultè¿™ç§çš„å¯ä»¥è‡ªå®šä¹‰å˜é‡åï¼Œä¸€ä¸ªæ–‡ä»¶å¯ä»¥åŒæ—¶export defaultå’Œexport xxx</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> app </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;app&#39;</span><span style="color:#6A737D;">// export default xxx</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> {login,logout} </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;app&#39;</span><span style="color:#6A737D;">//export const xxx or export function xxx or export {login,logout,...} or export * from &#39;xxx&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;xxx&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> {login </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> logIn} </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;app&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> app ,{login} </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;app&#39;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">*</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> app </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;app&#39;</span></span></code></pre></div><h2 id="åŸå‹-prototype-âœï¸" tabindex="-1">åŸå‹ Prototype âœï¸ <a class="header-anchor" href="#åŸå‹-prototype-âœï¸" aria-label="Permalink to &quot;åŸå‹ Prototype âœï¸&quot;">â€‹</a></h2><p>JavaScriptä¸­çš„ç»§æ‰¿ã€‚åŸå‹æ³•è®¾è®¡çš„æ€æƒ³æ˜¯ä»ç±»Aæ‰©å±•å‡ºç±»Bï¼ŒBä»¥Aä¸ºåŸå‹ï¼Œå…·æœ‰Açš„å±æ€§ä¸æ–¹æ³•ã€‚JavaScriptä¸­æ¯ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰prototypeå±æ€§ã€‚</p><h2 id="é—­åŒ…" tabindex="-1">é—­åŒ… <a class="header-anchor" href="#é—­åŒ…" aria-label="Permalink to &quot;é—­åŒ…&quot;">â€‹</a></h2><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">function</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">outer</span><span style="color:#F6F6F4;">() {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> a </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">1</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">inner</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> () </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> { a</span><span style="color:#F286C4;">++</span><span style="color:#F6F6F4;">; console.</span><span style="color:#62E884;">log</span><span style="color:#F6F6F4;">(a) }</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> inner</span></span>
<span class="line"><span style="color:#F6F6F4;">      }</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">outer</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> a </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">inner</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> { a</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">; console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(a) }</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> inner</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span></code></pre></div><p>é—­åŒ…åˆ©ç”¨äº†å‡½æ•°çš„æ‰§è¡Œç¯å¢ƒï¼Œæ¯æ¬¡è¿”å›çš„inneréƒ½æœ‰ä¸åŒçš„æ‰§è¡Œç¯å¢ƒï¼Œæ„å‘³ç€ä¸åŒçš„inneråˆ†åˆ«æ‹¥æœ‰è‡ªå·±çš„aå€¼ã€‚</p><p>PSï¼šä¸Šæ¬¡é¢å¤´æ¡ï¼Œç«Ÿç„¶æ²¡æœ‰å†™å‡ºæ¥emmåƒä¸‡ä¸è¦åƒæˆ‘ä¸€æ ·ã€‚</p><h2 id="constructor-æ„é€ å‡½æ•°" tabindex="-1">constructor æ„é€ å‡½æ•° <a class="header-anchor" href="#constructor-æ„é€ å‡½æ•°" aria-label="Permalink to &quot;constructor æ„é€ å‡½æ•°&quot;">â€‹</a></h2><h2 id="åŸå‹é“¾-ç»§æ‰¿" tabindex="-1">åŸå‹é“¾&amp;ç»§æ‰¿ <a class="header-anchor" href="#åŸå‹é“¾-ç»§æ‰¿" aria-label="Permalink to &quot;åŸå‹é“¾&amp;ç»§æ‰¿&quot;">â€‹</a></h2><h2 id="promise" tabindex="-1"><a href="http://manual.local.guohere.com/JS/ES6.html#promise" target="_blank" rel="noreferrer">Promise</a> <a class="header-anchor" href="#promise" aria-label="Permalink to &quot;[Promise](http://manual.local.guohere.com/JS/ES6.html#promise)&quot;">â€‹</a></h2><h3 id="å‡½æ•°ç”Ÿæˆå™¨" tabindex="-1">å‡½æ•°ç”Ÿæˆå™¨ <a class="header-anchor" href="#å‡½æ•°ç”Ÿæˆå™¨" aria-label="Permalink to &quot;å‡½æ•°ç”Ÿæˆå™¨&quot;">â€‹</a></h3><h3 id="async-await" tabindex="-1">async...await <a class="header-anchor" href="#async-await" aria-label="Permalink to &quot;async...await&quot;">â€‹</a></h3><h2 id="å¹¶å‘æ¨¡å‹ä¸äº‹ä»¶å¾ªç¯" tabindex="-1">å¹¶å‘æ¨¡å‹ä¸äº‹ä»¶å¾ªç¯ <a class="header-anchor" href="#å¹¶å‘æ¨¡å‹ä¸äº‹ä»¶å¾ªç¯" aria-label="Permalink to &quot;å¹¶å‘æ¨¡å‹ä¸äº‹ä»¶å¾ªç¯&quot;">â€‹</a></h2><p>JavaScriptçš„å¹¶å‘æ¨¡å‹åŸºäºäº‹ä»¶å¾ªç¯ã€‚</p><p>å…ˆåŒæ­¥ï¼Œåå¼‚æ­¥ã€‚å…ˆæ‰§è¡Œå¾®ä»»åŠ¡ï¼Œåæ‰§è¡Œå®ä»»åŠ¡ã€‚</p><p><img src="https://developer.mozilla.org/files/4617/default.svg" alt="Stack, heap, queue"></p><h3 id="stack-æ ˆ" tabindex="-1">Stack æ ˆ <a class="header-anchor" href="#stack-æ ˆ" aria-label="Permalink to &quot;Stack æ ˆ&quot;">â€‹</a></h3><p>è¿™é‡Œçš„æ ˆæŒ‡å‡½æ•°è°ƒç”¨å½¢æˆçš„æ‰§è¡Œæ ˆã€‚å‡½æ•°å…·æœ‰å‚æ•°å’Œå±€éƒ¨å˜é‡ï¼Œå¦‚æœå‡½æ•°Aè°ƒç”¨äº†å‡½æ•°Bï¼Œå¹¶ä¸”æ‰§è¡Œå‡½æ•°Aï¼Œé‚£ä¹ˆå‡½æ•°Aä¼šè¢«å…ˆå‹å…¥æ ˆï¼Œè°ƒç”¨Bæ—¶ï¼Œå‡½æ•°Bè¢«å‹å…¥æ ˆï¼ˆä½äºAä¹‹ä¸Šï¼‰ï¼Œåˆ°å‡½æ•°Bè¿”å›ï¼Œå…¶è¢«å¼¹å‡ºã€‚</p><p>å‡½æ•°è¢«å‹å…¥æ ˆçš„å®é™…è¿‡ç¨‹æ˜¯å‹å…¥è°ƒç”¨å¸§ã€‚</p><h3 id="heap-å †" tabindex="-1">Heap å † <a class="header-anchor" href="#heap-å †" aria-label="Permalink to &quot;Heap å †&quot;">â€‹</a></h3><p>éç»“æ„åŒ–çš„å­˜å‚¨åŒºåŸŸï¼Œå…¶ä¸­å­˜å‚¨å¯¹è±¡ã€‚</p><h3 id="queue-é˜Ÿåˆ—" tabindex="-1">Queue é˜Ÿåˆ— <a class="header-anchor" href="#queue-é˜Ÿåˆ—" aria-label="Permalink to &quot;Queue é˜Ÿåˆ—&quot;">â€‹</a></h3><p>JavaScriptç»´æŠ¤ä¸€ä¸ªå¾…å¤„ç†çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œè€Œæ¯ä¸€ä¸ªæ¶ˆæ¯ä¸å¤„ç†å®ƒçš„å‡½æ•°å…³è”ã€‚åœ¨äº‹ä»¶å¾ªç¯ä¸­çš„æŸä¸ªç¯èŠ‚ï¼ŒJavaScriptæŒ‰é¡ºåºå¤„ç†Queueçš„æ¶ˆæ¯ã€‚</p><p>æ¯å½“è°ƒç”¨å¤„ç†æ¶ˆæ¯çš„å‡½æ•°ï¼Œå…¶å½¢æˆçš„è°ƒç”¨å¸§è¢«å‹å…¥æ ˆã€‚è¯¥å‡½æ•°å¯èƒ½ä¼šè°ƒç”¨å…¶ä»–å‡½æ•°ï¼Œå› æ­¤åªæœ‰å½“æ‰§è¡Œæ ˆä¸ºç©ºï¼ŒJavaScriptæ‰èƒ½ç»§ç»­å¤„ç†ä¸‹ä¸€ä¸ªæ¶ˆæ¯ã€‚æœ€ç»ˆï¼Œæ¶ˆæ¯é˜Ÿåˆ—ä¸ºç©ºã€‚</p><h3 id="äº‹ä»¶å¾ªç¯" tabindex="-1">äº‹ä»¶å¾ªç¯ <a class="header-anchor" href="#äº‹ä»¶å¾ªç¯" aria-label="Permalink to &quot;äº‹ä»¶å¾ªç¯&quot;">â€‹</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">while</span><span style="color:#F6F6F4;"> (queue.</span><span style="color:#62E884;">waitForMessage</span><span style="color:#F6F6F4;">()){</span></span>
<span class="line"><span style="color:#F6F6F4;">  queue.</span><span style="color:#62E884;">processNextMessage</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">while</span><span style="color:#24292E;"> (queue.</span><span style="color:#6F42C1;">waitForMessage</span><span style="color:#24292E;">()){</span></span>
<span class="line"><span style="color:#24292E;">  queue.</span><span style="color:#6F42C1;">processNextMessage</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>ç§ï¼Œè¿™å°±æ˜¯äº‹ä»¶å¾ªç¯ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªå¤„ç†æ¶ˆæ¯çš„å¾ªç¯ã€‚å…¶ä¸­waitForMessageæ˜¯åŒæ­¥çš„ï¼Œå¦‚æœæ²¡æœ‰æ¶ˆæ¯ï¼Œå®ƒå°±ä¼šç­‰ã€‚</p><h4 id="ä¸æ‰“æ–­åœ°æ‰§è¡Œ" tabindex="-1">ä¸æ‰“æ–­åœ°æ‰§è¡Œ <a class="header-anchor" href="#ä¸æ‰“æ–­åœ°æ‰§è¡Œ" aria-label="Permalink to &quot;ä¸æ‰“æ–­åœ°æ‰§è¡Œ&quot;">â€‹</a></h4><p>å¦‚æœä½ ç†è§£äº†é˜Ÿåˆ—çš„æ‰§è¡Œæ–¹å¼ï¼Œé‚£ä¹ˆä½ ä¼šæ˜ç™½è¿™ç§å¤„ç†æ–¹å¼æ„å‘³ç€å‡½æ•°æ‰§è¡Œå†³ä¸ä¼šè¢«æŠ¢å ã€‚ï¼ˆç›¸å¯¹äºC/C++å¤šçº¿ç¨‹ï¼Œä½ ä¸å¾—ä¸è€ƒè™‘å‡½æ•°è¢«ä¸­æ–­çš„æƒ…å†µï¼‰è¿™ä¸ºç¼–ç¨‹å’Œåˆ†æå¸¦æ¥äº†ä¾¿åˆ©ï¼Œä½†ä»£ä»·æ˜¯æ¶ˆæ¯å¤„ç†å‡½æ•°å¯èƒ½ä¼šé•¿æ—¶é—´é˜»å¡å…¶ä»–äº‹ä»¶ï¼Œå¦‚ç”¨æˆ·çš„ç‚¹å‡»ã€æ»‘åŠ¨ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæµè§ˆå™¨ä¼šæç¤ºæ— å“åº”ï¼Œç”¨æˆ·å¯ä»¥é€‰æ‹©ç­‰å¾…æˆ–ç»“æŸè¿›ç¨‹ã€‚</p><h4 id="ä¸é˜»å¡" tabindex="-1">ä¸é˜»å¡ <a class="header-anchor" href="#ä¸é˜»å¡" aria-label="Permalink to &quot;ä¸é˜»å¡&quot;">â€‹</a></h4><p>MDNå£°ç§°JavaScriptâ€œæ°¸ä¸é˜»å¡â€ï¼Œè¿™å½“ç„¶æ˜¯ä¸å¯¹çš„ï¼Œä¾‹å¦‚<code>alert()</code>ä¸åŒæ­¥XHRçš„åœºæ™¯ï¼Œä½†å¦‚æ­¤å£°ç§°æœ‰å®ƒçš„ç†ç”±ã€‚JavaScriptä¸­I/Oé€šå¸¸é‡‡ç”¨äº‹ä»¶å›è°ƒçš„å½¢å¼å®Œæˆï¼Œè¿™æ„å‘³ç€I/Oä¸ä¼šå½±å“å…¶ä½™ä»£ç æ‰§è¡Œã€‚</p><h4 id="æ·»åŠ æ¶ˆæ¯" tabindex="-1">æ·»åŠ æ¶ˆæ¯ <a class="header-anchor" href="#æ·»åŠ æ¶ˆæ¯" aria-label="Permalink to &quot;æ·»åŠ æ¶ˆæ¯&quot;">â€‹</a></h4><p>äº‹ä»¶éœ€è¦ç»‘å®šç›‘å¬å™¨ä»¥è¢«ç›‘å¬ï¼Œå¦åˆ™äº‹ä»¶å°†ä¸¢å¤±ã€‚ä¾‹å¦‚ç”¨æˆ·ç‚¹å‡»æŒ‰é’®å¹¶è¢«ç›‘å¬åˆ°æ—¶ï¼Œæ¶ˆæ¯é˜Ÿåˆ—å°±å¤šäº†ä¸€ä¸ªæ¶ˆæ¯ã€‚</p><p>setTimeout(handler, timeOut)å…è®¸å‘é˜Ÿåˆ—æ·»åŠ æ¶ˆæ¯ï¼Œå¹¶ä¸”è®¾ç½®æœ€å°è§¦å‘å»¶æ—¶ã€‚å»¶æ—¶å¯èƒ½å¤§äºè®¾å®šçš„æ—¶é—´ï¼Œå› ä¸ºé¢„å®šçš„æ—¶é—´å†…JavaScriptå¯èƒ½æ­£åœ¨å¤„ç†å…¶ä»–æ¶ˆæ¯ï¼ˆå³ä½¿å»¶æ—¶è®¾ç½®ä¸º0ä¹Ÿä¸€æ ·ï¼Œå¹¶ä¸”H5æ ‡å‡†è§„å®šæœ€å°é—´éš”ä¸º4msï¼‰ã€‚ä¸€ä¸ªç®€å•çš„ä¾‹å­æ˜¯ï¼Œå…ˆè®¾å®šä¸€ä¸ªå®šæ—¶æ‰§è¡Œçš„å‡½æ•°ï¼Œå†ä»¤JavaScriptè¿›å…¥æ— é™å¾ªç¯ï¼Œæ— è®ºä½•æ—¶è¢«è®¾å®šçš„å‡½æ•°éƒ½ä¸ä¼šæ‰§è¡Œã€‚</p><h4 id="åŒæ­¥ä»£ç " tabindex="-1">åŒæ­¥ä»£ç  <a class="header-anchor" href="#åŒæ­¥ä»£ç " aria-label="Permalink to &quot;åŒæ­¥ä»£ç &quot;">â€‹</a></h4><p>JavaScriptçš„åŒæ­¥æ‰§è¡Œä»£ç å¯ä»¥ç†è§£æˆç¬¬ä¸€æ¡æ¶ˆæ¯çš„å¤„ç†å‡½æ•°ï¼Œåœ¨å®ƒæ‰§è¡Œå®Œå‰ï¼Œä¸ä¼šæœ‰å…¶ä»–æ¶ˆæ¯è¢«å¤„ç†ã€‚</p><h3 id="runtimeé—´é€šä¿¡" tabindex="-1">Runtimeé—´é€šä¿¡ <a class="header-anchor" href="#runtimeé—´é€šä¿¡" aria-label="Permalink to &quot;Runtimeé—´é€šä¿¡&quot;">â€‹</a></h3><p>JavaScriptè™½ç„¶æ˜¯å•çº¿ç¨‹ï¼Œä½†è·¨åŸŸiframeå’Œweb workeréƒ½æ˜¯ç‹¬ç«‹çš„runtimeã€‚ä»–ä»¬èƒ½ä¸”åªèƒ½ç”¨<code>postMessage()</code>å‘é€æ¶ˆæ¯ï¼Œå¹¶ç›‘å¬<code>message</code>äº‹ä»¶ã€‚</p><h3 id="å®ä»»åŠ¡ä¸å¾®ä»»åŠ¡" tabindex="-1">å®ä»»åŠ¡ä¸å¾®ä»»åŠ¡ <a class="header-anchor" href="#å®ä»»åŠ¡ä¸å¾®ä»»åŠ¡" aria-label="Permalink to &quot;å®ä»»åŠ¡ä¸å¾®ä»»åŠ¡&quot;">â€‹</a></h3><p>å¾®ä»»åŠ¡å’Œå®ä»»åŠ¡æŒ‡çš„æ˜¯setTimeoutä¸€æ ·éœ€è¦è¢«åŠ å…¥é˜Ÿåˆ—æ‰§è¡Œçš„å¼‚æ­¥ä»£ç ï¼Œè€Œå¾®ä»»åŠ¡ä¸€å®šä½äºå®ä»»åŠ¡ä¹‹å‰ã€‚</p><p>å…ˆç¥­ä¸Šè¿™æ®µå¸¸è§ä»£ç ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#62E884;">setTimeout</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">_</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> console.</span><span style="color:#62E884;">log</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">4</span><span style="color:#F6F6F4;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Promise</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">resolve</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#62E884;">resolve</span><span style="color:#F6F6F4;">()</span></span>
<span class="line"><span style="color:#F6F6F4;">  console.</span><span style="color:#62E884;">log</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">}).</span><span style="color:#62E884;">then</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">_</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  console.</span><span style="color:#62E884;">log</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">3</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">console.</span><span style="color:#62E884;">log</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">2</span><span style="color:#F6F6F4;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">setTimeout</span><span style="color:#24292E;">(</span><span style="color:#E36209;">_</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">4</span><span style="color:#24292E;">))</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">Promise</span><span style="color:#24292E;">(</span><span style="color:#E36209;">resolve</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">resolve</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">}).</span><span style="color:#6F42C1;">then</span><span style="color:#24292E;">(</span><span style="color:#E36209;">_</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">3</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">)</span></span></code></pre></div><p>Promiseæ˜¯åŒæ­¥ä»£ç ï¼ŒPromise.thenæ‰æ˜¯å¼‚æ­¥ä»£ç ï¼Œæ‰€ä»¥1ï¼Œ2çš„é¡ºåºæ˜¯æ¯«æ— ç–‘é—®çš„ã€‚3ï¼Œ4éƒ½æ˜¯å¼‚æ­¥ä»»åŠ¡ï¼Œä¸ºä»€ä¹ˆ3åœ¨4å‰é¢å‘¢ï¼Ÿå¦‚æœä»¥äº‹ä»¶é˜Ÿåˆ—ç†è§£ï¼Œ4åº”è¯¥åœ¨3å‰é¢ï¼Œä½†ç”±äº3æ˜¯å¾®ä»»åŠ¡ï¼Œ4æ˜¯å®ä»»åŠ¡ï¼Œ3åº”è¯¥åœ¨4ä¹‹å‰è¢«å¤„ç†ã€‚</p><p>å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡éƒ½å­˜åœ¨äºäº‹ä»¶å¾ªç¯ï¼Œä½†å¾®ä»»åŠ¡å°½ç®¡æ·»åŠ æ—¶é—´å¯èƒ½æ¯”å®ä»»åŠ¡æ™šï¼Œä»ç„¶è¦åœ¨ä¸‹ä¸€ä¸ªå®ä»»åŠ¡æ‰§è¡Œå‰æ‰§è¡Œã€‚äº‹ä»¶å¾ªç¯å¤„ç†æ¶ˆæ¯ç›¸å½“äºæœ‰ä¸¤ä¸ªæ­¥éª¤ï¼Œç¬¬ä¸€æ­¥æ£€æŸ¥å½“å‰æ˜¯å¦æœ‰å¾®ä»»åŠ¡ï¼ˆå¾®ä»»åŠ¡è™½ç„¶ä¹Ÿæ˜¯å¼‚æ­¥ä»£ç ï¼Œä½†å¯ä»¥çœ‹ä½œä¸åœ¨æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œå› ä¸ºå®ƒä¼šâ€œæ’é˜Ÿâ€ï¼‰ï¼Œå¦‚æœæœ‰å…ˆå®Œæˆï¼Œç¬¬äºŒæ­¥æ‰§è¡Œå®ä»»åŠ¡å¹¶åœ¨é˜Ÿåˆ—ä¸­å¯»æ‰¾ä¸‹ä¸€ä¸ªæ¶ˆæ¯ã€‚</p><p>å¦‚æœåœ¨å®ä»»åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­æ·»åŠ å¾®ä»»åŠ¡ï¼Œé‚£ä¹ˆå®ƒä¼šåœ¨ä¸‹ä¸€ä¸ªå®ä»»åŠ¡æ‰§è¡Œå‰æ‰§è¡Œã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#62E884;">setTimeout</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">_</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">Promise</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">resolve</span><span style="color:#F6F6F4;">().</span><span style="color:#62E884;">then</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">_</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> { console.</span><span style="color:#62E884;">log</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">Micro</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">) });</span></span>
<span class="line"><span style="color:#F6F6F4;">    console.</span><span style="color:#62E884;">log</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">Macro</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">})</span></span>
<span class="line"><span style="color:#7B7F8B;">//Macro</span></span>
<span class="line"><span style="color:#7B7F8B;">//Micro</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">two</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> (</span><span style="color:#FFB86C;font-style:italic;">date</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> { </span><span style="color:#F286C4;">while</span><span style="color:#F6F6F4;"> (Date.</span><span style="color:#62E884;">now</span><span style="color:#F6F6F4;">() </span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;"> date </span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">2000</span><span style="color:#F6F6F4;">) { } }</span></span>
<span class="line"><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">twoWithPromise</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> (</span><span style="color:#FFB86C;font-style:italic;">date</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">Promise</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">resolve</span><span style="color:#F6F6F4;">().</span><span style="color:#62E884;">then</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">_</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> console.</span><span style="color:#62E884;">log</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">Promise</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">));</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">while</span><span style="color:#F6F6F4;"> (Date.</span><span style="color:#62E884;">now</span><span style="color:#F6F6F4;">() </span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;"> date </span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">2000</span><span style="color:#F6F6F4;">) { }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">fdd</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> () </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> d </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> Date.</span><span style="color:#62E884;">now</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">setTimeout</span><span style="color:#F6F6F4;">(twoWithPromise, </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;">, d);</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">setTimeout</span><span style="color:#F6F6F4;">(two, </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;">, d);</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">setTimeout</span><span style="color:#F6F6F4;">(two, </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;">, d)</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#7B7F8B;">//2ç§’åè¾“å‡ºPromiseï¼Œè¯´æ˜twoWithPromiseçš„ç¡®èŠ±äº†2sï¼Œä¹‹åPromise.thenæ‰§è¡Œï¼Œå†ä¹‹åæ‰æ˜¯ä¸‹ä¸€ä¸ªsetTimeout</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">setTimeout</span><span style="color:#24292E;">(</span><span style="color:#E36209;">_</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">Promise</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">resolve</span><span style="color:#24292E;">().</span><span style="color:#6F42C1;">then</span><span style="color:#24292E;">(</span><span style="color:#E36209;">_</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> { console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;Micro&quot;</span><span style="color:#24292E;">) });</span></span>
<span class="line"><span style="color:#24292E;">    console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;Macro&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">})</span></span>
<span class="line"><span style="color:#6A737D;">//Macro</span></span>
<span class="line"><span style="color:#6A737D;">//Micro</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">two</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">date</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> { </span><span style="color:#D73A49;">while</span><span style="color:#24292E;"> (Date.</span><span style="color:#6F42C1;">now</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">-</span><span style="color:#24292E;"> date </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2000</span><span style="color:#24292E;">) { } }</span></span>
<span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">twoWithPromise</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (</span><span style="color:#E36209;">date</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">Promise</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">resolve</span><span style="color:#24292E;">().</span><span style="color:#6F42C1;">then</span><span style="color:#24292E;">(</span><span style="color:#E36209;">_</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;Promise&#39;</span><span style="color:#24292E;">));</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">while</span><span style="color:#24292E;"> (Date.</span><span style="color:#6F42C1;">now</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">-</span><span style="color:#24292E;"> date </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2000</span><span style="color:#24292E;">) { }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">fdd</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> d </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> Date.</span><span style="color:#6F42C1;">now</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">setTimeout</span><span style="color:#24292E;">(twoWithPromise, </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">, d);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">setTimeout</span><span style="color:#24292E;">(two, </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">, d);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">setTimeout</span><span style="color:#24292E;">(two, </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">, d)</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6A737D;">//2ç§’åè¾“å‡ºPromiseï¼Œè¯´æ˜twoWithPromiseçš„ç¡®èŠ±äº†2sï¼Œä¹‹åPromise.thenæ‰§è¡Œï¼Œå†ä¹‹åæ‰æ˜¯ä¸‹ä¸€ä¸ªsetTimeout</span></span></code></pre></div><p>æˆ‘åœ¨æ˜é‡‘ä¸Šçœ‹åˆ°æœ‰äººè¯´requestAnimationFrame()çš„è§¦å‘è¦å…ˆäºsetTimeout()ï¼Œä»–è¯´è¿™æ˜¯å› ä¸ºä¿®æ”¹DOMå±æ€§æ˜¯åŒæ­¥æ“ä½œï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸å¯¹çš„ï¼ŒåŒæ­¥åªæ˜¯æ³¨å†Œç›‘å¬å™¨ã€‚å‚è€ƒè¯„è®ºï¼Œç†æƒ³æƒ…å†µä¸‹requestAnimationFrameå¯¹äº60Hzçš„æ˜¾ç¤ºå™¨æ¥è¯´æ¯16.6msæ‰§è¡Œä¸€æ¬¡ï¼Œè€ŒsetTimeout(handler,0)æ—¢å¯èƒ½æ˜¯4msæ‰§è¡Œä¸€æ¬¡ï¼Œä¹Ÿå¯èƒ½ç”±äºé¡µé¢é‡æ–°æ¸²æŸ“ï¼Œæœ€å°é—´éš”å˜ä¸º16msã€‚å½“å±å¹•åˆ·æ–°ç‡å˜é«˜ï¼ŒrequestAnimationFrameå°†åœ¨setTimeout()ä¹‹å‰ã€‚</p><h4 id="å®ä»»åŠ¡ä¸å¾®ä»»åŠ¡è¡¨æ ¼" tabindex="-1">å®ä»»åŠ¡ä¸å¾®ä»»åŠ¡è¡¨æ ¼ <a class="header-anchor" href="#å®ä»»åŠ¡ä¸å¾®ä»»åŠ¡è¡¨æ ¼" aria-label="Permalink to &quot;å®ä»»åŠ¡ä¸å¾®ä»»åŠ¡è¡¨æ ¼&quot;">â€‹</a></h4><table><thead><tr><th>å‡½æ•°/è¿‡ç¨‹</th><th>å®ä»»åŠ¡</th><th>å¾®ä»»åŠ¡</th></tr></thead><tbody><tr><td>I/O</td><td>âœ…</td><td></td></tr><tr><td>setTimeout</td><td>âœ…</td><td></td></tr><tr><td>setInterval</td><td>âœ…</td><td></td></tr><tr><td>Promise.then/catch/finally</td><td></td><td>âœ…</td></tr><tr><td>setImmediateï¼ˆNodeJSï¼‰</td><td>âœ…</td><td></td></tr><tr><td>requestAnimationFrameï¼ˆBrowserï¼‰</td><td>âœ…</td><td></td></tr><tr><td>process.nextTickï¼ˆNodeJSï¼‰</td><td></td><td>âœ…</td></tr><tr><td>MutationObserverï¼ˆBrowserï¼‰</td><td></td><td>âœ…</td></tr></tbody></table><h2 id="é˜²æŠ–-èŠ‚æµ" tabindex="-1">é˜²æŠ–&amp;èŠ‚æµ <a class="header-anchor" href="#é˜²æŠ–-èŠ‚æµ" aria-label="Permalink to &quot;é˜²æŠ–&amp;èŠ‚æµ&quot;">â€‹</a></h2><h2 id="ajax-fetch" tabindex="-1">AJAX&amp;Fetch <a class="header-anchor" href="#ajax-fetch" aria-label="Permalink to &quot;AJAX&amp;Fetch&quot;">â€‹</a></h2><h2 id="ç®­å¤´å‡½æ•°" tabindex="-1">ç®­å¤´å‡½æ•° <a class="header-anchor" href="#ç®­å¤´å‡½æ•°" aria-label="Permalink to &quot;ç®­å¤´å‡½æ•°&quot;">â€‹</a></h2><p><code>(arguments)=&gt;{statement}</code></p><p>ç®­å¤´å‡½æ•°çš„ç‰¹æ€§ï¼š</p><ol><li>è‡ªåŠ¨ç»‘å®šåˆå§‹åŒ–ç¯å¢ƒçš„this</li><li>æ²¡æœ‰argumentså¯¹è±¡</li><li>ä¸å¯ä»¥ä½œä¸ºconstructorï¼Œäº¦æ— prototype</li><li>ä¸å¯ä½œä¸ºgeneratorå‡½æ•°</li></ol><h2 id="åƒåœ¾å›æ”¶" tabindex="-1">åƒåœ¾å›æ”¶ <a class="header-anchor" href="#åƒåœ¾å›æ”¶" aria-label="Permalink to &quot;åƒåœ¾å›æ”¶&quot;">â€‹</a></h2><p>æ¯éš”ä¸€æ®µæ—¶é—´ï¼Œç³»ç»Ÿæˆ–è™šæ‹Ÿæœºæœç´¢æœªè¢«å¼•ç”¨çš„å˜é‡ï¼Œå¹¶é‡Šæ”¾å…¶ç”³è¯·çš„ç©ºé—´ã€‚</p><h2 id="è£…é¥°å™¨" tabindex="-1">è£…é¥°å™¨ <a class="header-anchor" href="#è£…é¥°å™¨" aria-label="Permalink to &quot;è£…é¥°å™¨&quot;">â€‹</a></h2><h2 id="typescript" tabindex="-1">TypeScript <a class="header-anchor" href="#typescript" aria-label="Permalink to &quot;TypeScript&quot;">â€‹</a></h2><p>TSè¯é¢˜æ¯”è¾ƒå¤§ï¼Œè¿™é‡Œåªåšç®€å•ä»‹ç»ã€‚</p><h2 id="å‚è€ƒ" tabindex="-1">å‚è€ƒ <a class="header-anchor" href="#å‚è€ƒ" aria-label="Permalink to &quot;å‚è€ƒ&quot;">â€‹</a></h2><p><a href="https://www.cnblogs.com/sunshq/p/7922182.html" target="_blank" rel="noreferrer">https://www.cnblogs.com/sunshq/p/7922182.html</a></p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/EventLoop" target="_blank" rel="noreferrer">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/EventLoop</a></p><p><a href="https://juejin.im/post/5b73d7a6518825610072b42b" target="_blank" rel="noreferrer">https://juejin.im/post/5b73d7a6518825610072b42b</a></p>`,164),e=[o];function t(c,r,y,F,i,E){return a(),n("div",null,e)}const u=s(p,[["render",t]]);export{h as __pageData,u as default};
