import{_ as s,o as n,c as a,V as l}from"./chunks/framework.c6d8cbec.js";const d=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"frontend/graph/DHTMLX.md","filePath":"frontend/graph/DHTMLX.md"}'),p={name:"frontend/graph/DHTMLX.md"},o=l(`<h2 id="vue中使用dhtmlxgantt" tabindex="-1">vue中使用dhtmlxGantt <a class="header-anchor" href="#vue中使用dhtmlxgantt" aria-label="Permalink to &quot;vue中使用dhtmlxGantt&quot;">​</a></h2><h3 id="_1-准备dhtmlx-gantt模块" tabindex="-1">1 准备dhtmlx-gantt模块 <a class="header-anchor" href="#_1-准备dhtmlx-gantt模块" aria-label="Permalink to &quot;1 准备dhtmlx-gantt模块&quot;">​</a></h3><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#f6f6f4;">npm install dhtmlx-gantt</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">npm install dhtmlx-gantt</span></span></code></pre></div><h3 id="_2-编码" tabindex="-1">2 编码 <a class="header-anchor" href="#_2-编码" aria-label="Permalink to &quot;2 编码&quot;">​</a></h3><p>新建gantt.vue文件，在文件加入以下代码</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#f6f6f4;">&lt;template&gt;</span></span>
<span class="line"><span style="color:#f6f6f4;">  &lt;div class=&quot;app-container&quot;&gt;</span></span>
<span class="line"><span style="color:#f6f6f4;">    &lt;div ref=&quot;gantt&quot; class=&quot;left-container&quot; /&gt;</span></span>
<span class="line"><span style="color:#f6f6f4;">  &lt;/div&gt;</span></span>
<span class="line"><span style="color:#f6f6f4;">&lt;/template&gt;</span></span>
<span class="line"><span style="color:#f6f6f4;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#f6f6f4;">import gantt from &#39;dhtmlx-gantt&#39;  // 引入模块</span></span>
<span class="line"><span style="color:#f6f6f4;">import &#39;dhtmlx-gantt/codebase/dhtmlxgantt.css&#39;</span></span>
<span class="line"><span style="color:#f6f6f4;">import &#39;dhtmlx-gantt/codebase/locale/locale_cn&#39;  // 本地化</span></span>
<span class="line"><span style="color:#f6f6f4;">export default {</span></span>
<span class="line"><span style="color:#f6f6f4;">  name: &#39;DhtmlxGantt&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">  data() {</span></span>
<span class="line"><span style="color:#f6f6f4;">      return {</span></span>
<span class="line"><span style="color:#f6f6f4;">      tasks: {</span></span>
<span class="line"><span style="color:#f6f6f4;">        data: [</span></span>
<span class="line"><span style="color:#f6f6f4;">          { id: 1, text: &#39;Task #1&#39;, start_date: &#39;15-04-2017&#39;, personName: &#39;张总&#39;, duration: 3, progress: 0.6 },</span></span>
<span class="line"><span style="color:#f6f6f4;">          { id: 2, text: &#39;Task #2&#39;, start_date: &#39;18-04-2017&#39;, personName: &#39;李总&#39;, duration: 3, progress: 0.4 },</span></span>
<span class="line"><span style="color:#f6f6f4;">          { id: 3, text: &#39;Task #2-1&#39;, start_date: &#39;20-04-2017&#39;, personName: &#39;赵总&#39;, duration: 3, progress: 0.4, parent: 2 }</span></span>
<span class="line"><span style="color:#f6f6f4;">        ],</span></span>
<span class="line"><span style="color:#f6f6f4;">        links: [</span></span>
<span class="line"><span style="color:#f6f6f4;">          { id: 1, source: 1, target: 2, type: &#39;0&#39; }</span></span>
<span class="line"><span style="color:#f6f6f4;">        ]</span></span>
<span class="line"><span style="color:#f6f6f4;">      }</span></span>
<span class="line"><span style="color:#f6f6f4;">    }</span></span>
<span class="line"><span style="color:#f6f6f4;">  }</span></span>
<span class="line"><span style="color:#f6f6f4;">  mounted() {</span></span>
<span class="line"><span style="color:#f6f6f4;">    // 初始化</span></span>
<span class="line"><span style="color:#f6f6f4;">    gantt.init(this.$refs.gantt)</span></span>
<span class="line"><span style="color:#f6f6f4;">    // 数据解析</span></span>
<span class="line"><span style="color:#f6f6f4;">    gantt.parse(this.$props.tasks)</span></span>
<span class="line"><span style="color:#f6f6f4;">  }</span></span>
<span class="line"><span style="color:#f6f6f4;">}</span></span>
<span class="line"><span style="color:#f6f6f4;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#f6f6f4;">&lt;style&gt;</span></span>
<span class="line"><span style="color:#f6f6f4;">  .left-container {</span></span>
<span class="line"><span style="color:#f6f6f4;">    height: 600px;</span></span>
<span class="line"><span style="color:#f6f6f4;">  }</span></span>
<span class="line"><span style="color:#f6f6f4;">&lt;/style&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">&lt;template&gt;</span></span>
<span class="line"><span style="color:#24292e;">  &lt;div class=&quot;app-container&quot;&gt;</span></span>
<span class="line"><span style="color:#24292e;">    &lt;div ref=&quot;gantt&quot; class=&quot;left-container&quot; /&gt;</span></span>
<span class="line"><span style="color:#24292e;">  &lt;/div&gt;</span></span>
<span class="line"><span style="color:#24292e;">&lt;/template&gt;</span></span>
<span class="line"><span style="color:#24292e;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#24292e;">import gantt from &#39;dhtmlx-gantt&#39;  // 引入模块</span></span>
<span class="line"><span style="color:#24292e;">import &#39;dhtmlx-gantt/codebase/dhtmlxgantt.css&#39;</span></span>
<span class="line"><span style="color:#24292e;">import &#39;dhtmlx-gantt/codebase/locale/locale_cn&#39;  // 本地化</span></span>
<span class="line"><span style="color:#24292e;">export default {</span></span>
<span class="line"><span style="color:#24292e;">  name: &#39;DhtmlxGantt&#39;,</span></span>
<span class="line"><span style="color:#24292e;">  data() {</span></span>
<span class="line"><span style="color:#24292e;">      return {</span></span>
<span class="line"><span style="color:#24292e;">      tasks: {</span></span>
<span class="line"><span style="color:#24292e;">        data: [</span></span>
<span class="line"><span style="color:#24292e;">          { id: 1, text: &#39;Task #1&#39;, start_date: &#39;15-04-2017&#39;, personName: &#39;张总&#39;, duration: 3, progress: 0.6 },</span></span>
<span class="line"><span style="color:#24292e;">          { id: 2, text: &#39;Task #2&#39;, start_date: &#39;18-04-2017&#39;, personName: &#39;李总&#39;, duration: 3, progress: 0.4 },</span></span>
<span class="line"><span style="color:#24292e;">          { id: 3, text: &#39;Task #2-1&#39;, start_date: &#39;20-04-2017&#39;, personName: &#39;赵总&#39;, duration: 3, progress: 0.4, parent: 2 }</span></span>
<span class="line"><span style="color:#24292e;">        ],</span></span>
<span class="line"><span style="color:#24292e;">        links: [</span></span>
<span class="line"><span style="color:#24292e;">          { id: 1, source: 1, target: 2, type: &#39;0&#39; }</span></span>
<span class="line"><span style="color:#24292e;">        ]</span></span>
<span class="line"><span style="color:#24292e;">      }</span></span>
<span class="line"><span style="color:#24292e;">    }</span></span>
<span class="line"><span style="color:#24292e;">  }</span></span>
<span class="line"><span style="color:#24292e;">  mounted() {</span></span>
<span class="line"><span style="color:#24292e;">    // 初始化</span></span>
<span class="line"><span style="color:#24292e;">    gantt.init(this.$refs.gantt)</span></span>
<span class="line"><span style="color:#24292e;">    // 数据解析</span></span>
<span class="line"><span style="color:#24292e;">    gantt.parse(this.$props.tasks)</span></span>
<span class="line"><span style="color:#24292e;">  }</span></span>
<span class="line"><span style="color:#24292e;">}</span></span>
<span class="line"><span style="color:#24292e;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#24292e;">&lt;style&gt;</span></span>
<span class="line"><span style="color:#24292e;">  .left-container {</span></span>
<span class="line"><span style="color:#24292e;">    height: 600px;</span></span>
<span class="line"><span style="color:#24292e;">  }</span></span>
<span class="line"><span style="color:#24292e;">&lt;/style&gt;</span></span></code></pre></div><p>这样，基本的甘特图就已经搭建出来了，如下图</p><p><img src="https://upload-images.jianshu.io/upload_images/16286302-b1ac4b702484a24c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p><p>可以看到上图的时间轴上只有月和日，那加个年份的显示是不是更完美，说加就加<br> 我们可在甘特图初始化之前加入配置，如下：</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#f6f6f4;">mounted() {</span></span>
<span class="line"><span style="color:#f6f6f4;">    // 在时间线上增加一行年份显示</span></span>
<span class="line"><span style="color:#f6f6f4;">    gantt.config.subscales = [</span></span>
<span class="line"><span style="color:#f6f6f4;">      {</span></span>
<span class="line"><span style="color:#f6f6f4;">        unit: &#39;year&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">        step: 1,</span></span>
<span class="line"><span style="color:#f6f6f4;">        date: &#39;%Y&#39;</span></span>
<span class="line"><span style="color:#f6f6f4;">      }</span></span>
<span class="line"><span style="color:#f6f6f4;">    ]</span></span>
<span class="line"><span style="color:#f6f6f4;">  // 初始化</span></span>
<span class="line"><span style="color:#f6f6f4;">  gantt.init(this.$refs.gantt)</span></span>
<span class="line"><span style="color:#f6f6f4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">mounted() {</span></span>
<span class="line"><span style="color:#24292e;">    // 在时间线上增加一行年份显示</span></span>
<span class="line"><span style="color:#24292e;">    gantt.config.subscales = [</span></span>
<span class="line"><span style="color:#24292e;">      {</span></span>
<span class="line"><span style="color:#24292e;">        unit: &#39;year&#39;,</span></span>
<span class="line"><span style="color:#24292e;">        step: 1,</span></span>
<span class="line"><span style="color:#24292e;">        date: &#39;%Y&#39;</span></span>
<span class="line"><span style="color:#24292e;">      }</span></span>
<span class="line"><span style="color:#24292e;">    ]</span></span>
<span class="line"><span style="color:#24292e;">  // 初始化</span></span>
<span class="line"><span style="color:#24292e;">  gantt.init(this.$refs.gantt)</span></span>
<span class="line"><span style="color:#24292e;">}</span></span></code></pre></div><p><img src="https://upload-images.jianshu.io/upload_images/16286302-b82ad4990a52fccb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p><h3 id="甘特图样例" tabindex="-1">甘特图样例<img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/72305df681614672b35fec083b871b9b~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image" alt=""> <a class="header-anchor" href="#甘特图样例" aria-label="Permalink to &quot;甘特图样例![](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/72305df681614672b35fec083b871b9b~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image)&quot;">​</a></h3><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#f6f6f4;">自定义表头列</span></span>
<span class="line"><span style="color:#f6f6f4;">gantt.config.columns = [</span></span>
<span class="line"><span style="color:#f6f6f4;">      { name: &quot;project_num&quot;, label: &quot;项目编码&quot;, width: 80,align: &quot;center&quot;},</span></span>
<span class="line"><span style="color:#f6f6f4;">      { name: &quot;project_type&quot;, label: &quot;项目类别&quot;, width: 80, align: &quot;center&quot;},</span></span>
<span class="line"><span style="color:#f6f6f4;">      { name: &quot;text&quot;, label: &quot;项目名称&quot;, width: 100, align: &quot;center&quot; },</span></span>
<span class="line"><span style="color:#f6f6f4;">     // { name: &quot;add&quot;, label: &quot;&quot; }, // ➕icon列显示 点击弹出添加框 隐藏没有</span></span>
<span class="line"><span style="color:#f6f6f4;">    ];</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">自定义表头列</span></span>
<span class="line"><span style="color:#24292e;">gantt.config.columns = [</span></span>
<span class="line"><span style="color:#24292e;">      { name: &quot;project_num&quot;, label: &quot;项目编码&quot;, width: 80,align: &quot;center&quot;},</span></span>
<span class="line"><span style="color:#24292e;">      { name: &quot;project_type&quot;, label: &quot;项目类别&quot;, width: 80, align: &quot;center&quot;},</span></span>
<span class="line"><span style="color:#24292e;">      { name: &quot;text&quot;, label: &quot;项目名称&quot;, width: 100, align: &quot;center&quot; },</span></span>
<span class="line"><span style="color:#24292e;">     // { name: &quot;add&quot;, label: &quot;&quot; }, // ➕icon列显示 点击弹出添加框 隐藏没有</span></span>
<span class="line"><span style="color:#24292e;">    ];</span></span></code></pre></div><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bfe4606b5f3044248411eeb5f4ef22ff~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image" alt=""></p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#f6f6f4;">时间安排显示代码块</span></span>
<span class="line"><span style="color:#f6f6f4;">gantt.config.scale_unit = &quot;year&quot;; //第一个时间尺度，即X轴的单位，包括：&quot;minute&quot;, &quot;hour&quot;, &quot;day&quot;, &quot;week&quot;, &quot;month&quot;, &quot;year&quot;</span></span>
<span class="line"><span style="color:#f6f6f4;">gantt.config.step = 1;</span></span>
<span class="line"><span style="color:#f6f6f4;">gantt.config.date_scale=&quot;%Y&quot;;</span></span>
<span class="line"><span style="color:#f6f6f4;">gantt.config.start_date= new Date(2020,0,1) // 0代表1月 11代表12月</span></span>
<span class="line"><span style="color:#f6f6f4;">gantt.config.end_date= new Date(2025,11,31) // 0代表1月 11代表12月</span></span>
<span class="line"><span style="color:#f6f6f4;"></span></span>
<span class="line"><span style="color:#f6f6f4;">// gantt.config.subscales = [ //第二个时间尺度单位</span></span>
<span class="line"><span style="color:#f6f6f4;">//         { unit: &quot;day&quot;, step: 1, date: &quot;%D&quot; }</span></span>
<span class="line"><span style="color:#f6f6f4;">//     ];</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">时间安排显示代码块</span></span>
<span class="line"><span style="color:#24292e;">gantt.config.scale_unit = &quot;year&quot;; //第一个时间尺度，即X轴的单位，包括：&quot;minute&quot;, &quot;hour&quot;, &quot;day&quot;, &quot;week&quot;, &quot;month&quot;, &quot;year&quot;</span></span>
<span class="line"><span style="color:#24292e;">gantt.config.step = 1;</span></span>
<span class="line"><span style="color:#24292e;">gantt.config.date_scale=&quot;%Y&quot;;</span></span>
<span class="line"><span style="color:#24292e;">gantt.config.start_date= new Date(2020,0,1) // 0代表1月 11代表12月</span></span>
<span class="line"><span style="color:#24292e;">gantt.config.end_date= new Date(2025,11,31) // 0代表1月 11代表12月</span></span>
<span class="line"><span style="color:#24292e;"></span></span>
<span class="line"><span style="color:#24292e;">// gantt.config.subscales = [ //第二个时间尺度单位</span></span>
<span class="line"><span style="color:#24292e;">//         { unit: &quot;day&quot;, step: 1, date: &quot;%D&quot; }</span></span>
<span class="line"><span style="color:#24292e;">//     ];</span></span></code></pre></div><p>data数据结构中 render 属性有无区别 <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e6ec7b131e8944e9ae8951873cd41610~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image" alt=""> <img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/646de095dbdb45c69a698dfd44cd8523~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image" alt=""></p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#f6f6f4;">数据结构</span></span>
<span class="line"><span style="color:#f6f6f4;"> data: [</span></span>
<span class="line"><span style="color:#f6f6f4;">          {</span></span>
<span class="line"><span style="color:#f6f6f4;">            id: 1, // 任务ID</span></span>
<span class="line"><span style="color:#f6f6f4;">            project_num:&#39;p1&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">            project_type:&#39;项目一&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">            text: &quot;任务一&quot;,</span></span>
<span class="line"><span style="color:#f6f6f4;">            start_date: &quot;03-04-2020&quot;, // 日-月-年 </span></span>
<span class="line"><span style="color:#f6f6f4;">            type: &quot;project&quot;,</span></span>
<span class="line"><span style="color:#f6f6f4;">            render: &quot;split&quot;,</span></span>
<span class="line"><span style="color:#f6f6f4;">            parent: 0, //父任务ID  自己为父任务 ID为0</span></span>
<span class="line"><span style="color:#f6f6f4;">          },</span></span>
<span class="line"><span style="color:#f6f6f4;">          {</span></span>
<span class="line"><span style="color:#f6f6f4;">            id: 2,</span></span>
<span class="line"><span style="color:#f6f6f4;">            text: &quot;第一阶段&quot;,</span></span>
<span class="line"><span style="color:#f6f6f4;">            start_date: &quot;03-04-2020&quot;, //开始时间</span></span>
<span class="line"><span style="color:#f6f6f4;">            end_date: &quot;03-12-2020&quot;, //结束时间</span></span>
<span class="line"><span style="color:#f6f6f4;">            parent: 1,</span></span>
<span class="line"><span style="color:#f6f6f4;">          },</span></span>
<span class="line"><span style="color:#f6f6f4;">          {</span></span>
<span class="line"><span style="color:#f6f6f4;">            id: 3,</span></span>
<span class="line"><span style="color:#f6f6f4;">            text: &quot;第二阶段&quot;,</span></span>
<span class="line"><span style="color:#f6f6f4;">            start_date: &quot;12-12-2020&quot;,</span></span>
<span class="line"><span style="color:#f6f6f4;">            end_date: &quot;12-12-2021&quot;,</span></span>
<span class="line"><span style="color:#f6f6f4;">            duration: 2,</span></span>
<span class="line"><span style="color:#f6f6f4;">            parent: 1,</span></span>
<span class="line"><span style="color:#f6f6f4;">            color:&#39;green&#39;</span></span>
<span class="line"><span style="color:#f6f6f4;">          },</span></span>
<span class="line"><span style="color:#f6f6f4;">          {</span></span>
<span class="line"><span style="color:#f6f6f4;">            id: 4,</span></span>
<span class="line"><span style="color:#f6f6f4;">            text: &quot;第三阶段&quot;,</span></span>
<span class="line"><span style="color:#f6f6f4;">            start_date: &quot;12-12-2022&quot;,</span></span>
<span class="line"><span style="color:#f6f6f4;">            end_date: &quot;12-12-2023&quot;,</span></span>
<span class="line"><span style="color:#f6f6f4;">            duration: 1,</span></span>
<span class="line"><span style="color:#f6f6f4;">            parent: 1,</span></span>
<span class="line"><span style="color:#f6f6f4;">          },</span></span>
<span class="line"><span style="color:#f6f6f4;">          {</span></span>
<span class="line"><span style="color:#f6f6f4;">            id: 5,</span></span>
<span class="line"><span style="color:#f6f6f4;">            project_num:&#39;p2&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">            project_type:&#39;项目二&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">            text: &quot;任务二&quot;,</span></span>
<span class="line"><span style="color:#f6f6f4;">            start_date: &quot;12-12-2024&quot;,</span></span>
<span class="line"><span style="color:#f6f6f4;">            type: &quot;project&quot;,</span></span>
<span class="line"><span style="color:#f6f6f4;">            render: &quot;split&quot;,</span></span>
<span class="line"><span style="color:#f6f6f4;">            parent: 0,</span></span>
<span class="line"><span style="color:#f6f6f4;">          },</span></span>
<span class="line"><span style="color:#f6f6f4;">        ],</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">数据结构</span></span>
<span class="line"><span style="color:#24292e;"> data: [</span></span>
<span class="line"><span style="color:#24292e;">          {</span></span>
<span class="line"><span style="color:#24292e;">            id: 1, // 任务ID</span></span>
<span class="line"><span style="color:#24292e;">            project_num:&#39;p1&#39;,</span></span>
<span class="line"><span style="color:#24292e;">            project_type:&#39;项目一&#39;,</span></span>
<span class="line"><span style="color:#24292e;">            text: &quot;任务一&quot;,</span></span>
<span class="line"><span style="color:#24292e;">            start_date: &quot;03-04-2020&quot;, // 日-月-年 </span></span>
<span class="line"><span style="color:#24292e;">            type: &quot;project&quot;,</span></span>
<span class="line"><span style="color:#24292e;">            render: &quot;split&quot;,</span></span>
<span class="line"><span style="color:#24292e;">            parent: 0, //父任务ID  自己为父任务 ID为0</span></span>
<span class="line"><span style="color:#24292e;">          },</span></span>
<span class="line"><span style="color:#24292e;">          {</span></span>
<span class="line"><span style="color:#24292e;">            id: 2,</span></span>
<span class="line"><span style="color:#24292e;">            text: &quot;第一阶段&quot;,</span></span>
<span class="line"><span style="color:#24292e;">            start_date: &quot;03-04-2020&quot;, //开始时间</span></span>
<span class="line"><span style="color:#24292e;">            end_date: &quot;03-12-2020&quot;, //结束时间</span></span>
<span class="line"><span style="color:#24292e;">            parent: 1,</span></span>
<span class="line"><span style="color:#24292e;">          },</span></span>
<span class="line"><span style="color:#24292e;">          {</span></span>
<span class="line"><span style="color:#24292e;">            id: 3,</span></span>
<span class="line"><span style="color:#24292e;">            text: &quot;第二阶段&quot;,</span></span>
<span class="line"><span style="color:#24292e;">            start_date: &quot;12-12-2020&quot;,</span></span>
<span class="line"><span style="color:#24292e;">            end_date: &quot;12-12-2021&quot;,</span></span>
<span class="line"><span style="color:#24292e;">            duration: 2,</span></span>
<span class="line"><span style="color:#24292e;">            parent: 1,</span></span>
<span class="line"><span style="color:#24292e;">            color:&#39;green&#39;</span></span>
<span class="line"><span style="color:#24292e;">          },</span></span>
<span class="line"><span style="color:#24292e;">          {</span></span>
<span class="line"><span style="color:#24292e;">            id: 4,</span></span>
<span class="line"><span style="color:#24292e;">            text: &quot;第三阶段&quot;,</span></span>
<span class="line"><span style="color:#24292e;">            start_date: &quot;12-12-2022&quot;,</span></span>
<span class="line"><span style="color:#24292e;">            end_date: &quot;12-12-2023&quot;,</span></span>
<span class="line"><span style="color:#24292e;">            duration: 1,</span></span>
<span class="line"><span style="color:#24292e;">            parent: 1,</span></span>
<span class="line"><span style="color:#24292e;">          },</span></span>
<span class="line"><span style="color:#24292e;">          {</span></span>
<span class="line"><span style="color:#24292e;">            id: 5,</span></span>
<span class="line"><span style="color:#24292e;">            project_num:&#39;p2&#39;,</span></span>
<span class="line"><span style="color:#24292e;">            project_type:&#39;项目二&#39;,</span></span>
<span class="line"><span style="color:#24292e;">            text: &quot;任务二&quot;,</span></span>
<span class="line"><span style="color:#24292e;">            start_date: &quot;12-12-2024&quot;,</span></span>
<span class="line"><span style="color:#24292e;">            type: &quot;project&quot;,</span></span>
<span class="line"><span style="color:#24292e;">            render: &quot;split&quot;,</span></span>
<span class="line"><span style="color:#24292e;">            parent: 0,</span></span>
<span class="line"><span style="color:#24292e;">          },</span></span>
<span class="line"><span style="color:#24292e;">        ],</span></span></code></pre></div><h2 id="vue2使用dhtmlx-gantt" tabindex="-1">Vue2使用DHTMLX Gantt <a class="header-anchor" href="#vue2使用dhtmlx-gantt" aria-label="Permalink to &quot;Vue2使用DHTMLX Gantt&quot;">​</a></h2><h3 id="甘特图" tabindex="-1">甘特图 <a class="header-anchor" href="#甘特图" aria-label="Permalink to &quot;甘特图&quot;">​</a></h3><ul><li>官网地址</li><li><a href="https://gitee.com/lht1132950411/blog/blob/master/examples/Dhtmlx_gantt.zip" title="https://gitee.com/lht1132950411/blog/blob/master/examples/Dhtmlx_gantt.zip" target="_blank" rel="noreferrer">实例文件</a></li></ul><h3 id="成品展示" tabindex="-1">成品展示 <a class="header-anchor" href="#成品展示" aria-label="Permalink to &quot;成品展示&quot;">​</a></h3><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/586cac6402184410b1e5a4f8612aed2d~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image" alt=""></p><h2 id="gantt安装与使用" tabindex="-1">gantt安装与使用 <a class="header-anchor" href="#gantt安装与使用" aria-label="Permalink to &quot;gantt安装与使用&quot;">​</a></h2><h3 id="vue2版-部分功能收费" tabindex="-1">vue2版---部分功能收费 <a class="header-anchor" href="#vue2版-部分功能收费" aria-label="Permalink to &quot;vue2版---部分功能收费&quot;">​</a></h3><ol start="0"><li><p><strong>安装gantt</strong></p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#f6f6f4;">npm install dhtmlx-gantt -save</span></span>
<span class="line"><span style="color:#f6f6f4;">\`\`\`</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">npm install dhtmlx-gantt -save</span></span>
<span class="line"><span style="color:#24292e;">\`\`\`</span></span></code></pre></div></li><li><p><strong>引入</strong>---组件</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">\`引入\`</span></span>
<span class="line"><span style="color:#F6F6F4;">&lt;</span><span style="color:#F286C4;">template</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">    &lt;</span><span style="color:#F286C4;">div</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;font-style:italic;">ref</span><span style="color:#F6F6F4;">=</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">gantt</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;font-style:italic;">class</span><span style="color:#F6F6F4;">=</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">container</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> /&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">&lt;/</span><span style="color:#F286C4;">template</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">&lt;</span><span style="color:#F286C4;">script</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">  import { gantt } from &#39;dhtmlx-gantt&#39;</span></span>
<span class="line"><span style="color:#F6F6F4;">&lt;/</span><span style="color:#F286C4;">script</span><span style="color:#F6F6F4;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">\`引入\`</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ref</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;gantt&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;container&quot;</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">  import { gantt } from &#39;dhtmlx-gantt&#39;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span></code></pre></div></li><li><p><strong>使用</strong></p><p><em>使用需要很多配置项，在原生版进行详情介绍，vue版只做基本使用</em></p><table><thead><tr><th>功能（收费）</th><th>文档链接</th><th>简要说明</th></tr></thead><tbody><tr><td>动态加载</td><td><a href="https://docs.dhtmlx.com/gantt/desktop__dynamic_loading.html" title="https://docs.dhtmlx.com/gantt/desktop__dynamic_loading.html" target="_blank" rel="noreferrer">Dynamic loading</a></td><td>能通过接口更新甘特数据,gantt支持的接口方法</td></tr><tr><td>时间刻度隐藏</td><td><a href="https://docs.dhtmlx.com/gantt/desktop__custom_scale.html" title="https://docs.dhtmlx.com/gantt/desktop__custom_scale.html" target="_blank" rel="noreferrer">Ability to hide time units on the time scale</a></td><td>右边视图刻度可以不显示某时间内容</td></tr><tr><td>工作时间精度</td><td><a href="https://docs.dhtmlx.com/gantt/desktop__working_time.html#assigningcalendartoproject" title="https://docs.dhtmlx.com/gantt/desktop__working_time.html#assigningcalendartoproject" target="_blank" rel="noreferrer">Assigning Calendar to Project</a></td><td>精确工作时间到小时或小数点天数</td></tr><tr><td>自动调度</td><td><a href="https://docs.dhtmlx.com/gantt/desktop__auto_scheduling.html" title="https://docs.dhtmlx.com/gantt/desktop__auto_scheduling.html" target="_blank" rel="noreferrer">Auto scheduling</a></td><td>使甘特图能够根据任务之间的关系自动安排任务，自动调度时间</td></tr><tr><td>页面多个甘特图</td><td><a href="https://docs.dhtmlx.com/gantt/desktop__multiple_gantts.html" title="https://docs.dhtmlx.com/gantt/desktop__multiple_gantts.html" target="_blank" rel="noreferrer"><strong>Enterprise and Ultimate licenses</strong>)</a></td><td>单个页面创建多个甘特图</td></tr><tr><td>关键任务计算</td><td><a href="https://docs.dhtmlx.com/gantt/desktop__critical_path.html" title="https://docs.dhtmlx.com/gantt/desktop__critical_path.html" target="_blank" rel="noreferrer">Critical path calculation</a></td><td>关键任务不可延迟，项目标红，计算项目可预算时间</td></tr><tr><td>水平拖拽多个任务</td><td><a href="https://docs.dhtmlx.com/gantt/desktop__working_time.html#taskdurationindecimalformat" title="https://docs.dhtmlx.com/gantt/desktop__working_time.html#taskdurationindecimalformat" target="_blank" rel="noreferrer">Decimal units for tasks durations</a></td><td>可以同时修改多个任务的时间</td></tr><tr><td>项目，里程碑，任务类型</td><td><a href="https://docs.dhtmlx.com/gantt/desktop__task_types.html" title="https://docs.dhtmlx.com/gantt/desktop__task_types.html" target="_blank" rel="noreferrer">Projects and Milestones task types</a></td><td>区别显示图标，里程碑（菱形图案）---原生版可用</td></tr><tr><td>将项目拆分子任务</td><td><a href="https://docs.dhtmlx.com/gantt/desktop__task_types.html" title="https://docs.dhtmlx.com/gantt/desktop__task_types.html" target="_blank" rel="noreferrer">Projects and Milestones task types</a></td><td>项目收缩显示子任务 -----原生版可用</td></tr><tr><td>分组任务</td><td><a href="https://docs.dhtmlx.com/gantt/desktop__grouping.html" title="https://docs.dhtmlx.com/gantt/desktop__grouping.html" target="_blank" rel="noreferrer">Tasks grouping</a></td><td>细化数据分类，不做汇总分区基本用不上</td></tr></tbody></table><p><em>以上内容只是部分收费内容，并非全部收费内容</em></p></li></ol><h3 id="原生版-推荐使用" tabindex="-1">原生版---推荐使用 <a class="header-anchor" href="#原生版-推荐使用" aria-label="Permalink to &quot;原生版---推荐使用&quot;">​</a></h3><h4 id="引入" tabindex="-1"><strong>引入</strong> <a class="header-anchor" href="#引入" aria-label="Permalink to &quot;**引入**&quot;">​</a></h4><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">\`</span><span style="color:#F286C4;">页面部分\` ----</span><span style="color:#62E884;font-style:italic;">#节点高度要给，gantt不根据内容撑开</span></span>
<span class="line"><span style="color:#F286C4;">&lt;div style=&quot;min-height:calc(78vh - 50px - 5px</span><span style="color:#F6F6F4;"> );</span><span style="color:#F286C4;">width: 100%;overflow: hidden;&quot; ref=&quot;gantt&quot;&gt;</span></span>
<span class="line"><span style="color:#F286C4;"> &lt;</span><span style="color:#F6F6F4;">/</span><span style="color:#F286C4;">div&gt;</span></span>
<span class="line"><span style="color:#F286C4;">​</span></span>
<span class="line"><span style="color:#F286C4;">\`引入部分\`</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  gantt</span></span>
<span class="line"><span style="color:#F6F6F4;">} </span><span style="color:#F286C4;">from &#39;</span><span style="color:#F6F6F4;">@/</span><span style="color:#F286C4;">assets</span><span style="color:#F6F6F4;">/</span><span style="color:#F286C4;">js</span><span style="color:#F6F6F4;">/</span><span style="color:#F286C4;">dhtmlx&#39;;</span></span>
<span class="line"><span style="color:#F286C4;">import &quot;</span><span style="color:#F6F6F4;">@/</span><span style="color:#F286C4;">assets</span><span style="color:#F6F6F4;">/</span><span style="color:#F286C4;">css</span><span style="color:#F6F6F4;">/</span><span style="color:#F286C4;">dhtmlxgantt.css&quot;;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">\`页面部分\` ----</span><span style="color:#6F42C1;">#节点高度要给，gantt不根据内容撑开</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> style=&quot;</span><span style="color:#22863A;">min-height</span><span style="color:#24292E;">:calc(78vh - 50px - 5px );width: 100%;overflow: hidden;&quot; ref=&quot;gantt&quot;</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#24292E;"> &lt;/</span><span style="color:#22863A;">div</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">\`引入部分\`</span></span>
<span class="line"><span style="color:#24292E;">import {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">gantt</span></span>
<span class="line"><span style="color:#24292E;">} from &#39;@/assets/js/dhtmlx&#39;;</span></span>
<span class="line"><span style="color:#24292E;">import &quot;@/assets/css/dhtmlxgantt.css&quot;;</span></span></code></pre></div><ol start="0"><li>css文件地址 <a href="https://gitee.com/lht1132950411/blog/blob/master/examples/dhtmlx_gantt/dhtmlxgantt.css" title="https://gitee.com/lht1132950411/blog/blob/master/examples/dhtmlx_gantt/dhtmlxgantt.css" target="_blank" rel="noreferrer">examples/dhtmlx_gantt/dhtmlxgantt.css · 残星落影/博客 - 码云 - 开源中国 (gitee.com)</a></li><li>js文件地址 <a href="https://gitee.com/lht1132950411/blog/tree/master/examples/dhtmlx_gantt/dhtmlx" title="https://gitee.com/lht1132950411/blog/tree/master/examples/dhtmlx_gantt/dhtmlx" target="_blank" rel="noreferrer">examples/dhtmlx_gantt/dhtmlx · 残星落影/博客 - 码云 - 开源中国 (gitee.com)</a></li></ol><h4 id="使用" tabindex="-1"><strong>使用</strong> <a class="header-anchor" href="#使用" aria-label="Permalink to &quot;**使用**&quot;">​</a></h4><h5 id="gantt加载数据格式" tabindex="-1">gantt加载数据格式 <a class="header-anchor" href="#gantt加载数据格式" aria-label="Permalink to &quot;gantt加载数据格式&quot;">​</a></h5><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#E7EE98;">\`定义数据格式\`</span><span style="color:#F6F6F4;"> </span></span>
<span class="line"><span style="color:#62E884;">data</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    tasks</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">            data</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> [],</span><span style="color:#7B7F8B;">//数据</span></span>
<span class="line"><span style="color:#F6F6F4;">            links</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> [],</span><span style="color:#7B7F8B;">//关联项目数据</span></span>
<span class="line"><span style="color:#F6F6F4;">          },</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#E7EE98;">\`甘特数据载入\`</span></span>
<span class="line"><span style="color:#F6F6F4;"> gantt.</span><span style="color:#62E884;">parse</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.tasks);</span><span style="color:#7B7F8B;">//parse方法加载数据</span></span>
<span class="line"><span style="color:#F6F6F4;"> gantt.</span><span style="color:#62E884;">render</span><span style="color:#F6F6F4;">();</span><span style="color:#7B7F8B;">//建议每一次修改配置项调用一次render方法</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#032F62;">\`定义数据格式\`</span><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#6F42C1;">data</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    tasks: {</span></span>
<span class="line"><span style="color:#24292E;">            data: [],</span><span style="color:#6A737D;">//数据</span></span>
<span class="line"><span style="color:#24292E;">            links: [],</span><span style="color:#6A737D;">//关联项目数据</span></span>
<span class="line"><span style="color:#24292E;">          },</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#032F62;">\`甘特数据载入\`</span></span>
<span class="line"><span style="color:#24292E;"> gantt.</span><span style="color:#6F42C1;">parse</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.tasks);</span><span style="color:#6A737D;">//parse方法加载数据</span></span>
<span class="line"><span style="color:#24292E;"> gantt.</span><span style="color:#6F42C1;">render</span><span style="color:#24292E;">();</span><span style="color:#6A737D;">//建议每一次修改配置项调用一次render方法</span></span></code></pre></div><p><strong>tasks.data数据格式</strong></p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#f6f6f4;">data=[</span></span>
<span class="line"><span style="color:#f6f6f4;">  { </span></span>
<span class="line"><span style="color:#f6f6f4;">    id: 1,//必填</span></span>
<span class="line"><span style="color:#f6f6f4;">    text: &quot;标题&quot;,//必填 </span></span>
<span class="line"><span style="color:#f6f6f4;">    type: &quot;task&quot;,// 项目类型 task任务 project项目  milestone里程碑  </span></span>
<span class="line"><span style="color:#f6f6f4;">    start_date: &quot;2023/3/15&quot;,</span></span>
<span class="line"><span style="color:#f6f6f4;">    duration: 5,//任务持续时间</span></span>
<span class="line"><span style="color:#f6f6f4;">    parent: 11,//存在这个属性说明此数据为子任务数据，父任务id为11</span></span>
<span class="line"><span style="color:#f6f6f4;">    progress: 0.3,//项目任务滑块的进度</span></span>
<span class="line"><span style="color:#f6f6f4;">    open: true,//是否展开显示</span></span>
<span class="line"><span style="color:#f6f6f4;">    ....</span></span>
<span class="line"><span style="color:#f6f6f4;">  },</span></span>
<span class="line"><span style="color:#f6f6f4;">  { </span></span>
<span class="line"><span style="color:#f6f6f4;">    id: 2,</span></span>
<span class="line"><span style="color:#f6f6f4;">    text: &quot;标题2&quot;, </span></span>
<span class="line"><span style="color:#f6f6f4;">    start_date: &quot;2023/3/15&quot;,</span></span>
<span class="line"><span style="color:#f6f6f4;">    duration: 5,</span></span>
<span class="line"><span style="color:#f6f6f4;">    progress: 0,</span></span>
<span class="line"><span style="color:#f6f6f4;">    open: true</span></span>
<span class="line"><span style="color:#f6f6f4;">    ....</span></span>
<span class="line"><span style="color:#f6f6f4;">  },</span></span>
<span class="line"><span style="color:#f6f6f4;">]</span></span>
<span class="line"><span style="color:#f6f6f4;"># data中有些数据可以直接被读取，其余数据都可以定义在左侧表格columns数据显示</span></span>
<span class="line"><span style="color:#f6f6f4;">\`甘特可直接读取属性</span></span>
<span class="line"><span style="color:#f6f6f4;">    type  parent  progress open ...</span></span>
<span class="line"><span style="color:#f6f6f4;">\`</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">data=[</span></span>
<span class="line"><span style="color:#24292e;">  { </span></span>
<span class="line"><span style="color:#24292e;">    id: 1,//必填</span></span>
<span class="line"><span style="color:#24292e;">    text: &quot;标题&quot;,//必填 </span></span>
<span class="line"><span style="color:#24292e;">    type: &quot;task&quot;,// 项目类型 task任务 project项目  milestone里程碑  </span></span>
<span class="line"><span style="color:#24292e;">    start_date: &quot;2023/3/15&quot;,</span></span>
<span class="line"><span style="color:#24292e;">    duration: 5,//任务持续时间</span></span>
<span class="line"><span style="color:#24292e;">    parent: 11,//存在这个属性说明此数据为子任务数据，父任务id为11</span></span>
<span class="line"><span style="color:#24292e;">    progress: 0.3,//项目任务滑块的进度</span></span>
<span class="line"><span style="color:#24292e;">    open: true,//是否展开显示</span></span>
<span class="line"><span style="color:#24292e;">    ....</span></span>
<span class="line"><span style="color:#24292e;">  },</span></span>
<span class="line"><span style="color:#24292e;">  { </span></span>
<span class="line"><span style="color:#24292e;">    id: 2,</span></span>
<span class="line"><span style="color:#24292e;">    text: &quot;标题2&quot;, </span></span>
<span class="line"><span style="color:#24292e;">    start_date: &quot;2023/3/15&quot;,</span></span>
<span class="line"><span style="color:#24292e;">    duration: 5,</span></span>
<span class="line"><span style="color:#24292e;">    progress: 0,</span></span>
<span class="line"><span style="color:#24292e;">    open: true</span></span>
<span class="line"><span style="color:#24292e;">    ....</span></span>
<span class="line"><span style="color:#24292e;">  },</span></span>
<span class="line"><span style="color:#24292e;">]</span></span>
<span class="line"><span style="color:#24292e;"># data中有些数据可以直接被读取，其余数据都可以定义在左侧表格columns数据显示</span></span>
<span class="line"><span style="color:#24292e;">\`甘特可直接读取属性</span></span>
<span class="line"><span style="color:#24292e;">    type  parent  progress open ...</span></span>
<span class="line"><span style="color:#24292e;">\`</span></span></code></pre></div><p><strong>tasks.links数据格式</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#BF9EEE;">links</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">[</span></span>
<span class="line"><span style="color:#F6F6F4;">  {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">id:</span><span style="color:#62E884;">&#39;111&#39;</span><span style="color:#62E884;">,//数据id</span></span>
<span class="line"><span style="color:#F6F6F4;"> </span><span style="color:#62E884;"> </span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;"> source:</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">1</span><span style="color:#DEE492;">&#39;</span></span>
<span class="line"><span style="color:#F6F6F4;"> </span><span style="color:#62E884;"> </span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;"> target:</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">2</span><span style="color:#DEE492;">&#39;</span></span>
<span class="line"><span style="color:#F6F6F4;"> </span><span style="color:#62E884;"> </span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;"> type:</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">0</span><span style="color:#DEE492;">&#39;</span></span>
<span class="line"><span style="color:#F6F6F4;">  },//</span></span>
<span class="line"><span style="color:#F6F6F4;">  {</span></span>
<span class="line"><span style="color:#F6F6F4;"> </span><span style="color:#62E884;"> </span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;"> id:</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">222</span><span style="color:#DEE492;">&#39;</span></span>
<span class="line"><span style="color:#F6F6F4;"> </span><span style="color:#62E884;"> </span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;"> source:</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">2</span><span style="color:#DEE492;">&#39;</span></span>
<span class="line"><span style="color:#F6F6F4;"> </span><span style="color:#62E884;"> </span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;"> target:</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">1</span><span style="color:#DEE492;">&#39;</span></span>
<span class="line"><span style="color:#F6F6F4;"> </span><span style="color:#62E884;"> </span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;"> type:</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">1</span><span style="color:#DEE492;">&#39;</span></span>
<span class="line"><span style="color:#F6F6F4;">  },//数据说明 滑块任务2 的头部 指向滑块任务1的头部</span></span>
<span class="line"><span style="color:#F6F6F4;">]</span></span>
<span class="line"><span style="color:#7B7F8B;">#字段解释</span></span>
<span class="line"><span style="color:#62E884;">格式</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">id:数据id</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;"> </span><span style="color:#F6F6F4;"> </span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;">source</span><span style="color:#F6F6F4;">:开始链接的项目id </span><span style="color:#E7EE98;"> ----为tasks.data中数据的id</span></span>
<span class="line"><span style="color:#F6F6F4;"> </span><span style="color:#62E884;"> </span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;"> target:要链接项目的id</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;"> ----为tasks.data中数据的id</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;">type</span><span style="color:#F6F6F4;">: </span><span style="color:#BF9EEE;">0</span><span style="color:#E7EE98;">--进行-开始</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;"> \`</span><span style="color:#62E884;">尾部链接头部</span><span style="color:#E7EE98;">\`</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;"> </span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#62E884;">1--开始-开始</span><span style="color:#F6F6F4;">  </span><span style="color:#E7EE98;">\`</span><span style="color:#62E884;">头部链接头部</span><span style="color:#E7EE98;">\`</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#62E884;">2--进行-进行</span><span style="color:#F6F6F4;">  </span><span style="color:#E7EE98;">\`</span><span style="color:#62E884;">尾部链接尾部</span><span style="color:#E7EE98;">\`</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#62E884;">3--开始-进行</span><span style="color:#F6F6F4;">  </span><span style="color:#E7EE98;">\`</span><span style="color:#62E884;">头部链接尾部</span><span style="color:#E7EE98;">\`</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">links</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">[</span></span>
<span class="line"><span style="color:#24292E;">  {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">id:</span><span style="color:#6F42C1;">&#39;111&#39;</span><span style="color:#6F42C1;">,//数据id</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;"> </span><span style="color:#24292E;"> </span><span style="color:#032F62;"> source:&#39;1&#39;</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;"> </span><span style="color:#24292E;"> </span><span style="color:#032F62;"> target:&#39;2&#39;</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;"> </span><span style="color:#24292E;"> </span><span style="color:#032F62;"> type:&#39;0&#39;</span></span>
<span class="line"><span style="color:#24292E;">  },//</span></span>
<span class="line"><span style="color:#24292E;">  {</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;"> </span><span style="color:#24292E;"> </span><span style="color:#032F62;"> id:&#39;222&#39;</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;"> </span><span style="color:#24292E;"> </span><span style="color:#032F62;"> source:&#39;2&#39;</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;"> </span><span style="color:#24292E;"> </span><span style="color:#032F62;"> target:&#39;1&#39;</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;"> </span><span style="color:#24292E;"> </span><span style="color:#032F62;"> type:&#39;1&#39;</span></span>
<span class="line"><span style="color:#24292E;">  },//数据说明 滑块任务2 的头部 指向滑块任务1的头部</span></span>
<span class="line"><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#6A737D;">#字段解释</span></span>
<span class="line"><span style="color:#6F42C1;">格式</span><span style="color:#24292E;"> </span><span style="color:#032F62;">id:数据id</span><span style="color:#24292E;"> </span><span style="color:#032F62;"> </span><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">source</span><span style="color:#24292E;">:开始链接的项目id </span><span style="color:#032F62;"> ----为tasks.data中数据的id</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;"> </span><span style="color:#24292E;"> </span><span style="color:#032F62;"> target:要链接项目的id</span><span style="color:#24292E;"> </span><span style="color:#032F62;"> ----为tasks.data中数据的id</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">type</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">0</span><span style="color:#032F62;">--进行-开始</span><span style="color:#24292E;"> </span><span style="color:#032F62;"> \`</span><span style="color:#6F42C1;">尾部链接头部</span><span style="color:#032F62;">\`</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;"> </span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">1--开始-开始</span><span style="color:#24292E;">  </span><span style="color:#032F62;">\`</span><span style="color:#6F42C1;">头部链接头部</span><span style="color:#032F62;">\`</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">2--进行-进行</span><span style="color:#24292E;">  </span><span style="color:#032F62;">\`</span><span style="color:#6F42C1;">尾部链接尾部</span><span style="color:#032F62;">\`</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">3--开始-进行</span><span style="color:#24292E;">  </span><span style="color:#032F62;">\`</span><span style="color:#6F42C1;">头部链接尾部</span><span style="color:#032F62;">\`</span></span></code></pre></div><p><strong>图例</strong></p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ac9943ff4cb149558fdf73f3f4802e1a~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image" alt=""></p><h5 id="配置项" tabindex="-1">配置项 <a class="header-anchor" href="#配置项" aria-label="Permalink to &quot;配置项&quot;">​</a></h5><ul><li><p>基础config</p><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">gantt.config.branch_loading</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> true</span><span style="color:#7B7F8B;">; // 启用动态加载</span></span>
<span class="line"><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">gantt.config.xml_date</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">%Y-%m-%d</span><span style="color:#DEE492;">&quot;</span><span style="color:#7B7F8B;">; //日期格式化</span></span>
<span class="line"><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">gantt.config.order_branch</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> true</span><span style="color:#7B7F8B;">;</span></span>
<span class="line"><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">gantt.config.order_branch_free</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> true</span><span style="color:#7B7F8B;">;</span></span>
<span class="line"><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">gantt.config.autofit</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> true</span><span style="color:#7B7F8B;">;//左侧是否自适应</span></span>
<span class="line"><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">gantt.config.drag_links</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> true</span><span style="color:#7B7F8B;">;//连线</span></span>
<span class="line"><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">gantt.config.readonly</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> false</span><span style="color:#7B7F8B;">;  //只读</span></span>
<span class="line"><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">gantt.config.smart_scales</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> true</span><span style="color:#7B7F8B;">;</span></span>
<span class="line"><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">gantt.config.date_scale</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">%m月%d日</span><span style="color:#DEE492;">&quot;</span><span style="color:#7B7F8B;">; //右侧显示列名</span></span>
<span class="line"><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">gantt.config.layout</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> {//拖拽布局</span></span>
<span class="line"><span style="color:#F6F6F4;">        css: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">gantt_container</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">        rows: [</span></span>
<span class="line"><span style="color:#F6F6F4;">          {</span></span>
<span class="line"><span style="color:#F6F6F4;">            cols: [</span></span>
<span class="line"><span style="color:#F6F6F4;">              { view: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">grid</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, id: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">grid</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, scrollX: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">scrollHor</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, scrollY: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">scrollVer</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> },</span></span>
<span class="line"><span style="color:#F6F6F4;">              { resizer: true, width: 1 },</span></span>
<span class="line"><span style="color:#F6F6F4;">              { view: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">timeline</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, id: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">timeline</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, scrollX: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">scrollHor</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, scrollY: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">scrollVer</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> },</span></span>
<span class="line"><span style="color:#F6F6F4;">              { view: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">scrollbar</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, scroll: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">y</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, id: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">scrollVer</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> }</span></span>
<span class="line"><span style="color:#F6F6F4;">            ]</span></span>
<span class="line"><span style="color:#F6F6F4;">          },</span></span>
<span class="line"><span style="color:#F6F6F4;">          { view: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">scrollbar</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, scroll: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">x</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, id: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">scrollHor</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, height: 20 }</span></span>
<span class="line"><span style="color:#F6F6F4;">        ]</span></span>
<span class="line"><span style="color:#F6F6F4;">      }</span><span style="color:#7B7F8B;">;</span></span>
<span class="line"><span style="color:#F286C4;">gantt.config.start_on_monday</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> true</span><span style="color:#7B7F8B;">;//是否从周一显示起始时间---右侧条形图</span></span>
<span class="line"><span style="color:#F286C4;">gantt.config.work_time</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> true</span><span style="color:#7B7F8B;">;//显示工作时间</span></span>
<span class="line"><span style="color:#F286C4;">gantt.config.fit_tasks</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> true</span><span style="color:#7B7F8B;">;   //自动调整图表坐标轴区间用于适配task的长度</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">gantt.config.branch_loading</span><span style="color:#24292E;"> = true</span><span style="color:#6A737D;">; // 启用动态加载</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#D73A49;">gantt.config.xml_date</span><span style="color:#24292E;"> = </span><span style="color:#032F62;">&quot;%Y-%m-%d&quot;</span><span style="color:#6A737D;">; //日期格式化</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#D73A49;">gantt.config.order_branch</span><span style="color:#24292E;"> = true</span><span style="color:#6A737D;">;</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#D73A49;">gantt.config.order_branch_free</span><span style="color:#24292E;"> = true</span><span style="color:#6A737D;">;</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#D73A49;">gantt.config.autofit</span><span style="color:#24292E;"> = true</span><span style="color:#6A737D;">;//左侧是否自适应</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#D73A49;">gantt.config.drag_links</span><span style="color:#24292E;"> = true</span><span style="color:#6A737D;">;//连线</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#D73A49;">gantt.config.readonly</span><span style="color:#24292E;"> = false</span><span style="color:#6A737D;">;  //只读</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#D73A49;">gantt.config.smart_scales</span><span style="color:#24292E;"> = true</span><span style="color:#6A737D;">;</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#D73A49;">gantt.config.date_scale</span><span style="color:#24292E;"> = </span><span style="color:#032F62;">&quot;%m月%d日&quot;</span><span style="color:#6A737D;">; //右侧显示列名</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#D73A49;">gantt.config.layout</span><span style="color:#24292E;"> = {//拖拽布局</span></span>
<span class="line"><span style="color:#24292E;">        css: </span><span style="color:#032F62;">&quot;gantt_container&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        rows: [</span></span>
<span class="line"><span style="color:#24292E;">          {</span></span>
<span class="line"><span style="color:#24292E;">            cols: [</span></span>
<span class="line"><span style="color:#24292E;">              { view: </span><span style="color:#032F62;">&quot;grid&quot;</span><span style="color:#24292E;">, id: </span><span style="color:#032F62;">&quot;grid&quot;</span><span style="color:#24292E;">, scrollX: </span><span style="color:#032F62;">&quot;scrollHor&quot;</span><span style="color:#24292E;">, scrollY: </span><span style="color:#032F62;">&quot;scrollVer&quot;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">              { resizer: true, width: 1 },</span></span>
<span class="line"><span style="color:#24292E;">              { view: </span><span style="color:#032F62;">&quot;timeline&quot;</span><span style="color:#24292E;">, id: </span><span style="color:#032F62;">&quot;timeline&quot;</span><span style="color:#24292E;">, scrollX: </span><span style="color:#032F62;">&quot;scrollHor&quot;</span><span style="color:#24292E;">, scrollY: </span><span style="color:#032F62;">&quot;scrollVer&quot;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">              { view: </span><span style="color:#032F62;">&quot;scrollbar&quot;</span><span style="color:#24292E;">, scroll: </span><span style="color:#032F62;">&quot;y&quot;</span><span style="color:#24292E;">, id: </span><span style="color:#032F62;">&quot;scrollVer&quot;</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#24292E;">            ]</span></span>
<span class="line"><span style="color:#24292E;">          },</span></span>
<span class="line"><span style="color:#24292E;">          { view: </span><span style="color:#032F62;">&quot;scrollbar&quot;</span><span style="color:#24292E;">, scroll: </span><span style="color:#032F62;">&quot;x&quot;</span><span style="color:#24292E;">, id: </span><span style="color:#032F62;">&quot;scrollHor&quot;</span><span style="color:#24292E;">, height: 20 }</span></span>
<span class="line"><span style="color:#24292E;">        ]</span></span>
<span class="line"><span style="color:#24292E;">      }</span><span style="color:#6A737D;">;</span></span>
<span class="line"><span style="color:#D73A49;">gantt.config.start_on_monday</span><span style="color:#24292E;"> = true</span><span style="color:#6A737D;">;//是否从周一显示起始时间---右侧条形图</span></span>
<span class="line"><span style="color:#D73A49;">gantt.config.work_time</span><span style="color:#24292E;"> = true</span><span style="color:#6A737D;">;//显示工作时间</span></span>
<span class="line"><span style="color:#D73A49;">gantt.config.fit_tasks</span><span style="color:#24292E;"> = true</span><span style="color:#6A737D;">;   //自动调整图表坐标轴区间用于适配task的长度</span></span></code></pre></div></li><li><p>local---本地汉化</p><p><strong>说明</strong></p><p>(1)直接引入dhtmlx甘特实现的图表操作描述全是英文的，所以要对现有的属性数据显示要进行汉化文字代替</p><p>(2)<em>汉化分三种</em></p><table><thead><tr><th>日期汉化</th><th>属性汉化</th><th>自定义属性汉化</th></tr></thead><tbody><tr><td>gantt.locale.date</td><td>gantt.locale.labels</td><td>gantt.locale.labels</td></tr></tbody></table><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">//汉化</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.locale </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">        date: {</span></span>
<span class="line"><span style="color:#F6F6F4;">          month_full: [</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">1</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">2</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">3</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">4</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">5</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">6</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">7</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">8</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">9</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">10</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">11</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">12</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">],</span></span>
<span class="line"><span style="color:#F6F6F4;">          month_short: [</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">1月</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">2月</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">3月</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">4月</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">5月</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">6月</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">7月</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">8月</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">9月</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">10月</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">11月</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">12月</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">],</span></span>
<span class="line"><span style="color:#F6F6F4;">          day_full: [</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">星期日</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">星期一</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">星期二</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">星期三</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">星期四</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">星期五</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">星期六</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">],</span></span>
<span class="line"><span style="color:#F6F6F4;">          day_short: [</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">日</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">一</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">二</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">三</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">四</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">五</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">六</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">]</span></span>
<span class="line"><span style="color:#F6F6F4;">        },</span></span>
<span class="line"><span style="color:#F6F6F4;">        labels: {</span></span>
<span class="line"><span style="color:#F6F6F4;">          dhx_cal_today_button: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">今天</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          day_tab: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">日</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          week_tab: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">周</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          month_tab: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">月</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          new_event: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">新建日程</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          icon_save: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">保存</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          icon_cancel: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">关闭</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          icon_details: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">详细</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          icon_edit: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">编辑</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          icon_delete: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">删除</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          confirm_closing: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">请确认是否撤销修改!</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#7B7F8B;">//Your changes will be lost, are your sure?</span></span>
<span class="line"><span style="color:#F6F6F4;">          confirm_deleting: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">是否删除计划?</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          section_description: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">描述:</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          section_time: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">时间范围:</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          section_type: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">类型:</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          section_text: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">计划名称:</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          section_test: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">测试:</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">#</span><span style="color:#F6F6F4;">自定义属性汉化-----&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">          section_projectClass: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">项目类型:</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          taskProjectType_0: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">项目任务</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          taskProjectType_1: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">普通任务</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          section_head: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">负责人:</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          section_priority: </span><span style="color:#E7EE98;">&#39;优先级:&#39;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          taskProgress: </span><span style="color:#E7EE98;">&#39;任务状态&#39;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          taskProgress_0: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">未开始</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          taskProgress_1: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">进行中</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          taskProgress_2: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">已完成</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          taskProgress_3: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">已延期</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          taskProgress_4: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">搁置中</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">#</span><span style="color:#F6F6F4;">&lt;-----自定义属性汉化结束</span></span>
<span class="line"><span style="color:#F6F6F4;">          section_template: </span><span style="color:#E7EE98;">&#39;Details&#39;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#7B7F8B;">/* grid columns */</span></span>
<span class="line"><span style="color:#F6F6F4;">          column_text: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">计划名称</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          column_start_date: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">开始时间</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          column_duration: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">持续时间</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          column_add: </span><span style="color:#DEE492;">&quot;&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          column_priority: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">难度</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#7B7F8B;">/* link confirmation */</span></span>
<span class="line"><span style="color:#F6F6F4;">          link: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">关联</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          confirm_link_deleting: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">将被删除</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          link_start: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;"> (开始)</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          link_end: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;"> (结束)</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          type_task: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">任务</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          type_project: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">项目</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          type_milestone: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">里程碑</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">          minutes: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">分钟</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          hours: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">小时</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          days: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">天</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          weeks: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">周</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          months: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">月</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          years: </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">年</span><span style="color:#DEE492;">&quot;</span></span>
<span class="line"><span style="color:#F6F6F4;">        }</span></span>
<span class="line"><span style="color:#F6F6F4;">      }</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">//汉化</span></span>
<span class="line"><span style="color:#24292E;">      gantt.locale </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">date</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">month_full</span><span style="color:#24292E;">: [</span><span style="color:#032F62;">&quot;1&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;2&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;3&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;4&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;5&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;6&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;7&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;8&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;9&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;10&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;11&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;12&quot;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">month_short</span><span style="color:#24292E;">: [</span><span style="color:#032F62;">&quot;1月&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;2月&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;3月&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;4月&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;5月&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;6月&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;7月&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;8月&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;9月&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;10月&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;11月&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;12月&quot;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">day_full</span><span style="color:#24292E;">: [</span><span style="color:#032F62;">&quot;星期日&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;星期一&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;星期二&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;星期三&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;星期四&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;星期五&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;星期六&quot;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">day_short</span><span style="color:#24292E;">: [</span><span style="color:#032F62;">&quot;日&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;一&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;二&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;三&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;四&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;五&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;六&quot;</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">labels</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">dhx_cal_today_button</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;今天&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">day_tab</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;日&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">week_tab</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;周&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">month_tab</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;月&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">new_event</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;新建日程&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">icon_save</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;保存&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">icon_cancel</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;关闭&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">icon_details</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;详细&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">icon_edit</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;编辑&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">icon_delete</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;删除&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">confirm_closing</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;请确认是否撤销修改!&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">//Your changes will be lost, are your sure?</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">confirm_deleting</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;是否删除计划?&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">section_description</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;描述:&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">section_time</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;时间范围:&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">section_type</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;类型:&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">section_text</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;计划名称:&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">section_test</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;测试:&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          #自定义属性汉化-----&gt;</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">section_projectClass</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;项目类型:&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">taskProjectType_0</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;项目任务&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">taskProjectType_1</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;普通任务&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">section_head</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;负责人:&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">section_priority</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;优先级:&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">taskProgress</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;任务状态&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">taskProgress_0</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;未开始&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">taskProgress_1</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;进行中&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">taskProgress_2</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;已完成&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">taskProgress_3</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;已延期&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">taskProgress_4</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;搁置中&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          #&lt;-----自定义属性汉化结束</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">section_template</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;Details&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6A737D;">/* grid columns */</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">column_text</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;计划名称&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">column_start_date</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;开始时间&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">column_duration</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;持续时间&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">column_add</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">column_priority</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;难度&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6A737D;">/* link confirmation */</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">link</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;关联&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">confirm_link_deleting</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;将被删除&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">link_start</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot; (开始)&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">link_end</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot; (结束)&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">type_task</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;任务&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">type_project</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;项目&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">type_milestone</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;里程碑&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">minutes</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;分钟&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">hours</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;小时&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">days</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;天&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">weeks</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;周&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">months</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;月&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">years</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;年&quot;</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span></code></pre></div><p>（4）图例注释</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/955d79d797f14bbd991acc8d305d2316~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image" alt=""></p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/28669e1299674a15a1a3e0109ba30037~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image" alt=""></p></li><li><p>表格(左)配置</p><table><thead><tr><th>属性</th><th>说明</th></tr></thead><tbody><tr><td>name</td><td>在tasks.data中定义的属性数据，add为例外,add为新增数据项触发gantt新增弹窗，显示为一个加号</td></tr><tr><td>label</td><td>标记描述</td></tr><tr><td>align</td><td>文字格式</td></tr><tr><td>resize</td><td>布尔值，可以拉伸内容宽度</td></tr><tr><td>width</td><td>宽度，可写max _width min_width</td></tr><tr><td>height</td><td>高度, 可写max _height min_height</td></tr><tr><td>editor</td><td>将表格内容设置为可编辑状态，官网描述</td></tr><tr><td>template</td><td>自定义渲染内容</td></tr></tbody></table><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">//左侧显示列名</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.config.columns </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> [</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#7B7F8B;">//{ name: &quot;add&quot;, width: 44 }</span></span>
<span class="line"><span style="color:#F6F6F4;">        { name: </span><span style="color:#E7EE98;">&quot;text&quot;</span><span style="color:#F6F6F4;">, min_width:</span><span style="color:#97E1F1;font-style:italic;">100</span><span style="color:#F6F6F4;">,max_width:</span><span style="color:#97E1F1;font-style:italic;">200</span><span style="color:#F6F6F4;">, label:</span><span style="color:#E7EE98;">&quot;任务&quot;</span><span style="color:#F6F6F4;">, align: </span><span style="color:#E7EE98;">&quot;left&quot;</span><span style="color:#F6F6F4;">,resize: </span><span style="color:#97E1F1;font-style:italic;">true</span><span style="color:#F6F6F4;">,  tree: </span><span style="color:#97E1F1;font-style:italic;">true</span><span style="color:#F6F6F4;">, editor: { type: </span><span style="color:#E7EE98;">&#39;text&#39;</span><span style="color:#F6F6F4;">, map_to: </span><span style="color:#E7EE98;">&#39;text&#39;</span><span style="color:#F6F6F4;"> } },</span></span>
<span class="line"><span style="color:#F6F6F4;">        { name: </span><span style="color:#E7EE98;">&quot;id&quot;</span><span style="color:#F6F6F4;">, label: </span><span style="color:#E7EE98;">&quot;&quot;</span><span style="color:#F6F6F4;">, hide: </span><span style="color:#97E1F1;font-style:italic;">true</span><span style="color:#F6F6F4;"> },</span></span>
<span class="line"><span style="color:#F6F6F4;">        { name: </span><span style="color:#E7EE98;">&quot;start_date&quot;</span><span style="color:#F6F6F4;">, label: </span><span style="color:#E7EE98;">&quot;开始时间&quot;</span><span style="color:#F6F6F4;">, width: </span><span style="color:#97E1F1;font-style:italic;">120</span><span style="color:#F6F6F4;">, resize: </span><span style="color:#97E1F1;font-style:italic;">true</span><span style="color:#F6F6F4;">, align: </span><span style="color:#E7EE98;">&quot;left&quot;</span><span style="color:#F6F6F4;"> },</span></span>
<span class="line"><span style="color:#F6F6F4;">        {</span></span>
<span class="line"><span style="color:#F6F6F4;">          name: </span><span style="color:#E7EE98;">&quot;head&quot;</span><span style="color:#F6F6F4;">, width: </span><span style="color:#97E1F1;font-style:italic;">110</span><span style="color:#F6F6F4;">, height: </span><span style="color:#97E1F1;font-style:italic;">40</span><span style="color:#F6F6F4;">, label: </span><span style="color:#E7EE98;">&quot;负责人&quot;</span><span style="color:#F6F6F4;">,resize: </span><span style="color:#97E1F1;font-style:italic;">true</span><span style="color:#F6F6F4;">, align: </span><span style="color:#E7EE98;">&quot;left&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#7B7F8B;">// editor: {</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#7B7F8B;">//   map_to: &quot;head_id&quot;, type: &quot;select&quot;, options: gantt.serverList(&quot;staff&quot;),</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#7B7F8B;">// },</span></span>
<span class="line"><span style="color:#F6F6F4;">          #这里的template渲染的是任务头像跟名称，</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.genttDealById 是在methods定义的方法根据id获取名称，gantt.</span><span style="color:#62E884;">serverList</span><span style="color:#F6F6F4;">()是甘特图获取数据集分发</span></span>
<span class="line"><span style="color:#F6F6F4;">          template: (</span><span style="color:#97E1F1;font-style:italic;">item</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">            </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">ganttDealById</span><span style="color:#F6F6F4;">(gantt.</span><span style="color:#62E884;">serverList</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&#39;staff&#39;</span><span style="color:#F6F6F4;">), item.head_id)) {</span></span>
<span class="line"><span style="color:#F6F6F4;">              </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> \`&lt;span class</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&#39;userIcon&#39;</span><span style="color:#F6F6F4;"> style</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&#39;background-color:\${item.color ? item.color : &quot;#6666&quot;}&#39;</span><span style="color:#F6F6F4;">&gt;\${</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">ganttDealById</span><span style="color:#F6F6F4;">(gantt.</span><span style="color:#62E884;">serverList</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&#39;staff&#39;</span><span style="color:#F6F6F4;">), item.head_id).</span><span style="color:#62E884;">slice</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">)}&lt;</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">span&gt;\${</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">ganttDealById</span><span style="color:#F6F6F4;">(gantt.</span><span style="color:#62E884;">serverList</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&#39;staff&#39;</span><span style="color:#F6F6F4;">), item.head_id)}\`</span></span>
<span class="line"><span style="color:#F6F6F4;">            }</span></span>
<span class="line"><span style="color:#F6F6F4;">          }</span></span>
<span class="line"><span style="color:#F6F6F4;">        },</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#7B7F8B;">// { name: &quot;end_date&quot;, label: &quot;结束时间&quot;, align: &quot;center&quot; },</span></span>
<span class="line"><span style="color:#F6F6F4;">        {</span></span>
<span class="line"><span style="color:#F6F6F4;">          name: </span><span style="color:#E7EE98;">&quot;taskProgress&quot;</span><span style="color:#F6F6F4;">, label: </span><span style="color:#E7EE98;">&quot;任务状态&quot;</span><span style="color:#F6F6F4;">, align: </span><span style="color:#E7EE98;">&quot;center&quot;</span><span style="color:#F6F6F4;">, width: </span><span style="color:#97E1F1;font-style:italic;">130</span><span style="color:#F6F6F4;">,editor: {</span></span>
<span class="line"><span style="color:#F6F6F4;">            type: </span><span style="color:#E7EE98;">&quot;select&quot;</span><span style="color:#F6F6F4;">, map_to: </span><span style="color:#E7EE98;">&quot;taskProgress&quot;</span><span style="color:#F6F6F4;">, options: [</span></span>
<span class="line"><span style="color:#F6F6F4;">              #这里的labels.taskProgress_0属性是自定义汉化属性描述</span></span>
<span class="line"><span style="color:#F6F6F4;">              { key: </span><span style="color:#E7EE98;">&quot;0&quot;</span><span style="color:#F6F6F4;">, label: </span><span style="color:#97E1F1;font-style:italic;">gantt</span><span style="color:#F6F6F4;">.locale.labels.taskProgress_0 },</span></span>
<span class="line"><span style="color:#F6F6F4;">              { key: </span><span style="color:#E7EE98;">&quot;1&quot;</span><span style="color:#F6F6F4;">, label: </span><span style="color:#97E1F1;font-style:italic;">gantt</span><span style="color:#F6F6F4;">.locale.labels.taskProgress_1 },</span></span>
<span class="line"><span style="color:#F6F6F4;">              { key: </span><span style="color:#E7EE98;">&quot;2&quot;</span><span style="color:#F6F6F4;">, label: </span><span style="color:#97E1F1;font-style:italic;">gantt</span><span style="color:#F6F6F4;">.locale.labels.taskProgress_2 },</span></span>
<span class="line"><span style="color:#F6F6F4;">              { key: </span><span style="color:#E7EE98;">&quot;3&quot;</span><span style="color:#F6F6F4;">, label: </span><span style="color:#97E1F1;font-style:italic;">gantt</span><span style="color:#F6F6F4;">.locale.labels.taskProgress_3 },</span></span>
<span class="line"><span style="color:#F6F6F4;">              { key: </span><span style="color:#E7EE98;">&quot;4&quot;</span><span style="color:#F6F6F4;">, label: </span><span style="color:#97E1F1;font-style:italic;">gantt</span><span style="color:#F6F6F4;">.locale.labels.taskProgress_4 },</span></span>
<span class="line"><span style="color:#F6F6F4;">            ],</span></span>
<span class="line"><span style="color:#F6F6F4;">          },</span></span>
<span class="line"><span style="color:#F6F6F4;">            #obj形参是单个的tasks.data中的数据</span></span>
<span class="line"><span style="color:#F6F6F4;">          template: </span><span style="color:#97E1F1;font-style:italic;">function</span><span style="color:#F6F6F4;"> (</span><span style="color:#97E1F1;font-style:italic;">obj</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">            let re </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">&#39;&#39;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">            </span><span style="color:#62E884;">switch</span><span style="color:#F6F6F4;"> (obj.taskProgress) {</span></span>
<span class="line"><span style="color:#F6F6F4;">              case </span><span style="color:#E7EE98;">&quot;0&quot;</span><span style="color:#F6F6F4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">                #这里的样式类名只能通过css读取，写在less scss无法读取</span></span>
<span class="line"><span style="color:#F6F6F4;">                re </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> \`&lt;div class</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&#39;taskProgress color_bg_1&#39;</span><span style="color:#F6F6F4;"> &gt;未开始&lt;</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">div&gt;\`</span></span>
<span class="line"><span style="color:#F6F6F4;">                </span><span style="color:#F286C4;">break</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">              case </span><span style="color:#E7EE98;">&quot;1&quot;</span><span style="color:#F6F6F4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">                re </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> \`&lt;div class</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&#39;taskProgress color_bg_2&#39;</span><span style="color:#F6F6F4;"> &gt;进行中&lt;</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">div&gt;\`</span></span>
<span class="line"><span style="color:#F6F6F4;">                </span><span style="color:#F286C4;">break</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">              case </span><span style="color:#E7EE98;">&quot;2&quot;</span><span style="color:#F6F6F4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">                re </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> \`&lt;div class</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&#39;taskProgress color_bg_3&#39;</span><span style="color:#F6F6F4;">  &gt;已完成&lt;</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">div&gt;\`</span></span>
<span class="line"><span style="color:#F6F6F4;">                </span><span style="color:#F286C4;">break</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">              case </span><span style="color:#E7EE98;">&quot;3&quot;</span><span style="color:#F6F6F4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">                re </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> \`&lt;div  class</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&#39;taskProgress color_bg_4&#39;</span><span style="color:#F6F6F4;">&gt;已延期&lt;</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">div&gt;\`</span></span>
<span class="line"><span style="color:#F6F6F4;">                </span><span style="color:#F286C4;">break</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">              case </span><span style="color:#E7EE98;">&quot;4&quot;</span><span style="color:#F6F6F4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">                re </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> \`&lt;div  class</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&#39;taskProgress color_bg_5&#39;</span><span style="color:#F6F6F4;"> &gt;搁置中&lt;</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">div&gt;\`</span></span>
<span class="line"><span style="color:#F6F6F4;">                </span><span style="color:#F286C4;">break</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">            }</span></span>
<span class="line"><span style="color:#F6F6F4;">            </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> re</span></span>
<span class="line"><span style="color:#F6F6F4;">          }</span></span>
<span class="line"><span style="color:#F6F6F4;">        },</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">      ];</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">//左侧显示列名</span></span>
<span class="line"><span style="color:#24292E;">      gantt.config.columns </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> [</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">//{ name: &quot;add&quot;, width: 44 }</span></span>
<span class="line"><span style="color:#24292E;">        { name: </span><span style="color:#032F62;">&quot;text&quot;</span><span style="color:#24292E;">, min_width:</span><span style="color:#6F42C1;">100</span><span style="color:#24292E;">,max_width:</span><span style="color:#6F42C1;">200</span><span style="color:#24292E;">, label:</span><span style="color:#032F62;">&quot;任务&quot;</span><span style="color:#24292E;">, align: </span><span style="color:#032F62;">&quot;left&quot;</span><span style="color:#24292E;">,resize: </span><span style="color:#6F42C1;">true</span><span style="color:#24292E;">,  tree: </span><span style="color:#6F42C1;">true</span><span style="color:#24292E;">, editor: { type: </span><span style="color:#032F62;">&#39;text&#39;</span><span style="color:#24292E;">, map_to: </span><span style="color:#032F62;">&#39;text&#39;</span><span style="color:#24292E;"> } },</span></span>
<span class="line"><span style="color:#24292E;">        { name: </span><span style="color:#032F62;">&quot;id&quot;</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">, hide: </span><span style="color:#6F42C1;">true</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">        { name: </span><span style="color:#032F62;">&quot;start_date&quot;</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&quot;开始时间&quot;</span><span style="color:#24292E;">, width: </span><span style="color:#6F42C1;">120</span><span style="color:#24292E;">, resize: </span><span style="color:#6F42C1;">true</span><span style="color:#24292E;">, align: </span><span style="color:#032F62;">&quot;left&quot;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">          name: </span><span style="color:#032F62;">&quot;head&quot;</span><span style="color:#24292E;">, width: </span><span style="color:#6F42C1;">110</span><span style="color:#24292E;">, height: </span><span style="color:#6F42C1;">40</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&quot;负责人&quot;</span><span style="color:#24292E;">,resize: </span><span style="color:#6F42C1;">true</span><span style="color:#24292E;">, align: </span><span style="color:#032F62;">&quot;left&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6A737D;">// editor: {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6A737D;">//   map_to: &quot;head_id&quot;, type: &quot;select&quot;, options: gantt.serverList(&quot;staff&quot;),</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6A737D;">// },</span></span>
<span class="line"><span style="color:#24292E;">          #这里的template渲染的是任务头像跟名称，</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.genttDealById 是在methods定义的方法根据id获取名称，gantt.</span><span style="color:#6F42C1;">serverList</span><span style="color:#24292E;">()是甘特图获取数据集分发</span></span>
<span class="line"><span style="color:#24292E;">          template: (</span><span style="color:#6F42C1;">item</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">ganttDealById</span><span style="color:#24292E;">(gantt.</span><span style="color:#6F42C1;">serverList</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;staff&#39;</span><span style="color:#24292E;">), item.head_id)) {</span></span>
<span class="line"><span style="color:#24292E;">              </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> \`&lt;span class</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;userIcon&#39;</span><span style="color:#24292E;"> style</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;background-color:\${item.color ? item.color : &quot;#6666&quot;}&#39;</span><span style="color:#24292E;">&gt;\${</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">ganttDealById</span><span style="color:#24292E;">(gantt.</span><span style="color:#6F42C1;">serverList</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;staff&#39;</span><span style="color:#24292E;">), item.head_id).</span><span style="color:#6F42C1;">slice</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">)}&lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">span&gt;\${</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">ganttDealById</span><span style="color:#24292E;">(gantt.</span><span style="color:#6F42C1;">serverList</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;staff&#39;</span><span style="color:#24292E;">), item.head_id)}\`</span></span>
<span class="line"><span style="color:#24292E;">            }</span></span>
<span class="line"><span style="color:#24292E;">          }</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// { name: &quot;end_date&quot;, label: &quot;结束时间&quot;, align: &quot;center&quot; },</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">          name: </span><span style="color:#032F62;">&quot;taskProgress&quot;</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&quot;任务状态&quot;</span><span style="color:#24292E;">, align: </span><span style="color:#032F62;">&quot;center&quot;</span><span style="color:#24292E;">, width: </span><span style="color:#6F42C1;">130</span><span style="color:#24292E;">,editor: {</span></span>
<span class="line"><span style="color:#24292E;">            type: </span><span style="color:#032F62;">&quot;select&quot;</span><span style="color:#24292E;">, map_to: </span><span style="color:#032F62;">&quot;taskProgress&quot;</span><span style="color:#24292E;">, options: [</span></span>
<span class="line"><span style="color:#24292E;">              #这里的labels.taskProgress_0属性是自定义汉化属性描述</span></span>
<span class="line"><span style="color:#24292E;">              { key: </span><span style="color:#032F62;">&quot;0&quot;</span><span style="color:#24292E;">, label: </span><span style="color:#6F42C1;">gantt</span><span style="color:#24292E;">.locale.labels.taskProgress_0 },</span></span>
<span class="line"><span style="color:#24292E;">              { key: </span><span style="color:#032F62;">&quot;1&quot;</span><span style="color:#24292E;">, label: </span><span style="color:#6F42C1;">gantt</span><span style="color:#24292E;">.locale.labels.taskProgress_1 },</span></span>
<span class="line"><span style="color:#24292E;">              { key: </span><span style="color:#032F62;">&quot;2&quot;</span><span style="color:#24292E;">, label: </span><span style="color:#6F42C1;">gantt</span><span style="color:#24292E;">.locale.labels.taskProgress_2 },</span></span>
<span class="line"><span style="color:#24292E;">              { key: </span><span style="color:#032F62;">&quot;3&quot;</span><span style="color:#24292E;">, label: </span><span style="color:#6F42C1;">gantt</span><span style="color:#24292E;">.locale.labels.taskProgress_3 },</span></span>
<span class="line"><span style="color:#24292E;">              { key: </span><span style="color:#032F62;">&quot;4&quot;</span><span style="color:#24292E;">, label: </span><span style="color:#6F42C1;">gantt</span><span style="color:#24292E;">.locale.labels.taskProgress_4 },</span></span>
<span class="line"><span style="color:#24292E;">            ],</span></span>
<span class="line"><span style="color:#24292E;">          },</span></span>
<span class="line"><span style="color:#24292E;">            #obj形参是单个的tasks.data中的数据</span></span>
<span class="line"><span style="color:#24292E;">          template: </span><span style="color:#6F42C1;">function</span><span style="color:#24292E;"> (</span><span style="color:#6F42C1;">obj</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">            let re </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">switch</span><span style="color:#24292E;"> (obj.taskProgress) {</span></span>
<span class="line"><span style="color:#24292E;">              case </span><span style="color:#032F62;">&quot;0&quot;</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">                #这里的样式类名只能通过css读取，写在less scss无法读取</span></span>
<span class="line"><span style="color:#24292E;">                re </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> \`&lt;div class</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;taskProgress color_bg_1&#39;</span><span style="color:#24292E;"> &gt;未开始&lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">div&gt;\`</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">              case </span><span style="color:#032F62;">&quot;1&quot;</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">                re </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> \`&lt;div class</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;taskProgress color_bg_2&#39;</span><span style="color:#24292E;"> &gt;进行中&lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">div&gt;\`</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">              case </span><span style="color:#032F62;">&quot;2&quot;</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">                re </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> \`&lt;div class</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;taskProgress color_bg_3&#39;</span><span style="color:#24292E;">  &gt;已完成&lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">div&gt;\`</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">              case </span><span style="color:#032F62;">&quot;3&quot;</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">                re </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> \`&lt;div  class</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;taskProgress color_bg_4&#39;</span><span style="color:#24292E;">&gt;已延期&lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">div&gt;\`</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">              case </span><span style="color:#032F62;">&quot;4&quot;</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">                re </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> \`&lt;div  class</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;taskProgress color_bg_5&#39;</span><span style="color:#24292E;"> &gt;搁置中&lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">div&gt;\`</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">            }</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> re</span></span>
<span class="line"><span style="color:#24292E;">          }</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">      ];</span></span></code></pre></div></li><li><p>弹窗表单----见汉化图例</p><div class="language-less vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">less</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">//弹出层</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt</span><span style="color:#62E884;font-style:italic;">.config.lightbox.sections</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> [        { </span><span style="color:#97E1F1;">name</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">text</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#97E1F1;">height</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">70</span><span style="color:#F6F6F4;">, map_to</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">text</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, type</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">textarea</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, focus</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">true</span><span style="color:#F6F6F4;">, </span><span style="color:#97E1F1;">width</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">*</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> },        {          </span><span style="color:#97E1F1;">name</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">time</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#97E1F1;">height</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">40</span><span style="color:#F6F6F4;">, map_to</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">auto</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, type</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">duration</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,          time_format</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> [</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">%Y</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">%m</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">%d</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">],</span></span>
<span class="line"><span style="color:#F6F6F4;">        },</span></span>
<span class="line"><span style="color:#F6F6F4;">        {</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#97E1F1;">name</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">projectClass</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#97E1F1;">height</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">30</span><span style="color:#F6F6F4;">, map_to</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">proTemplate</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, type</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">template</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">         </span></span>
<span class="line"><span style="color:#F6F6F4;">        },</span></span>
<span class="line"><span style="color:#F6F6F4;">        {</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#97E1F1;">name</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">head</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#97E1F1;">height</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">22</span><span style="color:#F6F6F4;">, map_to</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">head_id</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, type</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">select</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, options</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> gantt</span><span style="color:#62E884;font-style:italic;">.serverList</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">staff</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">,[]),</span></span>
<span class="line"><span style="color:#F6F6F4;">        },</span></span>
<span class="line"><span style="color:#F6F6F4;">        { </span><span style="color:#97E1F1;">name</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">description</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#97E1F1;">height</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">70</span><span style="color:#F6F6F4;">, map_to</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">description</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, type</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">textarea</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> },</span></span>
<span class="line"><span style="color:#F6F6F4;">        {</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#97E1F1;">name</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">priority</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#97E1F1;">height</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">40</span><span style="color:#F6F6F4;">, map_to</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">priority</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, type</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">radio</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, options</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> gantt</span><span style="color:#62E884;font-style:italic;">.serverList</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">priority</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">        },</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">      ];</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">//弹出层</span></span>
<span class="line"><span style="color:#24292E;">      gantt</span><span style="color:#6F42C1;">.config.lightbox.sections</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> [        { </span><span style="color:#005CC5;">name</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;text&quot;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">height</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">70</span><span style="color:#24292E;">, map_to: </span><span style="color:#032F62;">&quot;text&quot;</span><span style="color:#24292E;">, type: </span><span style="color:#032F62;">&quot;textarea&quot;</span><span style="color:#24292E;">, focus: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">width</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;*&quot;</span><span style="color:#24292E;"> },        {          </span><span style="color:#005CC5;">name</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;time&quot;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">height</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">40</span><span style="color:#24292E;">, map_to: </span><span style="color:#032F62;">&quot;auto&quot;</span><span style="color:#24292E;">, type: </span><span style="color:#032F62;">&quot;duration&quot;</span><span style="color:#24292E;">,          time_format: [</span><span style="color:#032F62;">&quot;%Y&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;%m&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;%d&quot;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#005CC5;">name</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;projectClass&quot;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">height</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">30</span><span style="color:#24292E;">, map_to: </span><span style="color:#032F62;">&quot;proTemplate&quot;</span><span style="color:#24292E;">, type: </span><span style="color:#032F62;">&quot;template&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">         </span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#005CC5;">name</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;head&quot;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">height</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">22</span><span style="color:#24292E;">, map_to: </span><span style="color:#032F62;">&quot;head_id&quot;</span><span style="color:#24292E;">, type: </span><span style="color:#032F62;">&quot;select&quot;</span><span style="color:#24292E;">, options: gantt</span><span style="color:#6F42C1;">.serverList</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;staff&#39;</span><span style="color:#24292E;">,[]),</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">        { </span><span style="color:#005CC5;">name</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;description&quot;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">height</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">70</span><span style="color:#24292E;">, map_to: </span><span style="color:#032F62;">&quot;description&quot;</span><span style="color:#24292E;">, type: </span><span style="color:#032F62;">&quot;textarea&quot;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#005CC5;">name</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;priority&quot;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">height</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">40</span><span style="color:#24292E;">, map_to: </span><span style="color:#032F62;">&quot;priority&quot;</span><span style="color:#24292E;">, type: </span><span style="color:#032F62;">&quot;radio&quot;</span><span style="color:#24292E;">, options: gantt</span><span style="color:#6F42C1;">.serverList</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;priority&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">      ];</span></span></code></pre></div></li><li><p>gantt功能插件挂载</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#BF9EEE;">gantt</span><span style="color:#F286C4;">.</span><span style="color:#62E884;">plugins</span><span style="color:#F6F6F4;">({</span></span>
<span class="line"><span style="color:#62E884;">        click_drag: </span><span style="color:#BF9EEE;">true</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#62E884;">        drag_timeline: </span><span style="color:#BF9EEE;">true</span><span style="color:#F6F6F4;">,</span><span style="color:#7B7F8B;">// 拖动图</span></span>
<span class="line"><span style="color:#62E884;">        marker: </span><span style="color:#BF9EEE;">true</span><span style="color:#F6F6F4;">,</span><span style="color:#7B7F8B;">// 时间标记</span></span>
<span class="line"><span style="color:#62E884;">        fullscreen: </span><span style="color:#BF9EEE;">true</span><span style="color:#F6F6F4;">,</span><span style="color:#7B7F8B;">// 全屏</span></span>
<span class="line"><span style="color:#62E884;">        tooltip: </span><span style="color:#BF9EEE;">true</span><span style="color:#F6F6F4;">,</span><span style="color:#7B7F8B;">// 鼠标经过时信息</span></span>
<span class="line"><span style="color:#62E884;">        undo: </span><span style="color:#BF9EEE;">true</span><span style="color:#62E884;"> </span><span style="color:#7B7F8B;">// 允许撤销</span></span>
<span class="line"><span style="color:#62E884;"> </span><span style="color:#BF9EEE;"> </span><span style="color:#62E884;"> </span><span style="color:#BF9EEE;"> </span><span style="color:#62E884;">  </span><span style="color:#F6F6F4;">})</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">gantt</span><span style="color:#D73A49;">.</span><span style="color:#6F42C1;">plugins</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">click_drag</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">drag_timeline</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span><span style="color:#6A737D;">// 拖动图</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">marker</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span><span style="color:#6A737D;">// 时间标记</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">fullscreen</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span><span style="color:#6A737D;">// 全屏</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">tooltip</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span><span style="color:#6A737D;">// 鼠标经过时信息</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">undo</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;"> </span><span style="color:#6A737D;">// 允许撤销</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#005CC5;"> </span><span style="color:#24292E;"> </span><span style="color:#005CC5;"> </span><span style="color:#24292E;">  })</span></span></code></pre></div><p><em>收费的甘特图功能一般在这放开</em></p></li></ul><h5 id="常用事件" tabindex="-1"><a href="https://docs.dhtmlx.com/gantt/api__refs__gantt_events.html" title="https://docs.dhtmlx.com/gantt/api__refs__gantt_events.html" target="_blank" rel="noreferrer">常用事件</a> <a class="header-anchor" href="#常用事件" aria-label="Permalink to &quot;[常用事件](https://docs.dhtmlx.com/gantt/api__refs__gantt_events.html &quot;https://docs.dhtmlx.com/gantt/api__refs__gantt_events.html&quot;)&quot;">​</a></h5><table><thead><tr><th>事件</th><th>参数</th><th>说明 （参数：id:数据id,item:当个数据对象,mode:拖拽模式,e:事件event）</th></tr></thead><tbody><tr><td>onGanttReady</td><td>无</td><td>在 dhtmlx甘特图初始化完成后触发，但甘特图尚未在页面上呈现</td></tr><tr><td>onBeforeLightbox</td><td>id</td><td>打开弹窗之前修改</td></tr><tr><td>onAfterTaskAdd</td><td>id, item</td><td>在用户将任务添加到甘特图后触发</td></tr><tr><td>onAfterTaskUpdate</td><td>id, item</td><td>在用户将修改甘特图任务后触发</td></tr><tr><td>onAfterTaskDelete</td><td>id, item</td><td>在用户删除甘特图任务后触发</td></tr><tr><td>onAfterTaskDrag</td><td>id, mode, e</td><td>在用户完成拖动并释放鼠标按钮后触发,移动滑块</td></tr><tr><td>onAfterLinkDelete</td><td>id, item</td><td>删除连接任务的联系</td></tr><tr><td>onAfterLinkUpdate</td><td>id, item</td><td>修改连接项目关系</td></tr><tr><td>onBeforeLinkAdd</td><td>id, item</td><td>新增连接项目关系</td></tr><tr><td>onLightboxSave</td><td>id, item</td><td>弹窗新增修改</td></tr></tbody></table><h3 id="甘特图常用api方法" tabindex="-1">甘特图常用API方法 <a class="header-anchor" href="#甘特图常用api方法" aria-label="Permalink to &quot;甘特图常用API方法&quot;">​</a></h3><table><thead><tr><th>方法</th><th>用例</th><th>说明</th></tr></thead><tbody><tr><td>gantt.serverList(‘数据集名称’,&#39;数据集&#39;)</td><td>gantt,serverList(&quot;数据集名称&quot;) 返回的数据集</td><td>在甘特实例定义数据集，方便在甘特配置修改是调用</td></tr><tr><td>gantt.updateCollection(&#39;数据集名称&#39;,更新数据)</td><td>gantt.updateCollection(&quot;staff&quot;, staffArr);</td><td>更新数据集数据</td></tr><tr><td>gantt.render()</td><td></td><td>更新gantt配置</td></tr><tr><td>gantt.clearAll()</td><td></td><td>清空gantt配置</td></tr><tr><td><strong>gantt.detachEvent(’事件名)</strong></td><td><strong>重点</strong></td><td>因为切换页面甘特不会销毁，调用销毁后阻止事件反复调用</td></tr><tr><td>gantt.scrollTo(x,y)</td><td></td><td>定位今日线功能需要，定位到某个位置</td></tr><tr><td>gantt.init()</td><td>gantt.init(this.$refs.gantt);</td><td>gantt初始化挂载节点</td></tr><tr><td>gantt.parse()</td><td>gantt.parse({ data: [],links: [] })</td><td>gantt挂载数据</td></tr><tr><td>gantt.getTask()</td><td>gantt.getTask(id)</td><td>gantt获取单个数据</td></tr></tbody></table><h3 id="甘特图功能" tabindex="-1">甘特图功能 <a class="header-anchor" href="#甘特图功能" aria-label="Permalink to &quot;甘特图功能&quot;">​</a></h3><h4 id="今日线与定位" tabindex="-1">今日线与定位 <a class="header-anchor" href="#今日线与定位" aria-label="Permalink to &quot;今日线与定位&quot;">​</a></h4><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">// 今日线</span></span>
<span class="line"><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">createTodayLine</span><span style="color:#F6F6F4;">() {</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">var</span><span style="color:#F6F6F4;"> dateToStr </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> gantt.date.</span><span style="color:#62E884;">date_to_str</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">%Y年%M%d日</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">var</span><span style="color:#F6F6F4;"> markerId </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> gantt.</span><span style="color:#62E884;">addMarker</span><span style="color:#F6F6F4;">({</span></span>
<span class="line"><span style="color:#F6F6F4;">        id</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">markerLine</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">        start_date</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">Date</span><span style="color:#F6F6F4;">(),</span></span>
<span class="line"><span style="color:#F6F6F4;">        css</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">today</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">        text</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">今日</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">        title</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">dateToStr</span><span style="color:#F6F6F4;">(</span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">Date</span><span style="color:#F6F6F4;">()) </span></span>
<span class="line"><span style="color:#F6F6F4;">      });</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.</span><span style="color:#62E884;">updateMarker</span><span style="color:#F6F6F4;">(markerId);</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#7B7F8B;">//定位到今日线</span></span>
<span class="line"><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">changeToday</span><span style="color:#F6F6F4;">() {</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">$nextTick</span><span style="color:#F6F6F4;">(() </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> ganTT </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> document.</span><span style="color:#62E884;">getElementsByClassName</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">gantt_marker today</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">        gantt.</span><span style="color:#62E884;">scrollTo</span><span style="color:#F6F6F4;">(ganTT[</span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;">].offsetLeft</span><span style="color:#F286C4;">-</span><span style="color:#BF9EEE;">300</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">null</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">      })</span></span>
<span class="line"><span style="color:#F6F6F4;"> },</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// 今日线</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;">createTodayLine</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">var</span><span style="color:#24292E;"> dateToStr </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> gantt.date.</span><span style="color:#6F42C1;">date_to_str</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;%Y年%M%d日&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">var</span><span style="color:#24292E;"> markerId </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> gantt.</span><span style="color:#6F42C1;">addMarker</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">        id: </span><span style="color:#032F62;">&#39;markerLine&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        start_date: </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Date</span><span style="color:#24292E;">(),</span></span>
<span class="line"><span style="color:#24292E;">        css: </span><span style="color:#032F62;">&quot;today&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        text: </span><span style="color:#032F62;">&quot;今日&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        title: </span><span style="color:#6F42C1;">dateToStr</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Date</span><span style="color:#24292E;">()) </span></span>
<span class="line"><span style="color:#24292E;">      });</span></span>
<span class="line"><span style="color:#24292E;">      gantt.</span><span style="color:#6F42C1;">updateMarker</span><span style="color:#24292E;">(markerId);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#6A737D;">//定位到今日线</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6F42C1;">changeToday</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">$nextTick</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> ganTT </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> document.</span><span style="color:#6F42C1;">getElementsByClassName</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;gantt_marker today&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">        gantt.</span><span style="color:#6F42C1;">scrollTo</span><span style="color:#24292E;">(ganTT[</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">].offsetLeft</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">300</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">      })</span></span>
<span class="line"><span style="color:#24292E;"> },</span></span></code></pre></div><h4 id="全屏-类f11" tabindex="-1">全屏(类F11) <a class="header-anchor" href="#全屏-类f11" aria-label="Permalink to &quot;全屏(类F11)&quot;">​</a></h4><div class="language-scss vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">scss</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">// 是否全屏</span></span>
<span class="line"><span style="color:#F6F6F4;">changeFull() {</span></span>
<span class="line"><span style="color:#F6F6F4;">   gantt</span><span style="color:#62E884;font-style:italic;">.ext.fullscreen</span><span style="color:#F6F6F4;">.toggle();</span></span>
<span class="line"><span style="color:#F6F6F4;"> },</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// 是否全屏</span></span>
<span class="line"><span style="color:#24292E;">changeFull() {</span></span>
<span class="line"><span style="color:#24292E;">   </span><span style="color:#005CC5;">gantt</span><span style="color:#6F42C1;">.ext.fullscreen</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">toggle</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;"> },</span></span></code></pre></div><h4 id="搜索功能" tabindex="-1">搜索功能 <a class="header-anchor" href="#搜索功能" aria-label="Permalink to &quot;搜索功能&quot;">​</a></h4><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">//</span></span>
<span class="line"><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">a</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">input allowClear v</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">model</span><span style="color:#F286C4;">=</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">searchTitle</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> placeholder</span><span style="color:#F286C4;">=</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">请输入任务名称</span><span style="color:#DEE492;">&quot;</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;">&lt;/</span><span style="color:#97E1F1;font-style:italic;">a</span><span style="color:#F6F6F4;">-</span><span style="color:#97E1F1;font-style:italic;">input</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">a</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">button icon</span><span style="color:#F286C4;">=</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">search</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> type</span><span style="color:#F286C4;">=</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">primary</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> @</span><span style="color:#62E884;font-style:italic;">click</span><span style="color:#F286C4;">=</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">searchDataClick</span><span style="color:#DEE492;">&quot;</span><span style="color:#F286C4;">&gt;</span><span style="color:#62E884;font-style:italic;">搜索</span><span style="color:#F286C4;">&lt;/</span><span style="color:#62E884;font-style:italic;">a</span><span style="color:#F286C4;">-</span><span style="color:#62E884;font-style:italic;">button</span><span style="color:#F286C4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;"> </span><span style="color:#7B7F8B;">//点击按钮搜索</span></span>
<span class="line"><span style="color:#F6F6F4;">#methods</span></span>
<span class="line"><span style="color:#7B7F8B;">// 搜索判断数据</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">hasSubstr</span><span style="color:#F6F6F4;">(parentId,type){</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">let</span><span style="color:#F6F6F4;"> task </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> gantt.</span><span style="color:#62E884;">getTask</span><span style="color:#F6F6F4;">(parentId);</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;">(type</span><span style="color:#F286C4;">==</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">tilte</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">){</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;">(task.text.</span><span style="color:#62E884;">toLowerCase</span><span style="color:#F6F6F4;">().</span><span style="color:#62E884;">indexOf</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.searchTitle) </span><span style="color:#F286C4;">!==</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">-</span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">true</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">      }</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">// }  </span></span>
<span class="line"><span style="color:#F6F6F4;">    },</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">searchDataClick</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.searchTitle  ){</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.ganttEvent.onBeforeTaskDisplay</span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;">gantt.</span><span style="color:#62E884;">attachEvent</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">onBeforeTaskDisplay</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, (</span><span style="color:#FFB86C;font-style:italic;">id</span><span style="color:#F6F6F4;">, </span><span style="color:#FFB86C;font-style:italic;">task</span><span style="color:#F6F6F4;">)</span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">hasSubstr</span><span style="color:#F6F6F4;">(id,</span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">tilte</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">) ){ </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">true</span><span style="color:#F6F6F4;">;}</span></span>
<span class="line"><span style="color:#F6F6F4;">            </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">false</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          });</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.</span><span style="color:#62E884;">refreshData</span><span style="color:#F6F6F4;">()</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.</span><span style="color:#62E884;">render</span><span style="color:#F6F6F4;">()</span></span>
<span class="line"><span style="color:#F6F6F4;">      }</span><span style="color:#F286C4;">else</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.ganttEvent.onBeforeTaskDisplay</span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;">gantt.</span><span style="color:#62E884;">attachEvent</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">onBeforeTaskDisplay</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, (</span><span style="color:#FFB86C;font-style:italic;">id</span><span style="color:#F6F6F4;">, </span><span style="color:#FFB86C;font-style:italic;">task</span><span style="color:#F6F6F4;">)</span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">         </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">true</span></span>
<span class="line"><span style="color:#F6F6F4;">        })</span></span>
<span class="line"><span style="color:#F6F6F4;">        gantt.</span><span style="color:#62E884;">refreshData</span><span style="color:#F6F6F4;">()</span></span>
<span class="line"><span style="color:#F6F6F4;">        gantt.</span><span style="color:#62E884;">render</span><span style="color:#F6F6F4;">()</span></span>
<span class="line"><span style="color:#F6F6F4;">      }</span></span>
<span class="line"><span style="color:#F6F6F4;">    },</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">//</span></span>
<span class="line"><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">a</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">input allowClear v</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">model</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;searchTitle&quot;</span><span style="color:#24292E;"> placeholder</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;请输入任务名称&quot;</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;">&lt;/</span><span style="color:#6F42C1;">a</span><span style="color:#24292E;">-</span><span style="color:#6F42C1;">input</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">a</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">button icon</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;search&quot;</span><span style="color:#24292E;"> type</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;primary&quot;</span><span style="color:#24292E;"> @click</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;searchDataClick&quot;</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;">搜索</span><span style="color:#D73A49;">&lt;/</span><span style="color:#24292E;">a</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">button</span><span style="color:#D73A49;">&gt;</span></span>
<span class="line"><span style="color:#24292E;"> </span><span style="color:#6A737D;">//点击按钮搜索</span></span>
<span class="line"><span style="color:#24292E;">#methods</span></span>
<span class="line"><span style="color:#6A737D;">// 搜索判断数据</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">hasSubstr</span><span style="color:#24292E;">(parentId,type){</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> task </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> gantt.</span><span style="color:#6F42C1;">getTask</span><span style="color:#24292E;">(parentId);</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(type</span><span style="color:#D73A49;">==</span><span style="color:#032F62;">&#39;tilte&#39;</span><span style="color:#24292E;">){</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(task.text.</span><span style="color:#6F42C1;">toLowerCase</span><span style="color:#24292E;">().</span><span style="color:#6F42C1;">indexOf</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.searchTitle) </span><span style="color:#D73A49;">!==</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// }  </span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">searchDataClick</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.searchTitle  ){</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.ganttEvent.onBeforeTaskDisplay</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">gantt.</span><span style="color:#6F42C1;">attachEvent</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;onBeforeTaskDisplay&quot;</span><span style="color:#24292E;">, (</span><span style="color:#E36209;">id</span><span style="color:#24292E;">, </span><span style="color:#E36209;">task</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">hasSubstr</span><span style="color:#24292E;">(id,</span><span style="color:#032F62;">&#39;tilte&#39;</span><span style="color:#24292E;">) ){ </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">;}</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">          });</span></span>
<span class="line"><span style="color:#24292E;">          gantt.</span><span style="color:#6F42C1;">refreshData</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">          gantt.</span><span style="color:#6F42C1;">render</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">      }</span><span style="color:#D73A49;">else</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.ganttEvent.onBeforeTaskDisplay</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">gantt.</span><span style="color:#6F42C1;">attachEvent</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;onBeforeTaskDisplay&quot;</span><span style="color:#24292E;">, (</span><span style="color:#E36209;">id</span><span style="color:#24292E;">, </span><span style="color:#E36209;">task</span><span style="color:#24292E;">)</span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span></span>
<span class="line"><span style="color:#24292E;">        })</span></span>
<span class="line"><span style="color:#24292E;">        gantt.</span><span style="color:#6F42C1;">refreshData</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">        gantt.</span><span style="color:#6F42C1;">render</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span></code></pre></div><h4 id="日期切换" tabindex="-1">日期切换 <a class="header-anchor" href="#日期切换" aria-label="Permalink to &quot;日期切换&quot;">​</a></h4><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">// 切换 年 季 月 周 日视图 </span></span>
<span class="line"><span style="color:#F6F6F4;">    ganttChangeDateView(type) {</span></span>
<span class="line"><span style="color:#F6F6F4;">      switch (type) {</span></span>
<span class="line"><span style="color:#F6F6F4;">        case </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">y</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">gantt.config.scale_unit</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">year</span><span style="color:#DEE492;">&quot;</span><span style="color:#7B7F8B;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">gantt.config.step</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> 1</span><span style="color:#7B7F8B;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">gantt.config.subscales</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> null</span><span style="color:#7B7F8B;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">gantt.config.date_scale</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">%Y年</span><span style="color:#DEE492;">&quot;</span><span style="color:#7B7F8B;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">gantt.templates.date_scale</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> null</span><span style="color:#7B7F8B;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          break</span><span style="color:#7B7F8B;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">        case </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">m</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">gantt.config.scale_unit</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">month</span><span style="color:#DEE492;">&#39;</span><span style="color:#7B7F8B;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">gantt.config.step</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> 1</span><span style="color:#7B7F8B;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">gantt.config.date_scale</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">%m月</span><span style="color:#DEE492;">&quot;</span><span style="color:#7B7F8B;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">gantt.templates.date_scale</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> null</span><span style="color:#7B7F8B;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span></span>
<span class="line"><span style="color:#F6F6F4;">          break</span><span style="color:#7B7F8B;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">        case </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">w</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">gantt.config.scale_unit</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">week</span><span style="color:#DEE492;">&#39;</span><span style="color:#7B7F8B;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">gantt.config.step</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> 1</span><span style="color:#7B7F8B;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">gantt.config.date_scale</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">第%w周</span><span style="color:#DEE492;">&quot;</span><span style="color:#7B7F8B;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">gantt.templates.date_scale</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> null</span><span style="color:#7B7F8B;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">       </span></span>
<span class="line"><span style="color:#F6F6F4;">          break</span><span style="color:#7B7F8B;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">        case </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">d</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">gantt.config.scale_unit</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">day</span><span style="color:#DEE492;">&#39;</span><span style="color:#7B7F8B;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">gantt.config.step</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> 1</span><span style="color:#7B7F8B;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">gantt.config.date_scale</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">%m月%d日</span><span style="color:#DEE492;">&quot;</span><span style="color:#7B7F8B;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">gantt.templates.date_scale</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> null</span><span style="color:#7B7F8B;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">gantt.config.subscales</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> null</span><span style="color:#7B7F8B;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span></span>
<span class="line"><span style="color:#F6F6F4;">          break</span><span style="color:#7B7F8B;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">      }</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.render()</span><span style="color:#7B7F8B;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    },</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">// 切换 年 季 月 周 日视图 </span></span>
<span class="line"><span style="color:#24292E;">    ganttChangeDateView(type) {</span></span>
<span class="line"><span style="color:#24292E;">      switch (type) {</span></span>
<span class="line"><span style="color:#24292E;">        case </span><span style="color:#032F62;">&#39;y&#39;</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">gantt.config.scale_unit</span><span style="color:#24292E;"> = </span><span style="color:#032F62;">&quot;year&quot;</span><span style="color:#6A737D;">;</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">gantt.config.step</span><span style="color:#24292E;"> = 1</span><span style="color:#6A737D;">;</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">gantt.config.subscales</span><span style="color:#24292E;"> = null</span><span style="color:#6A737D;">;</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">gantt.config.date_scale</span><span style="color:#24292E;"> = </span><span style="color:#032F62;">&quot;%Y年&quot;</span><span style="color:#6A737D;">;</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">gantt.templates.date_scale</span><span style="color:#24292E;"> = null</span><span style="color:#6A737D;">;</span></span>
<span class="line"><span style="color:#24292E;">          break</span><span style="color:#6A737D;">;</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">        case </span><span style="color:#032F62;">&#39;m&#39;</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">gantt.config.scale_unit</span><span style="color:#24292E;"> = </span><span style="color:#032F62;">&#39;month&#39;</span><span style="color:#6A737D;">;</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">gantt.config.step</span><span style="color:#24292E;"> = 1</span><span style="color:#6A737D;">;</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">gantt.config.date_scale</span><span style="color:#24292E;"> = </span><span style="color:#032F62;">&quot;%m月&quot;</span><span style="color:#6A737D;">;</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">gantt.templates.date_scale</span><span style="color:#24292E;"> = null</span><span style="color:#6A737D;">;</span></span>
<span class="line"><span style="color:#24292E;">        </span></span>
<span class="line"><span style="color:#24292E;">          break</span><span style="color:#6A737D;">;</span></span>
<span class="line"><span style="color:#24292E;">        case </span><span style="color:#032F62;">&#39;w&#39;</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">gantt.config.scale_unit</span><span style="color:#24292E;"> = </span><span style="color:#032F62;">&#39;week&#39;</span><span style="color:#6A737D;">;</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">gantt.config.step</span><span style="color:#24292E;"> = 1</span><span style="color:#6A737D;">;</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">gantt.config.date_scale</span><span style="color:#24292E;"> = </span><span style="color:#032F62;">&quot;第%w周&quot;</span><span style="color:#6A737D;">;</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">gantt.templates.date_scale</span><span style="color:#24292E;"> = null</span><span style="color:#6A737D;">;</span></span>
<span class="line"><span style="color:#24292E;">       </span></span>
<span class="line"><span style="color:#24292E;">          break</span><span style="color:#6A737D;">;</span></span>
<span class="line"><span style="color:#24292E;">        case </span><span style="color:#032F62;">&#39;d&#39;</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">gantt.config.scale_unit</span><span style="color:#24292E;"> = </span><span style="color:#032F62;">&#39;day&#39;</span><span style="color:#6A737D;">;</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">gantt.config.step</span><span style="color:#24292E;"> = 1</span><span style="color:#6A737D;">;</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">gantt.config.date_scale</span><span style="color:#24292E;"> = </span><span style="color:#032F62;">&quot;%m月%d日&quot;</span><span style="color:#6A737D;">;</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">gantt.templates.date_scale</span><span style="color:#24292E;"> = null</span><span style="color:#6A737D;">;</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">gantt.config.subscales</span><span style="color:#24292E;"> = null</span><span style="color:#6A737D;">;</span></span>
<span class="line"><span style="color:#24292E;">          </span></span>
<span class="line"><span style="color:#24292E;">          break</span><span style="color:#6A737D;">;</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">      gantt.render()</span><span style="color:#6A737D;">;</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span></code></pre></div><p><strong>图例</strong></p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c7ad7a5855904f40b6bfb17f048a09bd~tplv-k3u1fbpfcp-zoom-in-crop-mark:3024:0:0:0.image" alt="feature"></p><h3 id="完整代码" tabindex="-1">完整代码 <a class="header-anchor" href="#完整代码" aria-label="Permalink to &quot;完整代码&quot;">​</a></h3><div class="language-kotlin vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">kotlin</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">&lt;template&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">  &lt;div style</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&quot;height: 100%; width: 100%&quot;</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">    &lt;a</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">layout&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">      &lt;div class</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&quot;content&quot;</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">        &lt;div style</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&quot;margin: -5px 0px 5px;display: flex;justify-content: space-between;&quot;</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">            &lt;a</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">input allowClear v</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">model</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&quot;searchTitle&quot;</span><span style="color:#F6F6F4;"> placeholder</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&quot;请输入任务名称&quot;</span><span style="color:#F6F6F4;">&gt;&lt;</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">a</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">input&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">            &lt;a</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">button icon</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&quot;search&quot;</span><span style="color:#F6F6F4;"> type</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&quot;primary&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">@click</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&quot;searchDataClick&quot;</span><span style="color:#F6F6F4;">&gt;搜索&lt;</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">a</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">button&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">        &lt;</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">div&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">        &lt;</span><span style="color:#F286C4;">!--</span><span style="color:#F6F6F4;"> 中间 内容 </span><span style="color:#F286C4;">--</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">        &lt;div class</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&quot;centerContent&quot;</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">          &lt;</span><span style="color:#F286C4;">!--</span><span style="color:#F6F6F4;"> 甘特图 </span><span style="color:#F286C4;">--</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">          &lt;div class</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&quot;selectDate&quot;</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">            &lt;a</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">button </span><span style="color:#97E1F1;font-style:italic;">@click</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&quot;changeToday&quot;</span><span style="color:#F6F6F4;">&gt;今&lt;</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">a</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">button&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">            &lt;</span><span style="color:#F286C4;">!--</span><span style="color:#F6F6F4;"> 日期切换 </span><span style="color:#F286C4;">--</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">            &lt;a</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">select  default</span><span style="color:#F286C4;">-value=</span><span style="color:#E7EE98;">&quot;d&quot;</span><span style="color:#F6F6F4;"> style</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&quot;width: 55px;margin-left: 5px;&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">@change</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&quot;ganttChangeDateView&quot;</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">              &lt;a</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">select</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">option </span><span style="color:#F286C4;">value=</span><span style="color:#E7EE98;">&quot;y&quot;</span><span style="color:#F6F6F4;">&gt;年&lt;</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">a</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">select</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">option&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">              &lt;a</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">select</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">option </span><span style="color:#F286C4;">value=</span><span style="color:#E7EE98;">&quot;m&quot;</span><span style="color:#F6F6F4;">&gt;月&lt;</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">a</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">select</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">option&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">              &lt;a</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">select</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">option </span><span style="color:#F286C4;">value=</span><span style="color:#E7EE98;">&quot;w&quot;</span><span style="color:#F6F6F4;">&gt;周&lt;</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">a</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">select</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">option&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">              &lt;a</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">select</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">option </span><span style="color:#F286C4;">value=</span><span style="color:#E7EE98;">&quot;d&quot;</span><span style="color:#F6F6F4;">&gt;日&lt;</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">a</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">select</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">option&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">            &lt;</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">a</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">select&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">            &lt;a</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">button style</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&quot;margin-left: 5px;&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">@click</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&quot;changeFull&quot;</span><span style="color:#F6F6F4;">&gt;&lt;a</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">icon type</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&quot;fullscreen&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">&gt;&lt;</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">a</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">button&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">          &lt;</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">div&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">          &lt;div class</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&quot;rightGatt&quot;</span><span style="color:#F6F6F4;"> style</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&quot;min-height:calc(78vh - 50px - 5px );width: 100%;overflow: hidden;&quot;</span><span style="color:#F6F6F4;"> ref</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&quot;gantt&quot;</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">          &lt;</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">div&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">        &lt;</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">div&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">      &lt;</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">div&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">    &lt;</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">a</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">layout&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">  &lt;</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">div&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">&lt;</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">template&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  gantt</span></span>
<span class="line"><span style="color:#F6F6F4;">} from </span><span style="color:#E7EE98;">&#39;@/assets/js/dhtmlx&#39;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> &quot;@/assets/css/dhtmlxgantt.css&quot;;</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> { util } from &quot;@/components/utils/util.js&quot;</span></span>
<span class="line"><span style="color:#F286C4;">import</span><span style="color:#F6F6F4;"> moment from &#39;moment&#39;</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">export </span><span style="color:#62E884;">default</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  name: </span><span style="color:#E7EE98;">&quot;ganttChart&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">() {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">      moment,</span></span>
<span class="line"><span style="color:#F6F6F4;">      timer: </span><span style="color:#97E1F1;font-style:italic;">null</span><span style="color:#F6F6F4;">,</span><span style="color:#7B7F8B;">//定时</span></span>
<span class="line"><span style="color:#F6F6F4;">      item: {},</span><span style="color:#7B7F8B;">//单行数据</span></span>
<span class="line"><span style="color:#F6F6F4;">      searchTitle: </span><span style="color:#E7EE98;">&quot;&quot;</span><span style="color:#F6F6F4;">,</span><span style="color:#7B7F8B;">//搜索标题</span></span>
<span class="line"><span style="color:#F6F6F4;">      tasks: {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">: [],</span><span style="color:#7B7F8B;">//数据</span></span>
<span class="line"><span style="color:#F6F6F4;">        links: [],</span><span style="color:#7B7F8B;">//关联项目数据</span></span>
<span class="line"><span style="color:#F6F6F4;">      },</span></span>
<span class="line"><span style="color:#F6F6F4;">      savetasks: {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">: [],</span></span>
<span class="line"><span style="color:#F6F6F4;">        links: []</span></span>
<span class="line"><span style="color:#F6F6F4;">      },</span><span style="color:#7B7F8B;">//暂存空数据</span></span>
<span class="line"><span style="color:#F6F6F4;">      ganttServerStaff:[],</span><span style="color:#7B7F8B;">//设置gantt成员数据</span></span>
<span class="line"><span style="color:#F6F6F4;">      selectStaff: [],</span><span style="color:#7B7F8B;">//下拉成员</span></span>
<span class="line"><span style="color:#F6F6F4;">      staff: [],</span><span style="color:#7B7F8B;">//成员</span></span>
<span class="line"><span style="color:#F6F6F4;">      ganttEvent: {</span><span style="color:#7B7F8B;">//销毁事件</span></span>
<span class="line"><span style="color:#F6F6F4;">      },</span></span>
<span class="line"><span style="color:#F6F6F4;">      urls: {</span></span>
<span class="line"><span style="color:#F6F6F4;">        staff: </span><span style="color:#E7EE98;">&quot;&quot;</span><span style="color:#F6F6F4;">,</span><span style="color:#7B7F8B;">//项目成员</span></span>
<span class="line"><span style="color:#F6F6F4;">        tasklinks: </span><span style="color:#E7EE98;">&#39;&#39;</span><span style="color:#F6F6F4;">,</span><span style="color:#7B7F8B;">//gantt数据</span></span>
<span class="line"><span style="color:#F6F6F4;">        linksEdit: </span><span style="color:#E7EE98;">&#39;&#39;</span><span style="color:#F6F6F4;">,</span><span style="color:#7B7F8B;">//修改和新增连接</span></span>
<span class="line"><span style="color:#F6F6F4;">        linksDelete: </span><span style="color:#E7EE98;">&#39;&#39;</span><span style="color:#F6F6F4;">,</span><span style="color:#7B7F8B;">//删除连接</span></span>
<span class="line"><span style="color:#F6F6F4;">        addTask: </span><span style="color:#E7EE98;">&#39;&#39;</span><span style="color:#F6F6F4;">,</span><span style="color:#7B7F8B;">//新增项目PUT</span></span>
<span class="line"><span style="color:#F6F6F4;">        editTask: </span><span style="color:#E7EE98;">&#39;&#39;</span><span style="color:#F6F6F4;">,</span><span style="color:#7B7F8B;">//编辑项目put请求 tid </span></span>
<span class="line"><span style="color:#F6F6F4;">        deleteTask: </span><span style="color:#E7EE98;">&#39;&#39;</span><span style="color:#F6F6F4;">,</span><span style="color:#7B7F8B;">//删除项目delete tid</span></span>
<span class="line"><span style="color:#F6F6F4;">      }</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">  },</span></span>
<span class="line"><span style="color:#F6F6F4;">  watch: {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">searchTitle</span><span style="color:#F6F6F4;">(newVal,oldVal){</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.searchTitle </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> newVal;</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">  },</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#62E884;">mounted</span><span style="color:#F6F6F4;">() {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.axios.</span><span style="color:#62E884;">get</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.urls.staff, {</span></span>
<span class="line"><span style="color:#F6F6F4;">        params: { projectId:  </span><span style="color:#97E1F1;font-style:italic;">this</span><span style="color:#F6F6F4;">.$store.state.project_data.id },</span></span>
<span class="line"><span style="color:#F6F6F4;">      }).</span><span style="color:#62E884;">then</span><span style="color:#F6F6F4;">(res </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">        let staffArr </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> [];</span></span>
<span class="line"><span style="color:#F6F6F4;">        res.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.code </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">200</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">&amp;&amp;</span><span style="color:#F6F6F4;"> res.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.result.</span><span style="color:#62E884;">forEach</span><span style="color:#F6F6F4;">((item, index) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">          staffArr[index] </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> {};</span></span>
<span class="line"><span style="color:#F6F6F4;">          staffArr[index].key </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> item.id;</span></span>
<span class="line"><span style="color:#F6F6F4;">          staffArr[index].label </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> item.realname;</span></span>
<span class="line"><span style="color:#F6F6F4;">        })</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.selectStaff </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> res.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.result;</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#7B7F8B;">// 补充gantt数据</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.ganttServerStaff</span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;">staffArr;</span></span>
<span class="line"><span style="color:#F6F6F4;">       </span></span>
<span class="line"><span style="color:#F6F6F4;">      })</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.$</span><span style="color:#62E884;">nextTick</span><span style="color:#F6F6F4;">(()</span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">ganttChangeEvent</span><span style="color:#F6F6F4;">();</span><span style="color:#7B7F8B;">//交互事件</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">initGantt</span><span style="color:#F6F6F4;">();</span><span style="color:#7B7F8B;">//初始化</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">createTodayLine</span><span style="color:#F6F6F4;">();</span><span style="color:#7B7F8B;">//今日线</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">ganttServerList</span><span style="color:#F6F6F4;">();</span><span style="color:#7B7F8B;">//服务数据</span></span>
<span class="line"><span style="color:#F6F6F4;">    })</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">onQuery</span><span style="color:#F6F6F4;">();</span><span style="color:#7B7F8B;">//查询数据</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">ganttChangeDateView</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;d&quot;</span><span style="color:#F6F6F4;">);</span><span style="color:#7B7F8B;">//默认日格式</span></span>
<span class="line"><span style="color:#F6F6F4;">  },</span></span>
<span class="line"><span style="color:#F6F6F4;">  methods: {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">/*</span></span>
<span class="line"><span style="color:#7B7F8B;">      甘特图 </span></span>
<span class="line"><span style="color:#7B7F8B;">     */</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// 初始化gantt</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">initGantt</span><span style="color:#F6F6F4;">() {</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">// 清空之前的配置</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">// gantt.clearAll();</span></span>
<span class="line"><span style="color:#F6F6F4;">   </span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">// 启用动态加载</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.config.branch_loading </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">true</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">//日期格式化</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.config.xml_date </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">&quot;%Y-%m-%d&quot;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.config.order_branch </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">true</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.config.order_branch_free </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">true</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">//左侧是否自适应</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.config.autofit </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">true</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.config.drag_links </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">true</span><span style="color:#F6F6F4;">;</span><span style="color:#7B7F8B;">//连线</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.config.readonly </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">false</span><span style="color:#F6F6F4;">;  </span><span style="color:#7B7F8B;">//只读</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.config.date_scale </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">&quot;%m月%d日&quot;</span><span style="color:#F6F6F4;">; </span><span style="color:#7B7F8B;">//右侧显示列名</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.config.layout </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> {</span><span style="color:#7B7F8B;">//拖拽布局</span></span>
<span class="line"><span style="color:#F6F6F4;">        css: </span><span style="color:#E7EE98;">&quot;gantt_container&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">        rows: [</span></span>
<span class="line"><span style="color:#F6F6F4;">          {</span></span>
<span class="line"><span style="color:#F6F6F4;">            cols: [</span></span>
<span class="line"><span style="color:#F6F6F4;">              { view: </span><span style="color:#E7EE98;">&quot;grid&quot;</span><span style="color:#F6F6F4;">, id: </span><span style="color:#E7EE98;">&quot;grid&quot;</span><span style="color:#F6F6F4;">, scrollX: </span><span style="color:#E7EE98;">&quot;scrollHor&quot;</span><span style="color:#F6F6F4;">, scrollY: </span><span style="color:#E7EE98;">&quot;scrollVer&quot;</span><span style="color:#F6F6F4;"> },</span></span>
<span class="line"><span style="color:#F6F6F4;">              { resizer: </span><span style="color:#97E1F1;font-style:italic;">true</span><span style="color:#F6F6F4;">, width: </span><span style="color:#97E1F1;font-style:italic;">1</span><span style="color:#F6F6F4;"> },</span></span>
<span class="line"><span style="color:#F6F6F4;">              { view: </span><span style="color:#E7EE98;">&quot;timeline&quot;</span><span style="color:#F6F6F4;">, id: </span><span style="color:#E7EE98;">&quot;timeline&quot;</span><span style="color:#F6F6F4;">, scrollX: </span><span style="color:#E7EE98;">&quot;scrollHor&quot;</span><span style="color:#F6F6F4;">, scrollY: </span><span style="color:#E7EE98;">&quot;scrollVer&quot;</span><span style="color:#F6F6F4;"> },</span></span>
<span class="line"><span style="color:#F6F6F4;">              { view: </span><span style="color:#E7EE98;">&quot;scrollbar&quot;</span><span style="color:#F6F6F4;">, scroll: </span><span style="color:#E7EE98;">&quot;y&quot;</span><span style="color:#F6F6F4;">, id: </span><span style="color:#E7EE98;">&quot;scrollVer&quot;</span><span style="color:#F6F6F4;"> }</span></span>
<span class="line"><span style="color:#F6F6F4;">            ]</span></span>
<span class="line"><span style="color:#F6F6F4;">          },</span></span>
<span class="line"><span style="color:#F6F6F4;">          { view: </span><span style="color:#E7EE98;">&quot;scrollbar&quot;</span><span style="color:#F6F6F4;">, scroll: </span><span style="color:#E7EE98;">&quot;x&quot;</span><span style="color:#F6F6F4;">, id: </span><span style="color:#E7EE98;">&quot;scrollHor&quot;</span><span style="color:#F6F6F4;">, height: </span><span style="color:#97E1F1;font-style:italic;">20</span><span style="color:#F6F6F4;"> }</span></span>
<span class="line"><span style="color:#F6F6F4;">        ]</span></span>
<span class="line"><span style="color:#F6F6F4;">      };</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.config.start_on_monday </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">true</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.config.work_time </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">true</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.config.fit_tasks </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">true</span><span style="color:#F6F6F4;">;   </span><span style="color:#7B7F8B;">//自动调整图表坐标轴区间用于适配task的长度</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">//汉化</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.locale </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">        date: {</span></span>
<span class="line"><span style="color:#F6F6F4;">          month_full: [</span><span style="color:#E7EE98;">&quot;1&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;2&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;3&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;4&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;5&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;6&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;7&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;8&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;9&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;10&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;11&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;12&quot;</span><span style="color:#F6F6F4;">],</span></span>
<span class="line"><span style="color:#F6F6F4;">          month_short: [</span><span style="color:#E7EE98;">&quot;1月&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;2月&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;3月&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;4月&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;5月&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;6月&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;7月&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;8月&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;9月&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;10月&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;11月&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;12月&quot;</span><span style="color:#F6F6F4;">],</span></span>
<span class="line"><span style="color:#F6F6F4;">          day_full: [</span><span style="color:#E7EE98;">&quot;星期日&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;星期一&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;星期二&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;星期三&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;星期四&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;星期五&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;星期六&quot;</span><span style="color:#F6F6F4;">],</span></span>
<span class="line"><span style="color:#F6F6F4;">          day_short: [</span><span style="color:#E7EE98;">&quot;日&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;一&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;二&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;三&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;四&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;五&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;六&quot;</span><span style="color:#F6F6F4;">]</span></span>
<span class="line"><span style="color:#F6F6F4;">        },</span></span>
<span class="line"><span style="color:#F6F6F4;">        labels: {</span></span>
<span class="line"><span style="color:#F6F6F4;">          dhx_cal_today_button: </span><span style="color:#E7EE98;">&quot;今天&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          day_tab: </span><span style="color:#E7EE98;">&quot;日&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          week_tab: </span><span style="color:#E7EE98;">&quot;周&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          month_tab: </span><span style="color:#E7EE98;">&quot;月&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          new_event: </span><span style="color:#E7EE98;">&quot;新建日程&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          icon_save: </span><span style="color:#E7EE98;">&quot;保存&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          icon_cancel: </span><span style="color:#E7EE98;">&quot;关闭&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          icon_details: </span><span style="color:#E7EE98;">&quot;详细&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          icon_edit: </span><span style="color:#E7EE98;">&quot;编辑&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          icon_delete: </span><span style="color:#E7EE98;">&quot;删除&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          confirm_closing: </span><span style="color:#E7EE98;">&quot;请确认是否撤销修改!&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#7B7F8B;">//Your changes will be lost, are your sure?</span></span>
<span class="line"><span style="color:#F6F6F4;">          confirm_deleting: </span><span style="color:#E7EE98;">&quot;是否删除计划?&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          section_description: </span><span style="color:#E7EE98;">&quot;描述:&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          section_time: </span><span style="color:#E7EE98;">&quot;时间范围:&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          section_type: </span><span style="color:#E7EE98;">&quot;类型:&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          section_text: </span><span style="color:#E7EE98;">&quot;计划名称:&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          section_test: </span><span style="color:#E7EE98;">&quot;测试:&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          section_projectClass: </span><span style="color:#E7EE98;">&quot;项目类型:&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          taskProjectType_0: </span><span style="color:#E7EE98;">&quot;项目任务&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          taskProjectType_1: </span><span style="color:#E7EE98;">&quot;普通任务&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          section_head: </span><span style="color:#E7EE98;">&quot;负责人:&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          section_priority: </span><span style="color:#E7EE98;">&#39;优先级:&#39;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          taskProgress: </span><span style="color:#E7EE98;">&#39;任务状态&#39;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          taskProgress_0: </span><span style="color:#E7EE98;">&quot;未开始&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          taskProgress_1: </span><span style="color:#E7EE98;">&quot;进行中&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          taskProgress_2: </span><span style="color:#E7EE98;">&quot;已完成&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          taskProgress_3: </span><span style="color:#E7EE98;">&quot;已延期&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          taskProgress_4: </span><span style="color:#E7EE98;">&quot;搁置中&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          section_template: </span><span style="color:#E7EE98;">&#39;Details&#39;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#7B7F8B;">/* grid columns */</span></span>
<span class="line"><span style="color:#F6F6F4;">          column_text: </span><span style="color:#E7EE98;">&quot;计划名称&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          column_start_date: </span><span style="color:#E7EE98;">&quot;开始时间&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          column_duration: </span><span style="color:#E7EE98;">&quot;持续时间&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          column_add: </span><span style="color:#E7EE98;">&quot;&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          column_priority: </span><span style="color:#E7EE98;">&quot;难度&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#7B7F8B;">/* link confirmation */</span></span>
<span class="line"><span style="color:#F6F6F4;">          link: </span><span style="color:#E7EE98;">&quot;关联&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          confirm_link_deleting: </span><span style="color:#E7EE98;">&quot;将被删除&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          message_ok:</span><span style="color:#E7EE98;">&#39;确定&#39;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          message_cancel:</span><span style="color:#E7EE98;">&#39;取消&#39;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          link_start: </span><span style="color:#E7EE98;">&quot; (开始)&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          link_end: </span><span style="color:#E7EE98;">&quot; (结束)&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">          type_task: </span><span style="color:#E7EE98;">&quot;任务&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          type_project: </span><span style="color:#E7EE98;">&quot;项目&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          type_milestone: </span><span style="color:#E7EE98;">&quot;里程碑&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">          minutes: </span><span style="color:#E7EE98;">&quot;分钟&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          hours: </span><span style="color:#E7EE98;">&quot;小时&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          days: </span><span style="color:#E7EE98;">&quot;天&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          weeks: </span><span style="color:#E7EE98;">&quot;周&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          months: </span><span style="color:#E7EE98;">&quot;月&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          years: </span><span style="color:#E7EE98;">&quot;年&quot;</span></span>
<span class="line"><span style="color:#F6F6F4;">        }</span></span>
<span class="line"><span style="color:#F6F6F4;">      }</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.</span><span style="color:#62E884;">serverList</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;priority&quot;</span><span style="color:#F6F6F4;">, [</span></span>
<span class="line"><span style="color:#F6F6F4;">        { key: </span><span style="color:#97E1F1;font-style:italic;">0</span><span style="color:#F6F6F4;">, label: </span><span style="color:#E7EE98;">&quot;最高&quot;</span><span style="color:#F6F6F4;"> },</span></span>
<span class="line"><span style="color:#F6F6F4;">        { key: </span><span style="color:#97E1F1;font-style:italic;">1</span><span style="color:#F6F6F4;">, label: </span><span style="color:#E7EE98;">&quot;较高&quot;</span><span style="color:#F6F6F4;"> },</span></span>
<span class="line"><span style="color:#F6F6F4;">        { key: </span><span style="color:#97E1F1;font-style:italic;">2</span><span style="color:#F6F6F4;">, label: </span><span style="color:#E7EE98;">&quot;普通&quot;</span><span style="color:#F6F6F4;"> },</span></span>
<span class="line"><span style="color:#F6F6F4;">        { key: </span><span style="color:#97E1F1;font-style:italic;">3</span><span style="color:#F6F6F4;">, label: </span><span style="color:#E7EE98;">&quot;较低&quot;</span><span style="color:#F6F6F4;"> },</span></span>
<span class="line"><span style="color:#F6F6F4;">        { key: </span><span style="color:#97E1F1;font-style:italic;">4</span><span style="color:#F6F6F4;">, label: </span><span style="color:#E7EE98;">&quot;最低&quot;</span><span style="color:#F6F6F4;"> },</span></span>
<span class="line"><span style="color:#F6F6F4;">      ]);</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">//左侧显示列名</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.config.columns </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> [</span></span>
<span class="line"><span style="color:#F6F6F4;">        { name: </span><span style="color:#E7EE98;">&quot;text&quot;</span><span style="color:#F6F6F4;">, min_width:</span><span style="color:#97E1F1;font-style:italic;">100</span><span style="color:#F6F6F4;">,max_width:</span><span style="color:#97E1F1;font-style:italic;">200</span><span style="color:#F6F6F4;">, label:</span><span style="color:#E7EE98;">&quot;任务&quot;</span><span style="color:#F6F6F4;">, align: </span><span style="color:#E7EE98;">&quot;left&quot;</span><span style="color:#F6F6F4;">,resize: </span><span style="color:#97E1F1;font-style:italic;">true</span><span style="color:#F6F6F4;">,  tree: </span><span style="color:#97E1F1;font-style:italic;">true</span><span style="color:#F6F6F4;">, editor: { type: </span><span style="color:#E7EE98;">&#39;text&#39;</span><span style="color:#F6F6F4;">, map_to: </span><span style="color:#E7EE98;">&#39;text&#39;</span><span style="color:#F6F6F4;"> } },</span></span>
<span class="line"><span style="color:#F6F6F4;">        { name: </span><span style="color:#E7EE98;">&quot;id&quot;</span><span style="color:#F6F6F4;">, label: </span><span style="color:#E7EE98;">&quot;&quot;</span><span style="color:#F6F6F4;">, hide: </span><span style="color:#97E1F1;font-style:italic;">true</span><span style="color:#F6F6F4;"> },</span></span>
<span class="line"><span style="color:#F6F6F4;">        { name: </span><span style="color:#E7EE98;">&quot;start_date&quot;</span><span style="color:#F6F6F4;">, label: </span><span style="color:#E7EE98;">&quot;开始时间&quot;</span><span style="color:#F6F6F4;">, width: </span><span style="color:#97E1F1;font-style:italic;">120</span><span style="color:#F6F6F4;">, resize: </span><span style="color:#97E1F1;font-style:italic;">true</span><span style="color:#F6F6F4;">, align: </span><span style="color:#E7EE98;">&quot;left&quot;</span><span style="color:#F6F6F4;"> },</span></span>
<span class="line"><span style="color:#F6F6F4;">        {</span></span>
<span class="line"><span style="color:#F6F6F4;">          name: </span><span style="color:#E7EE98;">&quot;head&quot;</span><span style="color:#F6F6F4;">, min_width: </span><span style="color:#97E1F1;font-style:italic;">100</span><span style="color:#F6F6F4;">, height: </span><span style="color:#97E1F1;font-style:italic;">40</span><span style="color:#F6F6F4;">, label: </span><span style="color:#E7EE98;">&quot;负责人&quot;</span><span style="color:#F6F6F4;">,resize: </span><span style="color:#97E1F1;font-style:italic;">true</span><span style="color:#F6F6F4;">, align: </span><span style="color:#E7EE98;">&quot;left&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#7B7F8B;">// editor: {</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#7B7F8B;">//   map_to: &quot;head_id&quot;, type: &quot;select&quot;, options: gantt.serverList(&quot;staff&quot;),</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#7B7F8B;">// },</span></span>
<span class="line"><span style="color:#F6F6F4;">          template: (</span><span style="color:#97E1F1;font-style:italic;">item</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">            </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">ganttDealById</span><span style="color:#F6F6F4;">(gantt.</span><span style="color:#62E884;">serverList</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&#39;staff&#39;</span><span style="color:#F6F6F4;">), item.head_id)) {</span></span>
<span class="line"><span style="color:#F6F6F4;">              </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> \`&lt;span class</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&#39;userIcon&#39;</span><span style="color:#F6F6F4;"> style</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&#39;background-color:\${item.color ? item.color : &quot;#6666&quot;}&#39;</span><span style="color:#F6F6F4;">&gt;\${</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">ganttDealById</span><span style="color:#F6F6F4;">(gantt.</span><span style="color:#62E884;">serverList</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&#39;staff&#39;</span><span style="color:#F6F6F4;">), item.head_id).</span><span style="color:#62E884;">slice</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">)}&lt;</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">span&gt;\${</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">ganttDealById</span><span style="color:#F6F6F4;">(gantt.</span><span style="color:#62E884;">serverList</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&#39;staff&#39;</span><span style="color:#F6F6F4;">), item.head_id)}\`</span></span>
<span class="line"><span style="color:#F6F6F4;">            }</span></span>
<span class="line"><span style="color:#F6F6F4;">          }</span></span>
<span class="line"><span style="color:#F6F6F4;">        },</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#7B7F8B;">// { name: &quot;end_date&quot;, label: &quot;结束时间&quot;, align: &quot;center&quot; },</span></span>
<span class="line"><span style="color:#F6F6F4;">        {</span></span>
<span class="line"><span style="color:#F6F6F4;">          name: </span><span style="color:#E7EE98;">&quot;taskProgress&quot;</span><span style="color:#F6F6F4;">, label: </span><span style="color:#E7EE98;">&quot;任务状态&quot;</span><span style="color:#F6F6F4;">, align: </span><span style="color:#E7EE98;">&quot;center&quot;</span><span style="color:#F6F6F4;">, min_width: </span><span style="color:#97E1F1;font-style:italic;">110</span><span style="color:#F6F6F4;">,editor: {</span></span>
<span class="line"><span style="color:#F6F6F4;">            type: </span><span style="color:#E7EE98;">&quot;select&quot;</span><span style="color:#F6F6F4;">, map_to: </span><span style="color:#E7EE98;">&quot;taskProgress&quot;</span><span style="color:#F6F6F4;">, options: [</span></span>
<span class="line"><span style="color:#F6F6F4;">              { key: </span><span style="color:#E7EE98;">&quot;0&quot;</span><span style="color:#F6F6F4;">, label: </span><span style="color:#97E1F1;font-style:italic;">gantt</span><span style="color:#F6F6F4;">.locale.labels.taskProgress_0 },</span></span>
<span class="line"><span style="color:#F6F6F4;">              { key: </span><span style="color:#E7EE98;">&quot;1&quot;</span><span style="color:#F6F6F4;">, label: </span><span style="color:#97E1F1;font-style:italic;">gantt</span><span style="color:#F6F6F4;">.locale.labels.taskProgress_1 },</span></span>
<span class="line"><span style="color:#F6F6F4;">              { key: </span><span style="color:#E7EE98;">&quot;2&quot;</span><span style="color:#F6F6F4;">, label: </span><span style="color:#97E1F1;font-style:italic;">gantt</span><span style="color:#F6F6F4;">.locale.labels.taskProgress_2 },</span></span>
<span class="line"><span style="color:#F6F6F4;">              { key: </span><span style="color:#E7EE98;">&quot;3&quot;</span><span style="color:#F6F6F4;">, label: </span><span style="color:#97E1F1;font-style:italic;">gantt</span><span style="color:#F6F6F4;">.locale.labels.taskProgress_3 },</span></span>
<span class="line"><span style="color:#F6F6F4;">              { key: </span><span style="color:#E7EE98;">&quot;4&quot;</span><span style="color:#F6F6F4;">, label: </span><span style="color:#97E1F1;font-style:italic;">gantt</span><span style="color:#F6F6F4;">.locale.labels.taskProgress_4 },</span></span>
<span class="line"><span style="color:#F6F6F4;">            ],</span></span>
<span class="line"><span style="color:#F6F6F4;">          },</span></span>
<span class="line"><span style="color:#F6F6F4;">          template: </span><span style="color:#97E1F1;font-style:italic;">function</span><span style="color:#F6F6F4;"> (</span><span style="color:#97E1F1;font-style:italic;">obj</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">            let re </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">&#39;&#39;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">            </span><span style="color:#62E884;">switch</span><span style="color:#F6F6F4;"> (obj.taskProgress) {</span></span>
<span class="line"><span style="color:#F6F6F4;">              case </span><span style="color:#E7EE98;">&quot;0&quot;</span><span style="color:#F6F6F4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">                re </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> \`&lt;div class</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&#39;taskProgress color_bg_1&#39;</span><span style="color:#F6F6F4;"> &gt;未开始&lt;</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">div&gt;\`</span></span>
<span class="line"><span style="color:#F6F6F4;">                </span><span style="color:#F286C4;">break</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">              case </span><span style="color:#E7EE98;">&quot;1&quot;</span><span style="color:#F6F6F4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">                re </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> \`&lt;div class</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&#39;taskProgress color_bg_2&#39;</span><span style="color:#F6F6F4;"> &gt;进行中&lt;</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">div&gt;\`</span></span>
<span class="line"><span style="color:#F6F6F4;">                </span><span style="color:#F286C4;">break</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">              case </span><span style="color:#E7EE98;">&quot;2&quot;</span><span style="color:#F6F6F4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">                re </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> \`&lt;div class</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&#39;taskProgress color_bg_3&#39;</span><span style="color:#F6F6F4;">  &gt;已完成&lt;</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">div&gt;\`</span></span>
<span class="line"><span style="color:#F6F6F4;">                </span><span style="color:#F286C4;">break</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">              case </span><span style="color:#E7EE98;">&quot;3&quot;</span><span style="color:#F6F6F4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">                re </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> \`&lt;div  class</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&#39;taskProgress color_bg_4&#39;</span><span style="color:#F6F6F4;">&gt;已延期&lt;</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">div&gt;\`</span></span>
<span class="line"><span style="color:#F6F6F4;">                </span><span style="color:#F286C4;">break</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">              case </span><span style="color:#E7EE98;">&quot;4&quot;</span><span style="color:#F6F6F4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">                re </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> \`&lt;div  class</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&#39;taskProgress color_bg_5&#39;</span><span style="color:#F6F6F4;"> &gt;搁置中&lt;</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">div&gt;\`</span></span>
<span class="line"><span style="color:#F6F6F4;">                </span><span style="color:#F286C4;">break</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">            }</span></span>
<span class="line"><span style="color:#F6F6F4;">            </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> re</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">          }</span></span>
<span class="line"><span style="color:#F6F6F4;">        },</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">      ];</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">//弹出层</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.config.lightbox.sections </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> [</span></span>
<span class="line"><span style="color:#F6F6F4;">        { name: </span><span style="color:#E7EE98;">&quot;text&quot;</span><span style="color:#F6F6F4;">, height: </span><span style="color:#97E1F1;font-style:italic;">70</span><span style="color:#F6F6F4;">, map_to: </span><span style="color:#E7EE98;">&quot;text&quot;</span><span style="color:#F6F6F4;">, type: </span><span style="color:#E7EE98;">&quot;textarea&quot;</span><span style="color:#F6F6F4;">, focus: </span><span style="color:#97E1F1;font-style:italic;">true</span><span style="color:#F6F6F4;">, width: </span><span style="color:#E7EE98;">&quot;*&quot;</span><span style="color:#F6F6F4;"> },</span></span>
<span class="line"><span style="color:#F6F6F4;">        {</span></span>
<span class="line"><span style="color:#F6F6F4;">          name: </span><span style="color:#E7EE98;">&quot;time&quot;</span><span style="color:#F6F6F4;">, height: </span><span style="color:#97E1F1;font-style:italic;">40</span><span style="color:#F6F6F4;">, map_to: </span><span style="color:#E7EE98;">&quot;auto&quot;</span><span style="color:#F6F6F4;">, type: </span><span style="color:#E7EE98;">&quot;duration&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">          time_format: [</span><span style="color:#E7EE98;">&quot;%Y&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;%m&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#E7EE98;">&quot;%d&quot;</span><span style="color:#F6F6F4;">],</span></span>
<span class="line"><span style="color:#F6F6F4;">        },</span></span>
<span class="line"><span style="color:#F6F6F4;">        {</span></span>
<span class="line"><span style="color:#F6F6F4;">          name: </span><span style="color:#E7EE98;">&quot;projectClass&quot;</span><span style="color:#F6F6F4;">, height: </span><span style="color:#97E1F1;font-style:italic;">30</span><span style="color:#F6F6F4;">, map_to: </span><span style="color:#E7EE98;">&quot;proTemplate&quot;</span><span style="color:#F6F6F4;">, type: </span><span style="color:#E7EE98;">&quot;template&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">         </span></span>
<span class="line"><span style="color:#F6F6F4;">        },</span></span>
<span class="line"><span style="color:#F6F6F4;">        {</span></span>
<span class="line"><span style="color:#F6F6F4;">          name: </span><span style="color:#E7EE98;">&quot;head&quot;</span><span style="color:#F6F6F4;">, height: </span><span style="color:#97E1F1;font-style:italic;">22</span><span style="color:#F6F6F4;">, map_to: </span><span style="color:#E7EE98;">&quot;head_id&quot;</span><span style="color:#F6F6F4;">, type: </span><span style="color:#E7EE98;">&quot;select&quot;</span><span style="color:#F6F6F4;">, options: </span><span style="color:#97E1F1;font-style:italic;">gantt</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">serverList</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&#39;staff&#39;</span><span style="color:#F6F6F4;">,[]),</span></span>
<span class="line"><span style="color:#F6F6F4;">        },</span></span>
<span class="line"><span style="color:#F6F6F4;">        { name: </span><span style="color:#E7EE98;">&quot;description&quot;</span><span style="color:#F6F6F4;">, height: </span><span style="color:#97E1F1;font-style:italic;">70</span><span style="color:#F6F6F4;">, map_to: </span><span style="color:#E7EE98;">&quot;description&quot;</span><span style="color:#F6F6F4;">, type: </span><span style="color:#E7EE98;">&quot;textarea&quot;</span><span style="color:#F6F6F4;"> },</span></span>
<span class="line"><span style="color:#F6F6F4;">        {</span></span>
<span class="line"><span style="color:#F6F6F4;">          name: </span><span style="color:#E7EE98;">&quot;priority&quot;</span><span style="color:#F6F6F4;">, height: </span><span style="color:#97E1F1;font-style:italic;">40</span><span style="color:#F6F6F4;">, map_to: </span><span style="color:#E7EE98;">&quot;priority&quot;</span><span style="color:#F6F6F4;">, type: </span><span style="color:#E7EE98;">&quot;radio&quot;</span><span style="color:#F6F6F4;">, options: </span><span style="color:#97E1F1;font-style:italic;">gantt</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">serverList</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;priority&quot;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">        },</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">      ];</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.config.smart_scales </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">true</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.</span><span style="color:#62E884;">plugins</span><span style="color:#F6F6F4;">({</span></span>
<span class="line"><span style="color:#F6F6F4;">        click_drag: </span><span style="color:#97E1F1;font-style:italic;">true</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">        drag_timeline: </span><span style="color:#97E1F1;font-style:italic;">true</span><span style="color:#F6F6F4;">,</span><span style="color:#7B7F8B;">// 拖动图</span></span>
<span class="line"><span style="color:#F6F6F4;">        marker: </span><span style="color:#97E1F1;font-style:italic;">true</span><span style="color:#F6F6F4;">,</span><span style="color:#7B7F8B;">// 时间标记</span></span>
<span class="line"><span style="color:#F6F6F4;">        fullscreen: </span><span style="color:#97E1F1;font-style:italic;">true</span><span style="color:#F6F6F4;">,</span><span style="color:#7B7F8B;">// 全屏</span></span>
<span class="line"><span style="color:#F6F6F4;">        tooltip: </span><span style="color:#97E1F1;font-style:italic;">true</span><span style="color:#F6F6F4;">,</span><span style="color:#7B7F8B;">// 鼠标经过时信息</span></span>
<span class="line"><span style="color:#F6F6F4;">        undo: </span><span style="color:#97E1F1;font-style:italic;">true</span><span style="color:#F6F6F4;"> </span><span style="color:#7B7F8B;">// 允许撤销</span></span>
<span class="line"><span style="color:#F6F6F4;">      })</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.</span><span style="color:#62E884;">init</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.$refs.gantt);</span></span>
<span class="line"><span style="color:#F6F6F4;">     </span></span>
<span class="line"><span style="color:#F6F6F4;">    },</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span></span>
<span class="line"><span style="color:#F6F6F4;">  </span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// gantt数据服务列表</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">ganttServerList</span><span style="color:#F6F6F4;">() {</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">getProjectStaff</span><span style="color:#F6F6F4;">();</span><span style="color:#7B7F8B;">//获取项目成员</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">// 项目难度</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.</span><span style="color:#62E884;">serverList</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;priority&quot;</span><span style="color:#F6F6F4;">, [</span></span>
<span class="line"><span style="color:#F6F6F4;">        { key: </span><span style="color:#97E1F1;font-style:italic;">0</span><span style="color:#F6F6F4;">, label: </span><span style="color:#E7EE98;">&quot;最高&quot;</span><span style="color:#F6F6F4;"> },</span></span>
<span class="line"><span style="color:#F6F6F4;">        { key: </span><span style="color:#97E1F1;font-style:italic;">1</span><span style="color:#F6F6F4;">, label: </span><span style="color:#E7EE98;">&quot;较高&quot;</span><span style="color:#F6F6F4;"> },</span></span>
<span class="line"><span style="color:#F6F6F4;">        { key: </span><span style="color:#97E1F1;font-style:italic;">2</span><span style="color:#F6F6F4;">, label: </span><span style="color:#E7EE98;">&quot;普通&quot;</span><span style="color:#F6F6F4;"> },</span></span>
<span class="line"><span style="color:#F6F6F4;">        { key: </span><span style="color:#97E1F1;font-style:italic;">3</span><span style="color:#F6F6F4;">, label: </span><span style="color:#E7EE98;">&quot;较低&quot;</span><span style="color:#F6F6F4;"> },</span></span>
<span class="line"><span style="color:#F6F6F4;">        { key: </span><span style="color:#97E1F1;font-style:italic;">4</span><span style="color:#F6F6F4;">, label: </span><span style="color:#E7EE98;">&quot;最低&quot;</span><span style="color:#F6F6F4;"> },</span></span>
<span class="line"><span style="color:#F6F6F4;">      ]);</span></span>
<span class="line"><span style="color:#F6F6F4;">   </span></span>
<span class="line"><span style="color:#F6F6F4;">    },</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// gantt交互事件注册</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">ganttChangeEvent</span><span style="color:#F6F6F4;">() {</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">// gantt渲染</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.ganttEvent.onGanttReady</span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> gantt.</span><span style="color:#62E884;">attachEvent</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;onGanttReady&quot;</span><span style="color:#F6F6F4;">, ()</span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">         </span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#7B7F8B;">//弹窗标题 日期范围</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.templates.task_time </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">function</span><span style="color:#F6F6F4;"> (start, end, task) {</span></span>
<span class="line"><span style="color:#F6F6F4;">            </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">&quot;周期：&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">moment</span><span style="color:#F6F6F4;">(start).</span><span style="color:#62E884;">format</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&#39;YYYY-MM-DD&#39;</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">&quot; 至 &quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">moment</span><span style="color:#F6F6F4;">(end).</span><span style="color:#62E884;">format</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&#39;YYYY-MM-DD&#39;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">          };</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#7B7F8B;">// 浮窗</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.templates.tooltip_text </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> (start, end, task) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">            </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">&quot;&lt;b&gt;项目名称:&lt;/b&gt; &quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> task.text </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">&quot;&lt;br&gt;&lt;b&gt;负责人:&lt;/b&gt;&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> task.head </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">&quot;&lt;br/&gt;&lt;b&gt;开始时间:&lt;/b&gt; &quot;</span></span>
<span class="line"><span style="color:#F6F6F4;">              </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">moment</span><span style="color:#F6F6F4;">(start).</span><span style="color:#62E884;">format</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&#39;YYYY-MM-DD&#39;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">              </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">&quot;&lt;br/&gt;&lt;b&gt;结束时间:&lt;/b&gt; &quot;</span></span>
<span class="line"><span style="color:#F6F6F4;">              </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">moment</span><span style="color:#F6F6F4;">(new </span><span style="color:#62E884;">Date</span><span style="color:#F6F6F4;">(end).</span><span style="color:#62E884;">valueOf</span><span style="color:#F6F6F4;">() </span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">1000</span><span style="color:#F286C4;">*</span><span style="color:#BF9EEE;">60</span><span style="color:#F286C4;">*</span><span style="color:#BF9EEE;">60</span><span style="color:#F286C4;">*</span><span style="color:#BF9EEE;">24</span><span style="color:#F6F6F4;"> ).</span><span style="color:#62E884;">format</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&#39;YYYY-MM-DD&#39;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">          }</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#7B7F8B;">//弹窗标题 计划名称</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.templates.task_text </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">function</span><span style="color:#F6F6F4;"> (start, end, task) {</span></span>
<span class="line"><span style="color:#F6F6F4;">            </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> task.text;</span></span>
<span class="line"><span style="color:#F6F6F4;">          };</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.templates.timeline_cell_class </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">function</span><span style="color:#F6F6F4;"> (task, date) {</span></span>
<span class="line"><span style="color:#F6F6F4;">            </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (</span><span style="color:#F286C4;">!</span><span style="color:#F6F6F4;">gantt.</span><span style="color:#62E884;">isWorkTime</span><span style="color:#F6F6F4;">({ task: </span><span style="color:#97E1F1;font-style:italic;">task</span><span style="color:#F6F6F4;">, date: </span><span style="color:#97E1F1;font-style:italic;">date</span><span style="color:#F6F6F4;"> })) {</span></span>
<span class="line"><span style="color:#F6F6F4;">              </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">&quot;weekend&quot;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">            } </span><span style="color:#F286C4;">else</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">              </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">&#39;weekday&#39;</span></span>
<span class="line"><span style="color:#F6F6F4;">            }</span></span>
<span class="line"><span style="color:#F6F6F4;">          };</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.templates.task_end_date </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> (date)</span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">            </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> gantt.templates.</span><span style="color:#62E884;">task_date</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">moment</span><span style="color:#F6F6F4;">(new </span><span style="color:#62E884;">Date</span><span style="color:#F6F6F4;">(date.</span><span style="color:#62E884;">valueOf</span><span style="color:#F6F6F4;">() </span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">1000</span><span style="color:#F286C4;">*</span><span style="color:#BF9EEE;">60</span><span style="color:#F286C4;">*</span><span style="color:#BF9EEE;">60</span><span style="color:#F286C4;">*</span><span style="color:#BF9EEE;">24</span><span style="color:#F6F6F4;">)).</span><span style="color:#62E884;">format</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;YYYY-MM-DD&quot;</span><span style="color:#F6F6F4;">)); </span></span>
<span class="line"><span style="color:#F6F6F4;">          };</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.templates.grid_date_format </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> (date, column)</span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">            </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;">(column </span><span style="color:#F286C4;">===</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">&quot;end_date&quot;</span><span style="color:#F6F6F4;">){</span></span>
<span class="line"><span style="color:#F6F6F4;">                </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">moment</span><span style="color:#F6F6F4;">(new </span><span style="color:#62E884;">Date</span><span style="color:#F6F6F4;">(date.</span><span style="color:#62E884;">valueOf</span><span style="color:#F6F6F4;">() </span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">1000</span><span style="color:#F286C4;">*</span><span style="color:#BF9EEE;">60</span><span style="color:#F286C4;">*</span><span style="color:#BF9EEE;">60</span><span style="color:#F286C4;">*</span><span style="color:#BF9EEE;">24</span><span style="color:#F6F6F4;">)).</span><span style="color:#62E884;">format</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;YYYY-MM-DD&quot;</span><span style="color:#F6F6F4;">); </span></span>
<span class="line"><span style="color:#F6F6F4;">            }</span><span style="color:#F286C4;">else</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">                </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">moment</span><span style="color:#F6F6F4;">(date).</span><span style="color:#62E884;">format</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;YYYY-MM-DD&quot;</span><span style="color:#F6F6F4;">); </span></span>
<span class="line"><span style="color:#F6F6F4;">            }</span></span>
<span class="line"><span style="color:#F6F6F4;">          }</span></span>
<span class="line"><span style="color:#F6F6F4;">      });</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">// 修改默认弹窗</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.</span><span style="color:#62E884;">attachEvent</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;onBeforeLightbox&quot;</span><span style="color:#F6F6F4;">,  (id)</span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">var</span><span style="color:#F6F6F4;"> task </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> gantt.</span><span style="color:#62E884;">getTask</span><span style="color:#F6F6F4;">(id);</span></span>
<span class="line"><span style="color:#F6F6F4;">        task.proTemplate </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> \`\${gantt.locale.labels.taskProjectType_0}\`</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">true</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">      });</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">//添加后触发</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.ganttEvent.onAfterTaskAdd </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> gantt.</span><span style="color:#62E884;">attachEvent</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;onAfterTaskAdd&quot;</span><span style="color:#F6F6F4;">, (id, item) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#62E884;">clearTimeout</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.timer)</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.timer </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">setTimeout</span><span style="color:#F6F6F4;">(() </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">dealProject</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;add&quot;</span><span style="color:#F6F6F4;">,item)</span></span>
<span class="line"><span style="color:#F6F6F4;">        }, </span><span style="color:#BF9EEE;">500</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">      });</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">// 修改任务</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.ganttEvent.onAfterTaskUpdate </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> gantt.</span><span style="color:#62E884;">attachEvent</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;onAfterTaskUpdate&quot;</span><span style="color:#F6F6F4;">, (id, </span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#62E884;">clearTimeout</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.timer)</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.timer </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">setTimeout</span><span style="color:#F6F6F4;">(() </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">dealProject</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;edit&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.</span><span style="color:#62E884;">render</span><span style="color:#F6F6F4;">()</span></span>
<span class="line"><span style="color:#F6F6F4;">        }, </span><span style="color:#BF9EEE;">500</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">      });</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">// 删除项目</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.ganttEvent.onAfterTaskDelete </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> gantt.</span><span style="color:#62E884;">attachEvent</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;onAfterTaskDelete&quot;</span><span style="color:#F6F6F4;">, (id, </span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#62E884;">clearTimeout</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.timer)</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.timer </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">setTimeout</span><span style="color:#F6F6F4;">(() </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">dealProject</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;delete&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.</span><span style="color:#62E884;">render</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">        }, </span><span style="color:#BF9EEE;">500</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">      });</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">// 移动项目</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.ganttEvent.onAfterTaskDrag </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> gantt.</span><span style="color:#62E884;">attachEvent</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;onAfterTaskDrag&quot;</span><span style="color:#F6F6F4;">, (id, mode, e) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#62E884;">clearTimeout</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.timer)</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.timer </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">setTimeout</span><span style="color:#F6F6F4;">(() </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">var</span><span style="color:#F6F6F4;"> task </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> gantt.</span><span style="color:#62E884;">getTask</span><span style="color:#F6F6F4;">(id);</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">dealProject</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;edit&quot;</span><span style="color:#F6F6F4;">, task);</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.</span><span style="color:#62E884;">render</span><span style="color:#F6F6F4;">()</span></span>
<span class="line"><span style="color:#F6F6F4;">        }, </span><span style="color:#BF9EEE;">500</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">      });</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">// 用户完成拖动并释放鼠标</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.ganttEvent.onAfterTaskChanged </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> gantt.</span><span style="color:#62E884;">attachEvent</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;onAfterTaskChanged&quot;</span><span style="color:#F6F6F4;">, (id, mode, task) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#62E884;">clearTimeout</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.timer)</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.timer </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">setTimeout</span><span style="color:#F6F6F4;">(() </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.</span><span style="color:#62E884;">render</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">        }, </span><span style="color:#BF9EEE;">500</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">      });</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">// 删除连接项目关系</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.ganttEvent.onAfterLinkDelete </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> gantt.</span><span style="color:#62E884;">attachEvent</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;onAfterLinkDelete&quot;</span><span style="color:#F6F6F4;">, (id, item) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#62E884;">clearTimeout</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.timer)</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.timer </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">setTimeout</span><span style="color:#F6F6F4;">(() </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span></span>
<span class="line"><span style="color:#F6F6F4;">          let param </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> Object.</span><span style="color:#62E884;">assign</span><span style="color:#F6F6F4;">({}, { projectId:</span><span style="color:#97E1F1;font-style:italic;">this</span><span style="color:#F6F6F4;">.$store.state.project_data.id }, item)</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.axios.$</span><span style="color:#62E884;">delete</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.urls.linksDelete, param).</span><span style="color:#62E884;">then</span><span style="color:#F6F6F4;">(res </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">            res.code </span><span style="color:#F286C4;">==</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">200</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">&amp;&amp;</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.$message.</span><span style="color:#62E884;">success</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;解除成功!&quot;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">            res.code </span><span style="color:#F286C4;">!=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">200</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">&amp;&amp;</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.$message.</span><span style="color:#62E884;">error</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;解除失败!&quot;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">          })</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.</span><span style="color:#62E884;">render</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">        }, </span><span style="color:#BF9EEE;">500</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">      });</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">// 修改连接项目关系</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.ganttEvent.onAfterLinkUpdate </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> gantt.</span><span style="color:#62E884;">attachEvent</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;onAfterLinkUpdate&quot;</span><span style="color:#F6F6F4;">, (id, item) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#62E884;">clearTimeout</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.timer)</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.timer </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">setTimeout</span><span style="color:#F6F6F4;">(() </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">          let param </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> Object.</span><span style="color:#62E884;">assign</span><span style="color:#F6F6F4;">({}, { projectId:</span><span style="color:#97E1F1;font-style:italic;">this</span><span style="color:#F6F6F4;">.$store.state.project_data.id }, item)</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.axios.$</span><span style="color:#62E884;">put</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.urls.linksEdit, param).</span><span style="color:#62E884;">then</span><span style="color:#F6F6F4;">(res </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">            res.code </span><span style="color:#F286C4;">==</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">200</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">&amp;&amp;</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.$message.</span><span style="color:#62E884;">success</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;关联成功!&quot;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">            res.code </span><span style="color:#F286C4;">!=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">200</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">&amp;&amp;</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.$message.</span><span style="color:#62E884;">error</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;关联失败!&quot;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">          })</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.</span><span style="color:#62E884;">render</span><span style="color:#F6F6F4;">()</span></span>
<span class="line"><span style="color:#F6F6F4;">        }, </span><span style="color:#BF9EEE;">500</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">      });</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">// 新增连接项目关系</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.ganttEvent.onBeforeLinkAdd </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> gantt.</span><span style="color:#62E884;">attachEvent</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;onBeforeLinkAdd&quot;</span><span style="color:#F6F6F4;">, (id, item) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.timer </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">setTimeout</span><span style="color:#F6F6F4;">(() </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#62E884;">clearTimeout</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.timer)</span></span>
<span class="line"><span style="color:#F6F6F4;">          let param </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> Object.</span><span style="color:#62E884;">assign</span><span style="color:#F6F6F4;">({}, { projectId: </span><span style="color:#97E1F1;font-style:italic;">this</span><span style="color:#F6F6F4;">.$store.state.project_data.id }, item)</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.axios.$</span><span style="color:#62E884;">put</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.urls.linksEdit, param).</span><span style="color:#62E884;">then</span><span style="color:#F6F6F4;">(res </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">            res.code </span><span style="color:#F286C4;">==</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">200</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">&amp;&amp;</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.$message.</span><span style="color:#62E884;">success</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;关联成功!&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">            res.code </span><span style="color:#F286C4;">!=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">200</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">&amp;&amp;</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.$message.</span><span style="color:#62E884;">error</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;关联失败!&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">           </span></span>
<span class="line"><span style="color:#F6F6F4;">          })</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.</span><span style="color:#62E884;">render</span><span style="color:#F6F6F4;">()</span></span>
<span class="line"><span style="color:#F6F6F4;">        }, </span><span style="color:#BF9EEE;">20</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">      });</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">// 保存新增</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.ganttEvent.onLightboxSave </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> gantt.</span><span style="color:#62E884;">attachEvent</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;onLightboxSave&quot;</span><span style="color:#F6F6F4;">, (id, item) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (</span><span style="color:#F286C4;">!</span><span style="color:#F6F6F4;">item.text) {</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.$message.</span><span style="color:#62E884;">error</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;请填写计划名称!&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">false</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">        }</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">true</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">      });</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">    },</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// 处理id 对应名称label</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">ganttDealById</span><span style="color:#F6F6F4;">(list, id) {</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">for</span><span style="color:#F6F6F4;"> (let i </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;">; i &lt; list.length; i</span><span style="color:#F286C4;">++</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (list[i].key </span><span style="color:#F286C4;">==</span><span style="color:#F6F6F4;"> id)</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> list[i].label ;</span></span>
<span class="line"><span style="color:#F6F6F4;">      }</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">&quot;&quot;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    },</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// 切换 年 季 月 周 日视图 </span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">ganttChangeDateView</span><span style="color:#F6F6F4;">(type) {</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#62E884;">switch</span><span style="color:#F6F6F4;"> (type) {</span></span>
<span class="line"><span style="color:#F6F6F4;">        case </span><span style="color:#E7EE98;">&#39;y&#39;</span><span style="color:#F6F6F4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.config.scale_unit </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">&quot;year&quot;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.config.step </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.config.subscales </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">null</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.config.date_scale </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">&quot;%Y年&quot;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.templates.date_scale </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">null</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">break</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">        case </span><span style="color:#E7EE98;">&#39;m&#39;</span><span style="color:#F6F6F4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.config.scale_unit </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">&#39;month&#39;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.config.step </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.config.date_scale </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">&quot;%m月&quot;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.templates.date_scale </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">null</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">break</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">        case </span><span style="color:#E7EE98;">&#39;w&#39;</span><span style="color:#F6F6F4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.config.scale_unit </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">&#39;week&#39;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.config.step </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.config.date_scale </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">&quot;第%w周&quot;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.templates.date_scale </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">null</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">       </span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">break</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">        case </span><span style="color:#E7EE98;">&#39;d&#39;</span><span style="color:#F6F6F4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.config.scale_unit </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">&#39;day&#39;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.config.step </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.config.date_scale </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">&quot;%m月%d日&quot;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.templates.date_scale </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">null</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.config.subscales </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">null</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">break</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">      }</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.</span><span style="color:#62E884;">render</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">    },</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// 今日线</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">createTodayLine</span><span style="color:#F6F6F4;">() {</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">var</span><span style="color:#F6F6F4;"> dateToStr </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> gantt.date.</span><span style="color:#62E884;">date_to_str</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;%Y年%M%d日&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">var</span><span style="color:#F6F6F4;"> markerId </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> gantt.</span><span style="color:#62E884;">addMarker</span><span style="color:#F6F6F4;">({</span></span>
<span class="line"><span style="color:#F6F6F4;">        id: </span><span style="color:#E7EE98;">&#39;markerLine&#39;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">        start_date: </span><span style="color:#97E1F1;font-style:italic;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Date</span><span style="color:#F6F6F4;">(),</span></span>
<span class="line"><span style="color:#F6F6F4;">        css: </span><span style="color:#E7EE98;">&quot;today&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">        text: </span><span style="color:#E7EE98;">&quot;今日&quot;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">        title: </span><span style="color:#97E1F1;font-style:italic;">dateToStr</span><span style="color:#F6F6F4;">(new </span><span style="color:#62E884;">Date</span><span style="color:#F6F6F4;">()) </span></span>
<span class="line"><span style="color:#F6F6F4;">      });</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.</span><span style="color:#62E884;">updateMarker</span><span style="color:#F6F6F4;">(markerId);</span></span>
<span class="line"><span style="color:#F6F6F4;">    },</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// 是否全屏</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">changeFull</span><span style="color:#F6F6F4;">() {</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.ext.fullscreen.</span><span style="color:#62E884;">toggle</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">    },</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// 定位到今日线</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">changeToday</span><span style="color:#F6F6F4;">() {</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.$</span><span style="color:#62E884;">nextTick</span><span style="color:#F6F6F4;">(() </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">        let ganTT </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> document.</span><span style="color:#62E884;">getElementsByClassName</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&#39;gantt_marker today&#39;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">        gantt.</span><span style="color:#62E884;">scrollTo</span><span style="color:#F6F6F4;">(ganTT[</span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;">].offsetLeft</span><span style="color:#F286C4;">-</span><span style="color:#BF9EEE;">300</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">null</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">      })</span></span>
<span class="line"><span style="color:#F6F6F4;">    },</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">/* </span></span>
<span class="line"><span style="color:#7B7F8B;">    操作 </span></span>
<span class="line"><span style="color:#7B7F8B;">    */</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//  获取项目成员</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">getProjectStaff</span><span style="color:#F6F6F4;">(projectID) {</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.axios.</span><span style="color:#62E884;">get</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.urls.staff, {</span></span>
<span class="line"><span style="color:#F6F6F4;">        params: { projectId: </span><span style="color:#97E1F1;font-style:italic;">projectID</span><span style="color:#F6F6F4;"> ? </span><span style="color:#97E1F1;font-style:italic;">projectID</span><span style="color:#F6F6F4;"> : </span><span style="color:#97E1F1;font-style:italic;">this</span><span style="color:#F6F6F4;">.$store.state.project_data.id },</span></span>
<span class="line"><span style="color:#F6F6F4;">      }).</span><span style="color:#62E884;">then</span><span style="color:#F6F6F4;">(res </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">        let staffArr </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> [];</span></span>
<span class="line"><span style="color:#F6F6F4;">        res.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.code </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">200</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">&amp;&amp;</span><span style="color:#F6F6F4;"> res.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.result.</span><span style="color:#62E884;">forEach</span><span style="color:#F6F6F4;">((item, index) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">          staffArr[index] </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> {};</span></span>
<span class="line"><span style="color:#F6F6F4;">          staffArr[index].key </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> item.id;</span></span>
<span class="line"><span style="color:#F6F6F4;">          staffArr[index].label </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> item.realname;</span></span>
<span class="line"><span style="color:#F6F6F4;">        })</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.selectStaff </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> res.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.result;</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#7B7F8B;">// 补充gantt数据</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.ganttServerStaff</span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;">staffArr;</span></span>
<span class="line"><span style="color:#F6F6F4;">        gantt.</span><span style="color:#62E884;">updateCollection</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;staff&quot;</span><span style="color:#F6F6F4;">, staffArr);</span></span>
<span class="line"><span style="color:#F6F6F4;">        gantt.</span><span style="color:#62E884;">render</span><span style="color:#F6F6F4;">()</span></span>
<span class="line"><span style="color:#F6F6F4;">      })</span></span>
<span class="line"><span style="color:#F6F6F4;">    },</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//计算进度</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">evalProgess</span><span style="color:#F6F6F4;">(start,end,update) {</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (start </span><span style="color:#F286C4;">&amp;&amp;</span><span style="color:#F6F6F4;"> end </span><span style="color:#F286C4;">&amp;&amp;</span><span style="color:#F6F6F4;"> update) {</span></span>
<span class="line"><span style="color:#F6F6F4;">        let start_date </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">moment</span><span style="color:#F6F6F4;">(start).</span><span style="color:#62E884;">format</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;YYYY-MM-DD&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">        let end_date </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">moment</span><span style="color:#F6F6F4;">(end).</span><span style="color:#62E884;">format</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;YYYY-MM-DD&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">        let update_date </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">moment</span><span style="color:#F6F6F4;">(update).</span><span style="color:#62E884;">format</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;YYYY-MM-DD&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;">((new </span><span style="color:#62E884;">Date</span><span style="color:#F6F6F4;">(end_date) </span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;"> new </span><span style="color:#62E884;">Date</span><span style="color:#F6F6F4;">(update_date)&gt;</span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;">)){</span></span>
<span class="line"><span style="color:#F6F6F4;">          let process</span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> (new </span><span style="color:#62E884;">Date</span><span style="color:#F6F6F4;">(update_date) </span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;"> new </span><span style="color:#62E884;">Date</span><span style="color:#F6F6F4;">(start_date)) </span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;"> (new </span><span style="color:#62E884;">Date</span><span style="color:#F6F6F4;">(end_date) </span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;"> new </span><span style="color:#62E884;">Date</span><span style="color:#F6F6F4;">(start_date));</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> process.</span><span style="color:#62E884;">toFixed</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">2</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">        }</span><span style="color:#F286C4;">else</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span></span>
<span class="line"><span style="color:#F6F6F4;">        }</span></span>
<span class="line"><span style="color:#F6F6F4;">      }</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span></span>
<span class="line"><span style="color:#F6F6F4;">    },</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// 获取数据</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">onQuery</span><span style="color:#F6F6F4;">(param) {</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.</span><span style="color:#62E884;">clearAll</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.</span><span style="color:#62E884;">parse</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.savetasks);</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.</span><span style="color:#62E884;">render</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">      param </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> Object.</span><span style="color:#62E884;">assign</span><span style="color:#F6F6F4;">({}, { projectId: </span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.$store.state.project_data.id ? </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.$store.state.project_data.id :</span><span style="color:#E7EE98;">&#39;1&#39;</span></span>
<span class="line"><span style="color:#F6F6F4;">      }, param)</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.axios.</span><span style="color:#62E884;">get</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.urls.tasklinks, {</span></span>
<span class="line"><span style="color:#F6F6F4;">        params: </span><span style="color:#97E1F1;font-style:italic;">param</span></span>
<span class="line"><span style="color:#F6F6F4;">      }).</span><span style="color:#62E884;">then</span><span style="color:#F6F6F4;">(res </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">        let result </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> res.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.result[</span><span style="color:#E7EE98;">&quot;taskList&quot;</span><span style="color:#F6F6F4;">];</span></span>
<span class="line"><span style="color:#F6F6F4;">        let pushArr </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> [];</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.tasks.links </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> res.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.result[</span><span style="color:#E7EE98;">&quot;ganttchartList&quot;</span><span style="color:#F6F6F4;">];</span><span style="color:#7B7F8B;">//连接项目</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.tasks.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> [];</span></span>
<span class="line"><span style="color:#F6F6F4;">        result.</span><span style="color:#62E884;">forEach</span><span style="color:#F6F6F4;">((item, index) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.tasks.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">[index] </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> {};</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.tasks.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">[index].id </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> item.tid ? item.tid : </span><span style="color:#E7EE98;">&#39;&#39;</span><span style="color:#F6F6F4;">;</span><span style="color:#7B7F8B;">//项目id</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.tasks.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">[index].text </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> item.title ? item.title : </span><span style="color:#E7EE98;">&#39;空标题&#39;</span><span style="color:#F6F6F4;">;</span><span style="color:#7B7F8B;">//标题</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.tasks.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">[index].start_date </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> item.startTime;</span><span style="color:#7B7F8B;">//开始时间</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#7B7F8B;">// 负责人--成员</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.tasks.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">[index].head_id </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> item.headRole?.id?item.headRole?.id:</span><span style="color:#E7EE98;">&#39;&#39;</span><span style="color:#F6F6F4;">;</span><span style="color:#7B7F8B;">//负责人id</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.tasks.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">[index].head </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> item.headRole?.realname ? item.headRole?.realname : </span><span style="color:#E7EE98;">&#39;&#39;</span><span style="color:#F6F6F4;">;</span><span style="color:#7B7F8B;">//负责人</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.tasks.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">[index].progress </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">evalProgess</span><span style="color:#F6F6F4;">(item.startTime,item.endTime,item.updateTime)</span><span style="color:#7B7F8B;">//项目进展</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#7B7F8B;">// 后台时间加一天 显示减一天 处理条形图时间左闭右开</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.tasks.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">[index].end_date </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">moment</span><span style="color:#F6F6F4;">(new </span><span style="color:#62E884;">Date</span><span style="color:#F6F6F4;">(item.endTime).</span><span style="color:#62E884;">valueOf</span><span style="color:#F6F6F4;">() </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">1000</span><span style="color:#F286C4;">*</span><span style="color:#BF9EEE;">60</span><span style="color:#F286C4;">*</span><span style="color:#BF9EEE;">60</span><span style="color:#F286C4;">*</span><span style="color:#BF9EEE;">24</span><span style="color:#F6F6F4;">).</span><span style="color:#62E884;">format</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;YYYY-MM-DD&quot;</span><span style="color:#F6F6F4;">);</span><span style="color:#7B7F8B;">//结束时间</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#7B7F8B;">// this.tasks.data[index].end_date = item.endTime;//结束时间</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.tasks.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">[index].priority </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> item.priority ? item.priority : </span><span style="color:#E7EE98;">&#39;&#39;</span><span style="color:#F6F6F4;">;</span><span style="color:#7B7F8B;">//任务优先级</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.tasks.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">[index].projectClass </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> item.type ? item.type : </span><span style="color:#E7EE98;">&#39;&#39;</span><span style="color:#F6F6F4;">;</span><span style="color:#7B7F8B;">//类型 0项目任务 1 普通任务</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.tasks.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">[index].taskProgress </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> item.taskStatus.</span><span style="color:#62E884;">toString</span><span style="color:#F6F6F4;">();</span><span style="color:#7B7F8B;">//任务状态</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.tasks.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">[index].description </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> item.describe ? item.describe : </span><span style="color:#E7EE98;">&#39;&#39;</span><span style="color:#F6F6F4;">;</span><span style="color:#7B7F8B;">//描述</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.tasks.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">[index].color </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> item.stateDictionary.color ? item.stateDictionary.color : </span><span style="color:#E7EE98;">&#39;&#39;</span><span style="color:#F6F6F4;">;</span><span style="color:#7B7F8B;">//颜色</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (item.taskList </span><span style="color:#F286C4;">&amp;&amp;</span><span style="color:#F6F6F4;"> item.taskList.length </span><span style="color:#F286C4;">!=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">            </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.tasks.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">[index].render </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">&quot;split&quot;</span><span style="color:#F6F6F4;">;</span><span style="color:#7B7F8B;">//显示在单行</span></span>
<span class="line"><span style="color:#F6F6F4;">            </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.tasks.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">[index].</span><span style="color:#F286C4;">open</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">true</span><span style="color:#F6F6F4;">;</span><span style="color:#7B7F8B;">//展开</span></span>
<span class="line"><span style="color:#F6F6F4;">            item.taskList.</span><span style="color:#62E884;">forEach</span><span style="color:#F6F6F4;">((_item) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">              pushArr.</span><span style="color:#62E884;">push</span><span style="color:#F6F6F4;">(</span></span>
<span class="line"><span style="color:#F6F6F4;">                {</span></span>
<span class="line"><span style="color:#F6F6F4;">                  id: </span><span style="color:#97E1F1;font-style:italic;">_item</span><span style="color:#F6F6F4;">.tid,</span></span>
<span class="line"><span style="color:#F6F6F4;">                  text: </span><span style="color:#97E1F1;font-style:italic;">_item</span><span style="color:#F6F6F4;">.title ? _item.title : </span><span style="color:#E7EE98;">&#39;空标题&#39;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">                  start_date: </span><span style="color:#97E1F1;font-style:italic;">_item</span><span style="color:#F6F6F4;">.startTime,</span></span>
<span class="line"><span style="color:#F6F6F4;">                  end_date: </span><span style="color:#97E1F1;font-style:italic;">_item</span><span style="color:#F6F6F4;">.endTime,</span></span>
<span class="line"><span style="color:#F6F6F4;">                  head_id: </span><span style="color:#97E1F1;font-style:italic;">_item</span><span style="color:#F6F6F4;">.headId,</span></span>
<span class="line"><span style="color:#F6F6F4;">                  head: </span><span style="color:#97E1F1;font-style:italic;">_item</span><span style="color:#F6F6F4;">.head,</span></span>
<span class="line"><span style="color:#F6F6F4;">                  priority: </span><span style="color:#97E1F1;font-style:italic;">_item</span><span style="color:#F6F6F4;">.priority,</span></span>
<span class="line"><span style="color:#F6F6F4;">                  projectClass: </span><span style="color:#97E1F1;font-style:italic;">_item</span><span style="color:#F6F6F4;">.type,</span></span>
<span class="line"><span style="color:#F6F6F4;">                  taskProgress: </span><span style="color:#97E1F1;font-style:italic;">_item</span><span style="color:#F6F6F4;">.taskStatus.</span><span style="color:#62E884;">toString</span><span style="color:#F6F6F4;">(),</span></span>
<span class="line"><span style="color:#F6F6F4;">                  description: </span><span style="color:#97E1F1;font-style:italic;">_item</span><span style="color:#F6F6F4;">.describe,</span></span>
<span class="line"><span style="color:#F6F6F4;">                  parent: </span><span style="color:#97E1F1;font-style:italic;">_item</span><span style="color:#F6F6F4;">.mainTaskId,</span></span>
<span class="line"><span style="color:#F6F6F4;">                }</span></span>
<span class="line"><span style="color:#F6F6F4;">              );</span></span>
<span class="line"><span style="color:#F6F6F4;">            })</span></span>
<span class="line"><span style="color:#F6F6F4;">          }</span></span>
<span class="line"><span style="color:#F6F6F4;">        });</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.tasks.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.tasks.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">concat</span><span style="color:#F6F6F4;">(pushArr)</span></span>
<span class="line"><span style="color:#F6F6F4;">       </span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.$</span><span style="color:#62E884;">nextTick</span><span style="color:#F6F6F4;">(() </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.</span><span style="color:#62E884;">parse</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.tasks);</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.</span><span style="color:#62E884;">render</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.</span><span style="color:#62E884;">refreshData</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">        })</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">      })</span></span>
<span class="line"><span style="color:#F6F6F4;">    },</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// 项目新增 修改tid  删除tid</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">dealProject</span><span style="color:#F6F6F4;">(type, </span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">      let param </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> {};</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (type </span><span style="color:#F286C4;">!=</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">&#39;add&#39;</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">        param.tid </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.id;</span></span>
<span class="line"><span style="color:#F6F6F4;">        param.title </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.text;</span></span>
<span class="line"><span style="color:#F6F6F4;">        param.startTime </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">moment</span><span style="color:#F6F6F4;">(</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.start_date).</span><span style="color:#62E884;">format</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;YYYY-MM-DD&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">        param.endTime </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">moment</span><span style="color:#F6F6F4;">(</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.end_date).</span><span style="color:#62E884;">format</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;YYYY-MM-DD&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span></span>
<span class="line"><span style="color:#F6F6F4;">        param.describe </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.description;</span></span>
<span class="line"><span style="color:#F6F6F4;">        param.priority </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.priority;</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span></span>
<span class="line"><span style="color:#F6F6F4;">        param.head </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.head_id;</span></span>
<span class="line"><span style="color:#F6F6F4;">        param.taskStatus </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.taskProgress;</span></span>
<span class="line"><span style="color:#F6F6F4;">        param.projectId </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.$store.state.project_data.id;</span></span>
<span class="line"><span style="color:#F6F6F4;">      } </span><span style="color:#F286C4;">else</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">       </span></span>
<span class="line"><span style="color:#F6F6F4;">        param.title </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.text;</span></span>
<span class="line"><span style="color:#F6F6F4;">        param.startTime </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">moment</span><span style="color:#F6F6F4;">(</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.start_date).</span><span style="color:#62E884;">format</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;YYYY-MM-DD&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">        param.endTime </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">moment</span><span style="color:#F6F6F4;">(</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.end_date).</span><span style="color:#62E884;">format</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;YYYY-MM-DD&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span></span>
<span class="line"><span style="color:#F6F6F4;">        param.describe </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.description;</span></span>
<span class="line"><span style="color:#F6F6F4;">        param.priority </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.priority;</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span></span>
<span class="line"><span style="color:#F6F6F4;">        param.head </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.head_id;</span></span>
<span class="line"><span style="color:#F6F6F4;">        param.taskStatus </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.taskProgress;</span></span>
<span class="line"><span style="color:#F6F6F4;">        param.projectId </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.$store.state.project_data.id;</span></span>
<span class="line"><span style="color:#F6F6F4;">      }</span></span>
<span class="line"><span style="color:#F6F6F4;">      let formdata</span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;">new </span><span style="color:#62E884;">FormData</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">for</span><span style="color:#F6F6F4;">(let i </span><span style="color:#F286C4;">in</span><span style="color:#F6F6F4;"> param){</span></span>
<span class="line"><span style="color:#F6F6F4;">        formdata.</span><span style="color:#62E884;">append</span><span style="color:#F6F6F4;">(i,param[i])</span></span>
<span class="line"><span style="color:#F6F6F4;">      }</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#62E884;">switch</span><span style="color:#F6F6F4;"> (type) {</span></span>
<span class="line"><span style="color:#F6F6F4;">        case </span><span style="color:#E7EE98;">&quot;add&quot;</span><span style="color:#F6F6F4;">:</span><span style="color:#7B7F8B;">//新增</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.axios.</span><span style="color:#62E884;">put</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.urls.addTask, formdata).</span><span style="color:#62E884;">then</span><span style="color:#F6F6F4;">(res </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">           </span></span>
<span class="line"><span style="color:#F6F6F4;">            res.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.code </span><span style="color:#F286C4;">==</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">200</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">&amp;&amp;</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.$message.</span><span style="color:#62E884;">success</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;新增成功!&quot;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">            res.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.code </span><span style="color:#F286C4;">!=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">200</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">&amp;&amp;</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.$message.</span><span style="color:#62E884;">error</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;新增失败!&quot;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">          }).</span><span style="color:#62E884;">catch</span><span style="color:#F6F6F4;">(err </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">            </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.$message.</span><span style="color:#62E884;">error</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;请求失败!&quot;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">          })</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">break</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">        case </span><span style="color:#E7EE98;">&quot;edit&quot;</span><span style="color:#F6F6F4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.axios.</span><span style="color:#62E884;">put</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.urls.editTask, formdata).</span><span style="color:#62E884;">then</span><span style="color:#F6F6F4;">(res </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">            res.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.code </span><span style="color:#F286C4;">==</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">200</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">&amp;&amp;</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.$message.</span><span style="color:#62E884;">success</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;修改成功!&quot;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">            res.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.code </span><span style="color:#F286C4;">!=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">200</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">&amp;&amp;</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.$message.</span><span style="color:#62E884;">error</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;修改失败!&quot;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">          }).</span><span style="color:#62E884;">catch</span><span style="color:#F6F6F4;">(err </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">            </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.$message.</span><span style="color:#62E884;">error</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;请求失败!&quot;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">          })</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">break</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">        case </span><span style="color:#E7EE98;">&quot;delete&quot;</span><span style="color:#F6F6F4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.axios.</span><span style="color:#62E884;">delete</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.urls.deleteTask, formdata).</span><span style="color:#62E884;">then</span><span style="color:#F6F6F4;">(res </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">            res.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.code </span><span style="color:#F286C4;">==</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">200</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">&amp;&amp;</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.$message.</span><span style="color:#62E884;">success</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;删除成功!&quot;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">            res.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.code </span><span style="color:#F286C4;">!=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">200</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">&amp;&amp;</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.$message.</span><span style="color:#62E884;">error</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;删除失败!&quot;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">          }).</span><span style="color:#62E884;">catch</span><span style="color:#F6F6F4;">(err </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">            </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.$message.</span><span style="color:#62E884;">error</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;请求失败!&quot;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">          })</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">break</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">      }</span></span>
<span class="line"><span style="color:#F6F6F4;">    },</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">selecthead</span><span style="color:#F6F6F4;">(</span><span style="color:#F286C4;">val</span><span style="color:#F6F6F4;">){</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.searchHead</span><span style="color:#F286C4;">=val</span><span style="color:#F6F6F4;">;</span><span style="color:#7B7F8B;">//id</span></span>
<span class="line"><span style="color:#F6F6F4;">    },</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// 搜索判断数据</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">hasSubstr</span><span style="color:#F6F6F4;">(parentId,type){</span></span>
<span class="line"><span style="color:#F6F6F4;">      let task </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> gantt.</span><span style="color:#62E884;">getTask</span><span style="color:#F6F6F4;">(parentId);</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;">(type</span><span style="color:#F286C4;">==</span><span style="color:#E7EE98;">&#39;tilte&#39;</span><span style="color:#F6F6F4;">){</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;">(task.text.</span><span style="color:#62E884;">toLowerCase</span><span style="color:#F6F6F4;">().</span><span style="color:#62E884;">indexOf</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.searchTitle) </span><span style="color:#F286C4;">!==</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">-</span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">true</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">      }</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">// }  </span></span>
<span class="line"><span style="color:#F6F6F4;">    },</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//点击按钮搜索</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">searchDataClick</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.searchTitle  ){</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.ganttEvent.onBeforeTaskDisplay</span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;">gantt.</span><span style="color:#62E884;">attachEvent</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;onBeforeTaskDisplay&quot;</span><span style="color:#F6F6F4;">, (id, task)</span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">hasSubstr</span><span style="color:#F6F6F4;">(id,</span><span style="color:#E7EE98;">&#39;tilte&#39;</span><span style="color:#F6F6F4;">) ){ </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">true</span><span style="color:#F6F6F4;">;}</span></span>
<span class="line"><span style="color:#F6F6F4;">            </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">false</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">          });</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.</span><span style="color:#62E884;">refreshData</span><span style="color:#F6F6F4;">()</span></span>
<span class="line"><span style="color:#F6F6F4;">          gantt.</span><span style="color:#62E884;">render</span><span style="color:#F6F6F4;">()</span></span>
<span class="line"><span style="color:#F6F6F4;">      }</span><span style="color:#F286C4;">else</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.ganttEvent.onBeforeTaskDisplay</span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;">gantt.</span><span style="color:#62E884;">attachEvent</span><span style="color:#F6F6F4;">(</span><span style="color:#E7EE98;">&quot;onBeforeTaskDisplay&quot;</span><span style="color:#F6F6F4;">, (id, task)</span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">         </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">true</span></span>
<span class="line"><span style="color:#F6F6F4;">        })</span></span>
<span class="line"><span style="color:#F6F6F4;">        gantt.</span><span style="color:#62E884;">refreshData</span><span style="color:#F6F6F4;">()</span></span>
<span class="line"><span style="color:#F6F6F4;">        gantt.</span><span style="color:#62E884;">render</span><span style="color:#F6F6F4;">()</span></span>
<span class="line"><span style="color:#F6F6F4;">      }</span></span>
<span class="line"><span style="color:#F6F6F4;">    },</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// 提交弹框</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">handleOk</span><span style="color:#F6F6F4;">() {</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.modalTitle </span><span style="color:#F286C4;">===</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.editForm.</span><span style="color:#62E884;">validateFields</span><span style="color:#F6F6F4;">((err, values) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (</span><span style="color:#F286C4;">!</span><span style="color:#F6F6F4;">err) {</span></span>
<span class="line"><span style="color:#F6F6F4;">            Array.</span><span style="color:#62E884;">isArray</span><span style="color:#F6F6F4;">(values.participants) </span><span style="color:#F286C4;">&amp;&amp;</span><span style="color:#F6F6F4;"> (values.participants </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> values.participants.</span><span style="color:#62E884;">join</span><span style="color:#F6F6F4;">());</span></span>
<span class="line"><span style="color:#F6F6F4;">            values </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> util.</span><span style="color:#62E884;">transformFields</span><span style="color:#F6F6F4;">(values);</span></span>
<span class="line"><span style="color:#F6F6F4;">            let formdata </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> new </span><span style="color:#62E884;">FormData</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">            </span><span style="color:#F286C4;">for</span><span style="color:#F6F6F4;"> (let key </span><span style="color:#F286C4;">in</span><span style="color:#F6F6F4;"> values) {</span></span>
<span class="line"><span style="color:#F6F6F4;">              formdata.</span><span style="color:#62E884;">append</span><span style="color:#F6F6F4;">(key, values[key] ? values[key] : </span><span style="color:#E7EE98;">&#39;&#39;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">            }</span></span>
<span class="line"><span style="color:#F6F6F4;">            </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.axios.</span><span style="color:#62E884;">put</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.urls.addTask, formdata).</span><span style="color:#62E884;">then</span><span style="color:#F6F6F4;">((res) </span><span style="color:#F286C4;">=&gt;</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">              </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;"> (res.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.code </span><span style="color:#F286C4;">===</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">200</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">                </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.visible </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">false</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">                let msg </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> res.</span><span style="color:#F286C4;">data</span><span style="color:#F6F6F4;">.message</span></span>
<span class="line"><span style="color:#F6F6F4;">                </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.$message.</span><span style="color:#62E884;">success</span><span style="color:#F6F6F4;">(msg)</span></span>
<span class="line"><span style="color:#F6F6F4;">                </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.editForm.</span><span style="color:#62E884;">resetFields</span><span style="color:#F6F6F4;">()</span></span>
<span class="line"><span style="color:#F6F6F4;">                </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">onQuery</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">              }</span></span>
<span class="line"><span style="color:#F6F6F4;">            })</span></span>
<span class="line"><span style="color:#F6F6F4;">          }</span></span>
<span class="line"><span style="color:#F6F6F4;">        })</span></span>
<span class="line"><span style="color:#F6F6F4;">      }</span></span>
<span class="line"><span style="color:#F6F6F4;">    },</span></span>
<span class="line"><span style="color:#F6F6F4;">  },</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#62E884;">destroyed</span><span style="color:#F6F6F4;">() {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">// 销毁gantt事件</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">for</span><span style="color:#F6F6F4;"> (let i </span><span style="color:#F286C4;">in</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.ganttEvent) {</span></span>
<span class="line"><span style="color:#F6F6F4;">      gantt.</span><span style="color:#62E884;">detachEvent</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.ganttEvent[i])</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">   gantt.ext.tooltips.tooltip.</span><span style="color:#62E884;">hide</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">  }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#F6F6F4;">&lt;</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">script&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">&lt;style scoped lang</span><span style="color:#F286C4;">=</span><span style="color:#E7EE98;">&quot;less&quot;</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">@import</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">url</span><span style="color:#F6F6F4;">(.</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">gantt.css);</span></span>
<span class="line"><span style="color:#F6F6F4;">.ant</span><span style="color:#F286C4;">-</span><span style="color:#62E884;">layout</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  background: #f8f9f9;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">.ant</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">layout</span><span style="color:#F286C4;">-</span><span style="color:#62E884;">header</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  background: #fdffff;</span></span>
<span class="line"><span style="color:#F6F6F4;">  color: </span><span style="color:#97E1F1;font-style:italic;">rgb</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">29</span><span style="color:#F6F6F4;">, </span><span style="color:#97E1F1;font-style:italic;">28</span><span style="color:#F6F6F4;">, </span><span style="color:#97E1F1;font-style:italic;">28</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">  border: </span><span style="color:#97E1F1;font-style:italic;">1px</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">solid</span><span style="color:#F6F6F4;"> #dee0e0;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">header</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#7B7F8B;">// position: fixed;</span></span>
<span class="line"><span style="color:#F6F6F4;">  display: </span><span style="color:#97E1F1;font-style:italic;">flex</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  justify</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">content: </span><span style="color:#97E1F1;font-style:italic;">space</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">between;</span></span>
<span class="line"><span style="color:#F6F6F4;">  align</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">items: </span><span style="color:#97E1F1;font-style:italic;">center</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">content</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  background: #fdffff;</span></span>
<span class="line"><span style="color:#F6F6F4;">  height: </span><span style="color:#97E1F1;font-style:italic;">99vh</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#F6F6F4;">​</span></span>
<span class="line"><span style="color:#7B7F8B;">// 中间</span></span>
<span class="line"><span style="color:#F6F6F4;">.</span><span style="color:#62E884;">centerContent</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  position: </span><span style="color:#97E1F1;font-style:italic;">relative</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  background: #fdffff;</span></span>
<span class="line"><span style="color:#F6F6F4;">  width: </span><span style="color:#97E1F1;font-style:italic;">100</span><span style="color:#F286C4;">%</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  overflow</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">y: </span><span style="color:#97E1F1;font-style:italic;">auto</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  display: </span><span style="color:#97E1F1;font-style:italic;">flex</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  justify</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">content: </span><span style="color:#97E1F1;font-style:italic;">space</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">between;</span></span>
<span class="line"><span style="color:#F6F6F4;">  .</span><span style="color:#62E884;">selectDate</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    width: </span><span style="color:#97E1F1;font-style:italic;">100px</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    position: </span><span style="color:#97E1F1;font-style:italic;">fixed</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    top: </span><span style="color:#97E1F1;font-style:italic;">18</span><span style="color:#F286C4;">%</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    right: </span><span style="color:#97E1F1;font-style:italic;">9</span><span style="color:#F286C4;">%</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    z</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">index: </span><span style="color:#97E1F1;font-style:italic;">99</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    display: </span><span style="color:#97E1F1;font-style:italic;">flex</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    justify</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">content: </span><span style="color:#97E1F1;font-style:italic;">space</span><span style="color:#F286C4;">-</span><span style="color:#F6F6F4;">between;</span></span>
<span class="line"><span style="color:#F6F6F4;">  }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#F6F6F4;">&lt;</span><span style="color:#F286C4;">/</span><span style="color:#F6F6F4;">style&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;template&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;div style</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;height: 100%; width: 100%&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;a</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">layout&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;div class</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;content&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;div style</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;margin: -5px 0px 5px;display: flex;justify-content: space-between;&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">            &lt;a</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">input allowClear v</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">model</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;searchTitle&quot;</span><span style="color:#24292E;"> placeholder</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;请输入任务名称&quot;</span><span style="color:#24292E;">&gt;&lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">a</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">input&gt;</span></span>
<span class="line"><span style="color:#24292E;">            &lt;a</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">button icon</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;search&quot;</span><span style="color:#24292E;"> type</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;primary&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">@click</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;searchDataClick&quot;</span><span style="color:#24292E;">&gt;搜索&lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">a</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">button&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">div&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#D73A49;">!--</span><span style="color:#24292E;"> 中间 内容 </span><span style="color:#D73A49;">--</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;div class</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;centerContent&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">          &lt;</span><span style="color:#D73A49;">!--</span><span style="color:#24292E;"> 甘特图 </span><span style="color:#D73A49;">--</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">          &lt;div class</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;selectDate&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">            &lt;a</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">button </span><span style="color:#6F42C1;">@click</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;changeToday&quot;</span><span style="color:#24292E;">&gt;今&lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">a</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">button&gt;</span></span>
<span class="line"><span style="color:#24292E;">            &lt;</span><span style="color:#D73A49;">!--</span><span style="color:#24292E;"> 日期切换 </span><span style="color:#D73A49;">--</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">            &lt;a</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">select  default</span><span style="color:#D73A49;">-value=</span><span style="color:#032F62;">&quot;d&quot;</span><span style="color:#24292E;"> style</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;width: 55px;margin-left: 5px;&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">@change</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;ganttChangeDateView&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">              &lt;a</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">select</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">option </span><span style="color:#D73A49;">value=</span><span style="color:#032F62;">&quot;y&quot;</span><span style="color:#24292E;">&gt;年&lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">a</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">select</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">option&gt;</span></span>
<span class="line"><span style="color:#24292E;">              &lt;a</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">select</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">option </span><span style="color:#D73A49;">value=</span><span style="color:#032F62;">&quot;m&quot;</span><span style="color:#24292E;">&gt;月&lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">a</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">select</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">option&gt;</span></span>
<span class="line"><span style="color:#24292E;">              &lt;a</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">select</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">option </span><span style="color:#D73A49;">value=</span><span style="color:#032F62;">&quot;w&quot;</span><span style="color:#24292E;">&gt;周&lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">a</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">select</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">option&gt;</span></span>
<span class="line"><span style="color:#24292E;">              &lt;a</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">select</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">option </span><span style="color:#D73A49;">value=</span><span style="color:#032F62;">&quot;d&quot;</span><span style="color:#24292E;">&gt;日&lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">a</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">select</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">option&gt;</span></span>
<span class="line"><span style="color:#24292E;">            &lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">a</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">select&gt;</span></span>
<span class="line"><span style="color:#24292E;">            &lt;a</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">button style</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;margin-left: 5px;&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">@click</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;changeFull&quot;</span><span style="color:#24292E;">&gt;&lt;a</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">icon type</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;fullscreen&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">/</span><span style="color:#24292E;">&gt;&lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">a</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">button&gt;</span></span>
<span class="line"><span style="color:#24292E;">          &lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">div&gt;</span></span>
<span class="line"><span style="color:#24292E;">          &lt;div class</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;rightGatt&quot;</span><span style="color:#24292E;"> style</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;min-height:calc(78vh - 50px - 5px );width: 100%;overflow: hidden;&quot;</span><span style="color:#24292E;"> ref</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;gantt&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">          &lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">div&gt;</span></span>
<span class="line"><span style="color:#24292E;">        &lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">div&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">div&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">a</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">layout&gt;</span></span>
<span class="line"><span style="color:#24292E;">  &lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">div&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">template&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;script&gt;</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">{</span></span>
<span class="line"><span style="color:#24292E;">  gantt</span></span>
<span class="line"><span style="color:#24292E;">} from </span><span style="color:#032F62;">&#39;@/assets/js/dhtmlx&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">&quot;@/assets/css/dhtmlxgantt.css&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">{ util } from &quot;@/components/utils/util.js&quot;</span></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">moment from &#39;moment&#39;</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">export </span><span style="color:#6F42C1;">default</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  name: </span><span style="color:#032F62;">&quot;ganttChart&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">data</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      moment,</span></span>
<span class="line"><span style="color:#24292E;">      timer: </span><span style="color:#6F42C1;">null</span><span style="color:#24292E;">,</span><span style="color:#6A737D;">//定时</span></span>
<span class="line"><span style="color:#24292E;">      item: {},</span><span style="color:#6A737D;">//单行数据</span></span>
<span class="line"><span style="color:#24292E;">      searchTitle: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">,</span><span style="color:#6A737D;">//搜索标题</span></span>
<span class="line"><span style="color:#24292E;">      tasks: {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">data</span><span style="color:#24292E;">: [],</span><span style="color:#6A737D;">//数据</span></span>
<span class="line"><span style="color:#24292E;">        links: [],</span><span style="color:#6A737D;">//关联项目数据</span></span>
<span class="line"><span style="color:#24292E;">      },</span></span>
<span class="line"><span style="color:#24292E;">      savetasks: {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">data</span><span style="color:#24292E;">: [],</span></span>
<span class="line"><span style="color:#24292E;">        links: []</span></span>
<span class="line"><span style="color:#24292E;">      },</span><span style="color:#6A737D;">//暂存空数据</span></span>
<span class="line"><span style="color:#24292E;">      ganttServerStaff:[],</span><span style="color:#6A737D;">//设置gantt成员数据</span></span>
<span class="line"><span style="color:#24292E;">      selectStaff: [],</span><span style="color:#6A737D;">//下拉成员</span></span>
<span class="line"><span style="color:#24292E;">      staff: [],</span><span style="color:#6A737D;">//成员</span></span>
<span class="line"><span style="color:#24292E;">      ganttEvent: {</span><span style="color:#6A737D;">//销毁事件</span></span>
<span class="line"><span style="color:#24292E;">      },</span></span>
<span class="line"><span style="color:#24292E;">      urls: {</span></span>
<span class="line"><span style="color:#24292E;">        staff: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">,</span><span style="color:#6A737D;">//项目成员</span></span>
<span class="line"><span style="color:#24292E;">        tasklinks: </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">,</span><span style="color:#6A737D;">//gantt数据</span></span>
<span class="line"><span style="color:#24292E;">        linksEdit: </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">,</span><span style="color:#6A737D;">//修改和新增连接</span></span>
<span class="line"><span style="color:#24292E;">        linksDelete: </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">,</span><span style="color:#6A737D;">//删除连接</span></span>
<span class="line"><span style="color:#24292E;">        addTask: </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">,</span><span style="color:#6A737D;">//新增项目PUT</span></span>
<span class="line"><span style="color:#24292E;">        editTask: </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">,</span><span style="color:#6A737D;">//编辑项目put请求 tid </span></span>
<span class="line"><span style="color:#24292E;">        deleteTask: </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">,</span><span style="color:#6A737D;">//删除项目delete tid</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  watch: {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">searchTitle</span><span style="color:#24292E;">(newVal,oldVal){</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.searchTitle </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> newVal;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">mounted</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.axios.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.urls.staff, {</span></span>
<span class="line"><span style="color:#24292E;">        params: { projectId:  </span><span style="color:#6F42C1;">this</span><span style="color:#24292E;">.$store.state.project_data.id },</span></span>
<span class="line"><span style="color:#24292E;">      }).</span><span style="color:#6F42C1;">then</span><span style="color:#24292E;">(res </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        let staffArr </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> [];</span></span>
<span class="line"><span style="color:#24292E;">        res.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.code </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">200</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> res.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.result.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">((item, index) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">          staffArr[index] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {};</span></span>
<span class="line"><span style="color:#24292E;">          staffArr[index].key </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> item.id;</span></span>
<span class="line"><span style="color:#24292E;">          staffArr[index].label </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> item.realname;</span></span>
<span class="line"><span style="color:#24292E;">        })</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.selectStaff </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> res.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.result;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// 补充gantt数据</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.ganttServerStaff</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">staffArr;</span></span>
<span class="line"><span style="color:#24292E;">       </span></span>
<span class="line"><span style="color:#24292E;">      })</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.$</span><span style="color:#6F42C1;">nextTick</span><span style="color:#24292E;">(()</span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">ganttChangeEvent</span><span style="color:#24292E;">();</span><span style="color:#6A737D;">//交互事件</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">initGantt</span><span style="color:#24292E;">();</span><span style="color:#6A737D;">//初始化</span></span>
<span class="line"><span style="color:#24292E;">      </span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">createTodayLine</span><span style="color:#24292E;">();</span><span style="color:#6A737D;">//今日线</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">ganttServerList</span><span style="color:#24292E;">();</span><span style="color:#6A737D;">//服务数据</span></span>
<span class="line"><span style="color:#24292E;">    })</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">onQuery</span><span style="color:#24292E;">();</span><span style="color:#6A737D;">//查询数据</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">ganttChangeDateView</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;d&quot;</span><span style="color:#24292E;">);</span><span style="color:#6A737D;">//默认日格式</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  methods: {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">/*</span></span>
<span class="line"><span style="color:#6A737D;">      甘特图 </span></span>
<span class="line"><span style="color:#6A737D;">     */</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 初始化gantt</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">initGantt</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 清空之前的配置</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// gantt.clearAll();</span></span>
<span class="line"><span style="color:#24292E;">   </span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 启用动态加载</span></span>
<span class="line"><span style="color:#24292E;">      gantt.config.branch_loading </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">//日期格式化</span></span>
<span class="line"><span style="color:#24292E;">      gantt.config.xml_date </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;%Y-%m-%d&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      gantt.config.order_branch </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      gantt.config.order_branch_free </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">//左侧是否自适应</span></span>
<span class="line"><span style="color:#24292E;">      gantt.config.autofit </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      gantt.config.drag_links </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">;</span><span style="color:#6A737D;">//连线</span></span>
<span class="line"><span style="color:#24292E;">      gantt.config.readonly </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">;  </span><span style="color:#6A737D;">//只读</span></span>
<span class="line"><span style="color:#24292E;">      gantt.config.date_scale </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;%m月%d日&quot;</span><span style="color:#24292E;">; </span><span style="color:#6A737D;">//右侧显示列名</span></span>
<span class="line"><span style="color:#24292E;">      gantt.config.layout </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span><span style="color:#6A737D;">//拖拽布局</span></span>
<span class="line"><span style="color:#24292E;">        css: </span><span style="color:#032F62;">&quot;gantt_container&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        rows: [</span></span>
<span class="line"><span style="color:#24292E;">          {</span></span>
<span class="line"><span style="color:#24292E;">            cols: [</span></span>
<span class="line"><span style="color:#24292E;">              { view: </span><span style="color:#032F62;">&quot;grid&quot;</span><span style="color:#24292E;">, id: </span><span style="color:#032F62;">&quot;grid&quot;</span><span style="color:#24292E;">, scrollX: </span><span style="color:#032F62;">&quot;scrollHor&quot;</span><span style="color:#24292E;">, scrollY: </span><span style="color:#032F62;">&quot;scrollVer&quot;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">              { resizer: </span><span style="color:#6F42C1;">true</span><span style="color:#24292E;">, width: </span><span style="color:#6F42C1;">1</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">              { view: </span><span style="color:#032F62;">&quot;timeline&quot;</span><span style="color:#24292E;">, id: </span><span style="color:#032F62;">&quot;timeline&quot;</span><span style="color:#24292E;">, scrollX: </span><span style="color:#032F62;">&quot;scrollHor&quot;</span><span style="color:#24292E;">, scrollY: </span><span style="color:#032F62;">&quot;scrollVer&quot;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">              { view: </span><span style="color:#032F62;">&quot;scrollbar&quot;</span><span style="color:#24292E;">, scroll: </span><span style="color:#032F62;">&quot;y&quot;</span><span style="color:#24292E;">, id: </span><span style="color:#032F62;">&quot;scrollVer&quot;</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#24292E;">            ]</span></span>
<span class="line"><span style="color:#24292E;">          },</span></span>
<span class="line"><span style="color:#24292E;">          { view: </span><span style="color:#032F62;">&quot;scrollbar&quot;</span><span style="color:#24292E;">, scroll: </span><span style="color:#032F62;">&quot;x&quot;</span><span style="color:#24292E;">, id: </span><span style="color:#032F62;">&quot;scrollHor&quot;</span><span style="color:#24292E;">, height: </span><span style="color:#6F42C1;">20</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#24292E;">        ]</span></span>
<span class="line"><span style="color:#24292E;">      };</span></span>
<span class="line"><span style="color:#24292E;">      gantt.config.start_on_monday </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      gantt.config.work_time </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      gantt.config.fit_tasks </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">;   </span><span style="color:#6A737D;">//自动调整图表坐标轴区间用于适配task的长度</span></span>
<span class="line"><span style="color:#24292E;">    </span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">//汉化</span></span>
<span class="line"><span style="color:#24292E;">      gantt.locale </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        date: {</span></span>
<span class="line"><span style="color:#24292E;">          month_full: [</span><span style="color:#032F62;">&quot;1&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;2&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;3&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;4&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;5&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;6&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;7&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;8&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;9&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;10&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;11&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;12&quot;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">          month_short: [</span><span style="color:#032F62;">&quot;1月&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;2月&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;3月&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;4月&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;5月&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;6月&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;7月&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;8月&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;9月&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;10月&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;11月&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;12月&quot;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">          day_full: [</span><span style="color:#032F62;">&quot;星期日&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;星期一&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;星期二&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;星期三&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;星期四&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;星期五&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;星期六&quot;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">          day_short: [</span><span style="color:#032F62;">&quot;日&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;一&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;二&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;三&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;四&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;五&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;六&quot;</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">        labels: {</span></span>
<span class="line"><span style="color:#24292E;">          dhx_cal_today_button: </span><span style="color:#032F62;">&quot;今天&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          day_tab: </span><span style="color:#032F62;">&quot;日&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          week_tab: </span><span style="color:#032F62;">&quot;周&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          month_tab: </span><span style="color:#032F62;">&quot;月&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          new_event: </span><span style="color:#032F62;">&quot;新建日程&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          icon_save: </span><span style="color:#032F62;">&quot;保存&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          icon_cancel: </span><span style="color:#032F62;">&quot;关闭&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          icon_details: </span><span style="color:#032F62;">&quot;详细&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          icon_edit: </span><span style="color:#032F62;">&quot;编辑&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          icon_delete: </span><span style="color:#032F62;">&quot;删除&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          confirm_closing: </span><span style="color:#032F62;">&quot;请确认是否撤销修改!&quot;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">//Your changes will be lost, are your sure?</span></span>
<span class="line"><span style="color:#24292E;">          confirm_deleting: </span><span style="color:#032F62;">&quot;是否删除计划?&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          section_description: </span><span style="color:#032F62;">&quot;描述:&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          section_time: </span><span style="color:#032F62;">&quot;时间范围:&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          section_type: </span><span style="color:#032F62;">&quot;类型:&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          section_text: </span><span style="color:#032F62;">&quot;计划名称:&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          section_test: </span><span style="color:#032F62;">&quot;测试:&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          section_projectClass: </span><span style="color:#032F62;">&quot;项目类型:&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          taskProjectType_0: </span><span style="color:#032F62;">&quot;项目任务&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          taskProjectType_1: </span><span style="color:#032F62;">&quot;普通任务&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          section_head: </span><span style="color:#032F62;">&quot;负责人:&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          section_priority: </span><span style="color:#032F62;">&#39;优先级:&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          taskProgress: </span><span style="color:#032F62;">&#39;任务状态&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          taskProgress_0: </span><span style="color:#032F62;">&quot;未开始&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          taskProgress_1: </span><span style="color:#032F62;">&quot;进行中&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          taskProgress_2: </span><span style="color:#032F62;">&quot;已完成&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          taskProgress_3: </span><span style="color:#032F62;">&quot;已延期&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          taskProgress_4: </span><span style="color:#032F62;">&quot;搁置中&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          section_template: </span><span style="color:#032F62;">&#39;Details&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6A737D;">/* grid columns */</span></span>
<span class="line"><span style="color:#24292E;">          column_text: </span><span style="color:#032F62;">&quot;计划名称&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          column_start_date: </span><span style="color:#032F62;">&quot;开始时间&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          column_duration: </span><span style="color:#032F62;">&quot;持续时间&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          column_add: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          column_priority: </span><span style="color:#032F62;">&quot;难度&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6A737D;">/* link confirmation */</span></span>
<span class="line"><span style="color:#24292E;">          link: </span><span style="color:#032F62;">&quot;关联&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          confirm_link_deleting: </span><span style="color:#032F62;">&quot;将被删除&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          message_ok:</span><span style="color:#032F62;">&#39;确定&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          message_cancel:</span><span style="color:#032F62;">&#39;取消&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          link_start: </span><span style="color:#032F62;">&quot; (开始)&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          link_end: </span><span style="color:#032F62;">&quot; (结束)&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">          type_task: </span><span style="color:#032F62;">&quot;任务&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          type_project: </span><span style="color:#032F62;">&quot;项目&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          type_milestone: </span><span style="color:#032F62;">&quot;里程碑&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">          minutes: </span><span style="color:#032F62;">&quot;分钟&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          hours: </span><span style="color:#032F62;">&quot;小时&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          days: </span><span style="color:#032F62;">&quot;天&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          weeks: </span><span style="color:#032F62;">&quot;周&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          months: </span><span style="color:#032F62;">&quot;月&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          years: </span><span style="color:#032F62;">&quot;年&quot;</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">      gantt.</span><span style="color:#6F42C1;">serverList</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;priority&quot;</span><span style="color:#24292E;">, [</span></span>
<span class="line"><span style="color:#24292E;">        { key: </span><span style="color:#6F42C1;">0</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&quot;最高&quot;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">        { key: </span><span style="color:#6F42C1;">1</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&quot;较高&quot;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">        { key: </span><span style="color:#6F42C1;">2</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&quot;普通&quot;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">        { key: </span><span style="color:#6F42C1;">3</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&quot;较低&quot;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">        { key: </span><span style="color:#6F42C1;">4</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&quot;最低&quot;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">      ]);</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">//左侧显示列名</span></span>
<span class="line"><span style="color:#24292E;">      gantt.config.columns </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> [</span></span>
<span class="line"><span style="color:#24292E;">        { name: </span><span style="color:#032F62;">&quot;text&quot;</span><span style="color:#24292E;">, min_width:</span><span style="color:#6F42C1;">100</span><span style="color:#24292E;">,max_width:</span><span style="color:#6F42C1;">200</span><span style="color:#24292E;">, label:</span><span style="color:#032F62;">&quot;任务&quot;</span><span style="color:#24292E;">, align: </span><span style="color:#032F62;">&quot;left&quot;</span><span style="color:#24292E;">,resize: </span><span style="color:#6F42C1;">true</span><span style="color:#24292E;">,  tree: </span><span style="color:#6F42C1;">true</span><span style="color:#24292E;">, editor: { type: </span><span style="color:#032F62;">&#39;text&#39;</span><span style="color:#24292E;">, map_to: </span><span style="color:#032F62;">&#39;text&#39;</span><span style="color:#24292E;"> } },</span></span>
<span class="line"><span style="color:#24292E;">        { name: </span><span style="color:#032F62;">&quot;id&quot;</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">, hide: </span><span style="color:#6F42C1;">true</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">        { name: </span><span style="color:#032F62;">&quot;start_date&quot;</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&quot;开始时间&quot;</span><span style="color:#24292E;">, width: </span><span style="color:#6F42C1;">120</span><span style="color:#24292E;">, resize: </span><span style="color:#6F42C1;">true</span><span style="color:#24292E;">, align: </span><span style="color:#032F62;">&quot;left&quot;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">          name: </span><span style="color:#032F62;">&quot;head&quot;</span><span style="color:#24292E;">, min_width: </span><span style="color:#6F42C1;">100</span><span style="color:#24292E;">, height: </span><span style="color:#6F42C1;">40</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&quot;负责人&quot;</span><span style="color:#24292E;">,resize: </span><span style="color:#6F42C1;">true</span><span style="color:#24292E;">, align: </span><span style="color:#032F62;">&quot;left&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6A737D;">// editor: {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6A737D;">//   map_to: &quot;head_id&quot;, type: &quot;select&quot;, options: gantt.serverList(&quot;staff&quot;),</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6A737D;">// },</span></span>
<span class="line"><span style="color:#24292E;">          template: (</span><span style="color:#6F42C1;">item</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">ganttDealById</span><span style="color:#24292E;">(gantt.</span><span style="color:#6F42C1;">serverList</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;staff&#39;</span><span style="color:#24292E;">), item.head_id)) {</span></span>
<span class="line"><span style="color:#24292E;">              </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> \`&lt;span class</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;userIcon&#39;</span><span style="color:#24292E;"> style</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;background-color:\${item.color ? item.color : &quot;#6666&quot;}&#39;</span><span style="color:#24292E;">&gt;\${</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">ganttDealById</span><span style="color:#24292E;">(gantt.</span><span style="color:#6F42C1;">serverList</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;staff&#39;</span><span style="color:#24292E;">), item.head_id).</span><span style="color:#6F42C1;">slice</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">)}&lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">span&gt;\${</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">ganttDealById</span><span style="color:#24292E;">(gantt.</span><span style="color:#6F42C1;">serverList</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;staff&#39;</span><span style="color:#24292E;">), item.head_id)}\`</span></span>
<span class="line"><span style="color:#24292E;">            }</span></span>
<span class="line"><span style="color:#24292E;">          }</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// { name: &quot;end_date&quot;, label: &quot;结束时间&quot;, align: &quot;center&quot; },</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">          name: </span><span style="color:#032F62;">&quot;taskProgress&quot;</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&quot;任务状态&quot;</span><span style="color:#24292E;">, align: </span><span style="color:#032F62;">&quot;center&quot;</span><span style="color:#24292E;">, min_width: </span><span style="color:#6F42C1;">110</span><span style="color:#24292E;">,editor: {</span></span>
<span class="line"><span style="color:#24292E;">            type: </span><span style="color:#032F62;">&quot;select&quot;</span><span style="color:#24292E;">, map_to: </span><span style="color:#032F62;">&quot;taskProgress&quot;</span><span style="color:#24292E;">, options: [</span></span>
<span class="line"><span style="color:#24292E;">              { key: </span><span style="color:#032F62;">&quot;0&quot;</span><span style="color:#24292E;">, label: </span><span style="color:#6F42C1;">gantt</span><span style="color:#24292E;">.locale.labels.taskProgress_0 },</span></span>
<span class="line"><span style="color:#24292E;">              { key: </span><span style="color:#032F62;">&quot;1&quot;</span><span style="color:#24292E;">, label: </span><span style="color:#6F42C1;">gantt</span><span style="color:#24292E;">.locale.labels.taskProgress_1 },</span></span>
<span class="line"><span style="color:#24292E;">              { key: </span><span style="color:#032F62;">&quot;2&quot;</span><span style="color:#24292E;">, label: </span><span style="color:#6F42C1;">gantt</span><span style="color:#24292E;">.locale.labels.taskProgress_2 },</span></span>
<span class="line"><span style="color:#24292E;">              { key: </span><span style="color:#032F62;">&quot;3&quot;</span><span style="color:#24292E;">, label: </span><span style="color:#6F42C1;">gantt</span><span style="color:#24292E;">.locale.labels.taskProgress_3 },</span></span>
<span class="line"><span style="color:#24292E;">              { key: </span><span style="color:#032F62;">&quot;4&quot;</span><span style="color:#24292E;">, label: </span><span style="color:#6F42C1;">gantt</span><span style="color:#24292E;">.locale.labels.taskProgress_4 },</span></span>
<span class="line"><span style="color:#24292E;">            ],</span></span>
<span class="line"><span style="color:#24292E;">          },</span></span>
<span class="line"><span style="color:#24292E;">          template: </span><span style="color:#6F42C1;">function</span><span style="color:#24292E;"> (</span><span style="color:#6F42C1;">obj</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">            let re </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#6F42C1;">switch</span><span style="color:#24292E;"> (obj.taskProgress) {</span></span>
<span class="line"><span style="color:#24292E;">              case </span><span style="color:#032F62;">&quot;0&quot;</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">                re </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> \`&lt;div class</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;taskProgress color_bg_1&#39;</span><span style="color:#24292E;"> &gt;未开始&lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">div&gt;\`</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">              case </span><span style="color:#032F62;">&quot;1&quot;</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">                re </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> \`&lt;div class</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;taskProgress color_bg_2&#39;</span><span style="color:#24292E;"> &gt;进行中&lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">div&gt;\`</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">              case </span><span style="color:#032F62;">&quot;2&quot;</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">                re </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> \`&lt;div class</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;taskProgress color_bg_3&#39;</span><span style="color:#24292E;">  &gt;已完成&lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">div&gt;\`</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">              case </span><span style="color:#032F62;">&quot;3&quot;</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">                re </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> \`&lt;div  class</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;taskProgress color_bg_4&#39;</span><span style="color:#24292E;">&gt;已延期&lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">div&gt;\`</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">              case </span><span style="color:#032F62;">&quot;4&quot;</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">                re </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> \`&lt;div  class</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;taskProgress color_bg_5&#39;</span><span style="color:#24292E;"> &gt;搁置中&lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">div&gt;\`</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">            }</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> re</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">          }</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">      ];</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">//弹出层</span></span>
<span class="line"><span style="color:#24292E;">      gantt.config.lightbox.sections </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> [</span></span>
<span class="line"><span style="color:#24292E;">        { name: </span><span style="color:#032F62;">&quot;text&quot;</span><span style="color:#24292E;">, height: </span><span style="color:#6F42C1;">70</span><span style="color:#24292E;">, map_to: </span><span style="color:#032F62;">&quot;text&quot;</span><span style="color:#24292E;">, type: </span><span style="color:#032F62;">&quot;textarea&quot;</span><span style="color:#24292E;">, focus: </span><span style="color:#6F42C1;">true</span><span style="color:#24292E;">, width: </span><span style="color:#032F62;">&quot;*&quot;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">          name: </span><span style="color:#032F62;">&quot;time&quot;</span><span style="color:#24292E;">, height: </span><span style="color:#6F42C1;">40</span><span style="color:#24292E;">, map_to: </span><span style="color:#032F62;">&quot;auto&quot;</span><span style="color:#24292E;">, type: </span><span style="color:#032F62;">&quot;duration&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">          time_format: [</span><span style="color:#032F62;">&quot;%Y&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;%m&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;%d&quot;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">          name: </span><span style="color:#032F62;">&quot;projectClass&quot;</span><span style="color:#24292E;">, height: </span><span style="color:#6F42C1;">30</span><span style="color:#24292E;">, map_to: </span><span style="color:#032F62;">&quot;proTemplate&quot;</span><span style="color:#24292E;">, type: </span><span style="color:#032F62;">&quot;template&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">         </span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">          name: </span><span style="color:#032F62;">&quot;head&quot;</span><span style="color:#24292E;">, height: </span><span style="color:#6F42C1;">22</span><span style="color:#24292E;">, map_to: </span><span style="color:#032F62;">&quot;head_id&quot;</span><span style="color:#24292E;">, type: </span><span style="color:#032F62;">&quot;select&quot;</span><span style="color:#24292E;">, options: </span><span style="color:#6F42C1;">gantt</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">serverList</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;staff&#39;</span><span style="color:#24292E;">,[]),</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">        { name: </span><span style="color:#032F62;">&quot;description&quot;</span><span style="color:#24292E;">, height: </span><span style="color:#6F42C1;">70</span><span style="color:#24292E;">, map_to: </span><span style="color:#032F62;">&quot;description&quot;</span><span style="color:#24292E;">, type: </span><span style="color:#032F62;">&quot;textarea&quot;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">        {</span></span>
<span class="line"><span style="color:#24292E;">          name: </span><span style="color:#032F62;">&quot;priority&quot;</span><span style="color:#24292E;">, height: </span><span style="color:#6F42C1;">40</span><span style="color:#24292E;">, map_to: </span><span style="color:#032F62;">&quot;priority&quot;</span><span style="color:#24292E;">, type: </span><span style="color:#032F62;">&quot;radio&quot;</span><span style="color:#24292E;">, options: </span><span style="color:#6F42C1;">gantt</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">serverList</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;priority&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">        },</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">      ];</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">      gantt.config.smart_scales </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      gantt.</span><span style="color:#6F42C1;">plugins</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">        click_drag: </span><span style="color:#6F42C1;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        drag_timeline: </span><span style="color:#6F42C1;">true</span><span style="color:#24292E;">,</span><span style="color:#6A737D;">// 拖动图</span></span>
<span class="line"><span style="color:#24292E;">        marker: </span><span style="color:#6F42C1;">true</span><span style="color:#24292E;">,</span><span style="color:#6A737D;">// 时间标记</span></span>
<span class="line"><span style="color:#24292E;">        fullscreen: </span><span style="color:#6F42C1;">true</span><span style="color:#24292E;">,</span><span style="color:#6A737D;">// 全屏</span></span>
<span class="line"><span style="color:#24292E;">        tooltip: </span><span style="color:#6F42C1;">true</span><span style="color:#24292E;">,</span><span style="color:#6A737D;">// 鼠标经过时信息</span></span>
<span class="line"><span style="color:#24292E;">        undo: </span><span style="color:#6F42C1;">true</span><span style="color:#24292E;"> </span><span style="color:#6A737D;">// 允许撤销</span></span>
<span class="line"><span style="color:#24292E;">      })</span></span>
<span class="line"><span style="color:#24292E;">      gantt.</span><span style="color:#6F42C1;">init</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.$refs.gantt);</span></span>
<span class="line"><span style="color:#24292E;">     </span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">  </span></span>
<span class="line"><span style="color:#24292E;">  </span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// gantt数据服务列表</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">ganttServerList</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">getProjectStaff</span><span style="color:#24292E;">();</span><span style="color:#6A737D;">//获取项目成员</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 项目难度</span></span>
<span class="line"><span style="color:#24292E;">      gantt.</span><span style="color:#6F42C1;">serverList</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;priority&quot;</span><span style="color:#24292E;">, [</span></span>
<span class="line"><span style="color:#24292E;">        { key: </span><span style="color:#6F42C1;">0</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&quot;最高&quot;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">        { key: </span><span style="color:#6F42C1;">1</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&quot;较高&quot;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">        { key: </span><span style="color:#6F42C1;">2</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&quot;普通&quot;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">        { key: </span><span style="color:#6F42C1;">3</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&quot;较低&quot;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">        { key: </span><span style="color:#6F42C1;">4</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&quot;最低&quot;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">      ]);</span></span>
<span class="line"><span style="color:#24292E;">   </span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// gantt交互事件注册</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">ganttChangeEvent</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// gantt渲染</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.ganttEvent.onGanttReady</span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> gantt.</span><span style="color:#6F42C1;">attachEvent</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;onGanttReady&quot;</span><span style="color:#24292E;">, ()</span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">         </span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6A737D;">//弹窗标题 日期范围</span></span>
<span class="line"><span style="color:#24292E;">          gantt.templates.task_time </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">function</span><span style="color:#24292E;"> (start, end, task) {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;周期：&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">moment</span><span style="color:#24292E;">(start).</span><span style="color:#6F42C1;">format</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;YYYY-MM-DD&#39;</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot; 至 &quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">moment</span><span style="color:#24292E;">(end).</span><span style="color:#6F42C1;">format</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;YYYY-MM-DD&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">          };</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6A737D;">// 浮窗</span></span>
<span class="line"><span style="color:#24292E;">          gantt.templates.tooltip_text </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (start, end, task) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;&lt;b&gt;项目名称:&lt;/b&gt; &quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> task.text </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;&lt;br&gt;&lt;b&gt;负责人:&lt;/b&gt;&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> task.head </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;&lt;br/&gt;&lt;b&gt;开始时间:&lt;/b&gt; &quot;</span></span>
<span class="line"><span style="color:#24292E;">              </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">moment</span><span style="color:#24292E;">(start).</span><span style="color:#6F42C1;">format</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;YYYY-MM-DD&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">              </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;&lt;br/&gt;&lt;b&gt;结束时间:&lt;/b&gt; &quot;</span></span>
<span class="line"><span style="color:#24292E;">              </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">moment</span><span style="color:#24292E;">(new </span><span style="color:#6F42C1;">Date</span><span style="color:#24292E;">(end).</span><span style="color:#6F42C1;">valueOf</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">-</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1000</span><span style="color:#D73A49;">*</span><span style="color:#005CC5;">60</span><span style="color:#D73A49;">*</span><span style="color:#005CC5;">60</span><span style="color:#D73A49;">*</span><span style="color:#005CC5;">24</span><span style="color:#24292E;"> ).</span><span style="color:#6F42C1;">format</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;YYYY-MM-DD&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">          }</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6A737D;">//弹窗标题 计划名称</span></span>
<span class="line"><span style="color:#24292E;">          gantt.templates.task_text </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">function</span><span style="color:#24292E;"> (start, end, task) {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> task.text;</span></span>
<span class="line"><span style="color:#24292E;">          };</span></span>
<span class="line"><span style="color:#24292E;">          gantt.templates.timeline_cell_class </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">function</span><span style="color:#24292E;"> (task, date) {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">gantt.</span><span style="color:#6F42C1;">isWorkTime</span><span style="color:#24292E;">({ task: </span><span style="color:#6F42C1;">task</span><span style="color:#24292E;">, date: </span><span style="color:#6F42C1;">date</span><span style="color:#24292E;"> })) {</span></span>
<span class="line"><span style="color:#24292E;">              </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;weekend&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">            } </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">              </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;weekday&#39;</span></span>
<span class="line"><span style="color:#24292E;">            }</span></span>
<span class="line"><span style="color:#24292E;">          };</span></span>
<span class="line"><span style="color:#24292E;">          gantt.templates.task_end_date </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (date)</span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> gantt.templates.</span><span style="color:#6F42C1;">task_date</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">moment</span><span style="color:#24292E;">(new </span><span style="color:#6F42C1;">Date</span><span style="color:#24292E;">(date.</span><span style="color:#6F42C1;">valueOf</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">-</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1000</span><span style="color:#D73A49;">*</span><span style="color:#005CC5;">60</span><span style="color:#D73A49;">*</span><span style="color:#005CC5;">60</span><span style="color:#D73A49;">*</span><span style="color:#005CC5;">24</span><span style="color:#24292E;">)).</span><span style="color:#6F42C1;">format</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;YYYY-MM-DD&quot;</span><span style="color:#24292E;">)); </span></span>
<span class="line"><span style="color:#24292E;">          };</span></span>
<span class="line"><span style="color:#24292E;">          gantt.templates.grid_date_format </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (date, column)</span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(column </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;end_date&quot;</span><span style="color:#24292E;">){</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">moment</span><span style="color:#24292E;">(new </span><span style="color:#6F42C1;">Date</span><span style="color:#24292E;">(date.</span><span style="color:#6F42C1;">valueOf</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">-</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1000</span><span style="color:#D73A49;">*</span><span style="color:#005CC5;">60</span><span style="color:#D73A49;">*</span><span style="color:#005CC5;">60</span><span style="color:#D73A49;">*</span><span style="color:#005CC5;">24</span><span style="color:#24292E;">)).</span><span style="color:#6F42C1;">format</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;YYYY-MM-DD&quot;</span><span style="color:#24292E;">); </span></span>
<span class="line"><span style="color:#24292E;">            }</span><span style="color:#D73A49;">else</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">moment</span><span style="color:#24292E;">(date).</span><span style="color:#6F42C1;">format</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;YYYY-MM-DD&quot;</span><span style="color:#24292E;">); </span></span>
<span class="line"><span style="color:#24292E;">            }</span></span>
<span class="line"><span style="color:#24292E;">          }</span></span>
<span class="line"><span style="color:#24292E;">      });</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 修改默认弹窗</span></span>
<span class="line"><span style="color:#24292E;">      gantt.</span><span style="color:#6F42C1;">attachEvent</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;onBeforeLightbox&quot;</span><span style="color:#24292E;">,  (id)</span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">var</span><span style="color:#24292E;"> task </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> gantt.</span><span style="color:#6F42C1;">getTask</span><span style="color:#24292E;">(id);</span></span>
<span class="line"><span style="color:#24292E;">        task.proTemplate </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> \`\${gantt.locale.labels.taskProjectType_0}\`</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      });</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">//添加后触发</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.ganttEvent.onAfterTaskAdd </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> gantt.</span><span style="color:#6F42C1;">attachEvent</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;onAfterTaskAdd&quot;</span><span style="color:#24292E;">, (id, item) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">clearTimeout</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.timer)</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.timer </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setTimeout</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">dealProject</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;add&quot;</span><span style="color:#24292E;">,item)</span></span>
<span class="line"><span style="color:#24292E;">        }, </span><span style="color:#005CC5;">500</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">      });</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 修改任务</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.ganttEvent.onAfterTaskUpdate </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> gantt.</span><span style="color:#6F42C1;">attachEvent</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;onAfterTaskUpdate&quot;</span><span style="color:#24292E;">, (id, </span><span style="color:#D73A49;">data</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">clearTimeout</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.timer)</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.timer </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setTimeout</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">dealProject</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;edit&quot;</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">data</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">          gantt.</span><span style="color:#6F42C1;">render</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">        }, </span><span style="color:#005CC5;">500</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">      });</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 删除项目</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.ganttEvent.onAfterTaskDelete </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> gantt.</span><span style="color:#6F42C1;">attachEvent</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;onAfterTaskDelete&quot;</span><span style="color:#24292E;">, (id, </span><span style="color:#D73A49;">data</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">clearTimeout</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.timer)</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.timer </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setTimeout</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">dealProject</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;delete&quot;</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">data</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">          gantt.</span><span style="color:#6F42C1;">render</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        }, </span><span style="color:#005CC5;">500</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">      });</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 移动项目</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.ganttEvent.onAfterTaskDrag </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> gantt.</span><span style="color:#6F42C1;">attachEvent</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;onAfterTaskDrag&quot;</span><span style="color:#24292E;">, (id, mode, e) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">clearTimeout</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.timer)</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.timer </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setTimeout</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">var</span><span style="color:#24292E;"> task </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> gantt.</span><span style="color:#6F42C1;">getTask</span><span style="color:#24292E;">(id);</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">dealProject</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;edit&quot;</span><span style="color:#24292E;">, task);</span></span>
<span class="line"><span style="color:#24292E;">          gantt.</span><span style="color:#6F42C1;">render</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">        }, </span><span style="color:#005CC5;">500</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">      });</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 用户完成拖动并释放鼠标</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.ganttEvent.onAfterTaskChanged </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> gantt.</span><span style="color:#6F42C1;">attachEvent</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;onAfterTaskChanged&quot;</span><span style="color:#24292E;">, (id, mode, task) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">clearTimeout</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.timer)</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.timer </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setTimeout</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">          gantt.</span><span style="color:#6F42C1;">render</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        }, </span><span style="color:#005CC5;">500</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">      });</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 删除连接项目关系</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.ganttEvent.onAfterLinkDelete </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> gantt.</span><span style="color:#6F42C1;">attachEvent</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;onAfterLinkDelete&quot;</span><span style="color:#24292E;">, (id, item) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">clearTimeout</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.timer)</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.timer </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setTimeout</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span></span>
<span class="line"><span style="color:#24292E;">          let param </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> Object.</span><span style="color:#6F42C1;">assign</span><span style="color:#24292E;">({}, { projectId:</span><span style="color:#6F42C1;">this</span><span style="color:#24292E;">.$store.state.project_data.id }, item)</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.axios.$</span><span style="color:#6F42C1;">delete</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.urls.linksDelete, param).</span><span style="color:#6F42C1;">then</span><span style="color:#24292E;">(res </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">            res.code </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">200</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.$message.</span><span style="color:#6F42C1;">success</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;解除成功!&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">            res.code </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">200</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.$message.</span><span style="color:#6F42C1;">error</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;解除失败!&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">          })</span></span>
<span class="line"><span style="color:#24292E;">          gantt.</span><span style="color:#6F42C1;">render</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        }, </span><span style="color:#005CC5;">500</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">      });</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 修改连接项目关系</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.ganttEvent.onAfterLinkUpdate </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> gantt.</span><span style="color:#6F42C1;">attachEvent</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;onAfterLinkUpdate&quot;</span><span style="color:#24292E;">, (id, item) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6F42C1;">clearTimeout</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.timer)</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.timer </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setTimeout</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">          let param </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> Object.</span><span style="color:#6F42C1;">assign</span><span style="color:#24292E;">({}, { projectId:</span><span style="color:#6F42C1;">this</span><span style="color:#24292E;">.$store.state.project_data.id }, item)</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.axios.$</span><span style="color:#6F42C1;">put</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.urls.linksEdit, param).</span><span style="color:#6F42C1;">then</span><span style="color:#24292E;">(res </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">            res.code </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">200</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.$message.</span><span style="color:#6F42C1;">success</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;关联成功!&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">            res.code </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">200</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.$message.</span><span style="color:#6F42C1;">error</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;关联失败!&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">          })</span></span>
<span class="line"><span style="color:#24292E;">          gantt.</span><span style="color:#6F42C1;">render</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">        }, </span><span style="color:#005CC5;">500</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">      });</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 新增连接项目关系</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.ganttEvent.onBeforeLinkAdd </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> gantt.</span><span style="color:#6F42C1;">attachEvent</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;onBeforeLinkAdd&quot;</span><span style="color:#24292E;">, (id, item) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.timer </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setTimeout</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6F42C1;">clearTimeout</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.timer)</span></span>
<span class="line"><span style="color:#24292E;">          let param </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> Object.</span><span style="color:#6F42C1;">assign</span><span style="color:#24292E;">({}, { projectId: </span><span style="color:#6F42C1;">this</span><span style="color:#24292E;">.$store.state.project_data.id }, item)</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.axios.$</span><span style="color:#6F42C1;">put</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.urls.linksEdit, param).</span><span style="color:#6F42C1;">then</span><span style="color:#24292E;">(res </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">            res.code </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">200</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.$message.</span><span style="color:#6F42C1;">success</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;关联成功!&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">            res.code </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">200</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.$message.</span><span style="color:#6F42C1;">error</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;关联失败!&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">           </span></span>
<span class="line"><span style="color:#24292E;">          })</span></span>
<span class="line"><span style="color:#24292E;">          gantt.</span><span style="color:#6F42C1;">render</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">        }, </span><span style="color:#005CC5;">20</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">      });</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// 保存新增</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.ganttEvent.onLightboxSave </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> gantt.</span><span style="color:#6F42C1;">attachEvent</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;onLightboxSave&quot;</span><span style="color:#24292E;">, (id, item) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">item.text) {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.$message.</span><span style="color:#6F42C1;">error</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;请填写计划名称!&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      });</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 处理id 对应名称label</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">ganttDealById</span><span style="color:#24292E;">(list, id) {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">for</span><span style="color:#24292E;"> (let i </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">; i &lt; list.length; i</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (list[i].key </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> id)</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> list[i].label ;</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 切换 年 季 月 周 日视图 </span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">ganttChangeDateView</span><span style="color:#24292E;">(type) {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">switch</span><span style="color:#24292E;"> (type) {</span></span>
<span class="line"><span style="color:#24292E;">        case </span><span style="color:#032F62;">&#39;y&#39;</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">          gantt.config.scale_unit </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;year&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">          gantt.config.step </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">          gantt.config.subscales </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">          gantt.config.date_scale </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;%Y年&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">          gantt.templates.date_scale </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">        case </span><span style="color:#032F62;">&#39;m&#39;</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">          gantt.config.scale_unit </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;month&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">          gantt.config.step </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">          gantt.config.date_scale </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;%m月&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">          gantt.templates.date_scale </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        </span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        case </span><span style="color:#032F62;">&#39;w&#39;</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">          gantt.config.scale_unit </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;week&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">          gantt.config.step </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">          gantt.config.date_scale </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;第%w周&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">          gantt.templates.date_scale </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">       </span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        case </span><span style="color:#032F62;">&#39;d&#39;</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">          gantt.config.scale_unit </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;day&#39;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">          gantt.config.step </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">          gantt.config.date_scale </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;%m月%d日&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">          gantt.templates.date_scale </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">          gantt.config.subscales </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">          </span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">      gantt.</span><span style="color:#6F42C1;">render</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 今日线</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">createTodayLine</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">var</span><span style="color:#24292E;"> dateToStr </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> gantt.date.</span><span style="color:#6F42C1;">date_to_str</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;%Y年%M%d日&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">var</span><span style="color:#24292E;"> markerId </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> gantt.</span><span style="color:#6F42C1;">addMarker</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">        id: </span><span style="color:#032F62;">&#39;markerLine&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        start_date: </span><span style="color:#6F42C1;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Date</span><span style="color:#24292E;">(),</span></span>
<span class="line"><span style="color:#24292E;">        css: </span><span style="color:#032F62;">&quot;today&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        text: </span><span style="color:#032F62;">&quot;今日&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        title: </span><span style="color:#6F42C1;">dateToStr</span><span style="color:#24292E;">(new </span><span style="color:#6F42C1;">Date</span><span style="color:#24292E;">()) </span></span>
<span class="line"><span style="color:#24292E;">      });</span></span>
<span class="line"><span style="color:#24292E;">      gantt.</span><span style="color:#6F42C1;">updateMarker</span><span style="color:#24292E;">(markerId);</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 是否全屏</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">changeFull</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">      gantt.ext.fullscreen.</span><span style="color:#6F42C1;">toggle</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 定位到今日线</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">changeToday</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.$</span><span style="color:#6F42C1;">nextTick</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        let ganTT </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> document.</span><span style="color:#6F42C1;">getElementsByClassName</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;gantt_marker today&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">        gantt.</span><span style="color:#6F42C1;">scrollTo</span><span style="color:#24292E;">(ganTT[</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">].offsetLeft</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">300</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">      })</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">/* </span></span>
<span class="line"><span style="color:#6A737D;">    操作 </span></span>
<span class="line"><span style="color:#6A737D;">    */</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//  获取项目成员</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">getProjectStaff</span><span style="color:#24292E;">(projectID) {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.axios.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.urls.staff, {</span></span>
<span class="line"><span style="color:#24292E;">        params: { projectId: </span><span style="color:#6F42C1;">projectID</span><span style="color:#24292E;"> ? </span><span style="color:#6F42C1;">projectID</span><span style="color:#24292E;"> : </span><span style="color:#6F42C1;">this</span><span style="color:#24292E;">.$store.state.project_data.id },</span></span>
<span class="line"><span style="color:#24292E;">      }).</span><span style="color:#6F42C1;">then</span><span style="color:#24292E;">(res </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        let staffArr </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> [];</span></span>
<span class="line"><span style="color:#24292E;">        res.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.code </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">200</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> res.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.result.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">((item, index) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">          staffArr[index] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {};</span></span>
<span class="line"><span style="color:#24292E;">          staffArr[index].key </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> item.id;</span></span>
<span class="line"><span style="color:#24292E;">          staffArr[index].label </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> item.realname;</span></span>
<span class="line"><span style="color:#24292E;">        })</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.selectStaff </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> res.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.result;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// 补充gantt数据</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.ganttServerStaff</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">staffArr;</span></span>
<span class="line"><span style="color:#24292E;">        gantt.</span><span style="color:#6F42C1;">updateCollection</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;staff&quot;</span><span style="color:#24292E;">, staffArr);</span></span>
<span class="line"><span style="color:#24292E;">        gantt.</span><span style="color:#6F42C1;">render</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">      })</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//计算进度</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">evalProgess</span><span style="color:#24292E;">(start,end,update) {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (start </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> end </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> update) {</span></span>
<span class="line"><span style="color:#24292E;">        let start_date </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">moment</span><span style="color:#24292E;">(start).</span><span style="color:#6F42C1;">format</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;YYYY-MM-DD&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">        let end_date </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">moment</span><span style="color:#24292E;">(end).</span><span style="color:#6F42C1;">format</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;YYYY-MM-DD&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">        let update_date </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">moment</span><span style="color:#24292E;">(update).</span><span style="color:#6F42C1;">format</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;YYYY-MM-DD&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">        </span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">((new </span><span style="color:#6F42C1;">Date</span><span style="color:#24292E;">(end_date) </span><span style="color:#D73A49;">-</span><span style="color:#24292E;"> new </span><span style="color:#6F42C1;">Date</span><span style="color:#24292E;">(update_date)&gt;</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">)){</span></span>
<span class="line"><span style="color:#24292E;">          let process</span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (new </span><span style="color:#6F42C1;">Date</span><span style="color:#24292E;">(update_date) </span><span style="color:#D73A49;">-</span><span style="color:#24292E;"> new </span><span style="color:#6F42C1;">Date</span><span style="color:#24292E;">(start_date)) </span><span style="color:#D73A49;">/</span><span style="color:#24292E;"> (new </span><span style="color:#6F42C1;">Date</span><span style="color:#24292E;">(end_date) </span><span style="color:#D73A49;">-</span><span style="color:#24292E;"> new </span><span style="color:#6F42C1;">Date</span><span style="color:#24292E;">(start_date));</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> process.</span><span style="color:#6F42C1;">toFixed</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">        }</span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">        }</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 获取数据</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">onQuery</span><span style="color:#24292E;">(param) {</span></span>
<span class="line"><span style="color:#24292E;">      gantt.</span><span style="color:#6F42C1;">clearAll</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">      gantt.</span><span style="color:#6F42C1;">parse</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.savetasks);</span></span>
<span class="line"><span style="color:#24292E;">      gantt.</span><span style="color:#6F42C1;">render</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">      param </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> Object.</span><span style="color:#6F42C1;">assign</span><span style="color:#24292E;">({}, { projectId: </span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.$store.state.project_data.id ? </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.$store.state.project_data.id :</span><span style="color:#032F62;">&#39;1&#39;</span></span>
<span class="line"><span style="color:#24292E;">      }, param)</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.axios.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.urls.tasklinks, {</span></span>
<span class="line"><span style="color:#24292E;">        params: </span><span style="color:#6F42C1;">param</span></span>
<span class="line"><span style="color:#24292E;">      }).</span><span style="color:#6F42C1;">then</span><span style="color:#24292E;">(res </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">        let result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> res.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.result[</span><span style="color:#032F62;">&quot;taskList&quot;</span><span style="color:#24292E;">];</span></span>
<span class="line"><span style="color:#24292E;">        let pushArr </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> [];</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.tasks.links </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> res.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.result[</span><span style="color:#032F62;">&quot;ganttchartList&quot;</span><span style="color:#24292E;">];</span><span style="color:#6A737D;">//连接项目</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.tasks.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> [];</span></span>
<span class="line"><span style="color:#24292E;">        result.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">((item, index) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.tasks.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">[index] </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {};</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.tasks.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">[index].id </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> item.tid ? item.tid : </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">;</span><span style="color:#6A737D;">//项目id</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.tasks.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">[index].text </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> item.title ? item.title : </span><span style="color:#032F62;">&#39;空标题&#39;</span><span style="color:#24292E;">;</span><span style="color:#6A737D;">//标题</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.tasks.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">[index].start_date </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> item.startTime;</span><span style="color:#6A737D;">//开始时间</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6A737D;">// 负责人--成员</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.tasks.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">[index].head_id </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> item.headRole?.id?item.headRole?.id:</span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">;</span><span style="color:#6A737D;">//负责人id</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.tasks.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">[index].head </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> item.headRole?.realname ? item.headRole?.realname : </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">;</span><span style="color:#6A737D;">//负责人</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.tasks.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">[index].progress </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">evalProgess</span><span style="color:#24292E;">(item.startTime,item.endTime,item.updateTime)</span><span style="color:#6A737D;">//项目进展</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6A737D;">// 后台时间加一天 显示减一天 处理条形图时间左闭右开</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.tasks.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">[index].end_date </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">moment</span><span style="color:#24292E;">(new </span><span style="color:#6F42C1;">Date</span><span style="color:#24292E;">(item.endTime).</span><span style="color:#6F42C1;">valueOf</span><span style="color:#24292E;">() </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1000</span><span style="color:#D73A49;">*</span><span style="color:#005CC5;">60</span><span style="color:#D73A49;">*</span><span style="color:#005CC5;">60</span><span style="color:#D73A49;">*</span><span style="color:#005CC5;">24</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">format</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;YYYY-MM-DD&quot;</span><span style="color:#24292E;">);</span><span style="color:#6A737D;">//结束时间</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#6A737D;">// this.tasks.data[index].end_date = item.endTime;//结束时间</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.tasks.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">[index].priority </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> item.priority ? item.priority : </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">;</span><span style="color:#6A737D;">//任务优先级</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.tasks.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">[index].projectClass </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> item.type ? item.type : </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">;</span><span style="color:#6A737D;">//类型 0项目任务 1 普通任务</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.tasks.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">[index].taskProgress </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> item.taskStatus.</span><span style="color:#6F42C1;">toString</span><span style="color:#24292E;">();</span><span style="color:#6A737D;">//任务状态</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.tasks.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">[index].description </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> item.describe ? item.describe : </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">;</span><span style="color:#6A737D;">//描述</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.tasks.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">[index].color </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> item.stateDictionary.color ? item.stateDictionary.color : </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">;</span><span style="color:#6A737D;">//颜色</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (item.taskList </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> item.taskList.length </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.tasks.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">[index].render </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;split&quot;</span><span style="color:#24292E;">;</span><span style="color:#6A737D;">//显示在单行</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.tasks.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">[index].</span><span style="color:#D73A49;">open</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">;</span><span style="color:#6A737D;">//展开</span></span>
<span class="line"><span style="color:#24292E;">            item.taskList.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">((_item) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">              pushArr.</span><span style="color:#6F42C1;">push</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">                {</span></span>
<span class="line"><span style="color:#24292E;">                  id: </span><span style="color:#6F42C1;">_item</span><span style="color:#24292E;">.tid,</span></span>
<span class="line"><span style="color:#24292E;">                  text: </span><span style="color:#6F42C1;">_item</span><span style="color:#24292E;">.title ? _item.title : </span><span style="color:#032F62;">&#39;空标题&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">                  start_date: </span><span style="color:#6F42C1;">_item</span><span style="color:#24292E;">.startTime,</span></span>
<span class="line"><span style="color:#24292E;">                  end_date: </span><span style="color:#6F42C1;">_item</span><span style="color:#24292E;">.endTime,</span></span>
<span class="line"><span style="color:#24292E;">                  head_id: </span><span style="color:#6F42C1;">_item</span><span style="color:#24292E;">.headId,</span></span>
<span class="line"><span style="color:#24292E;">                  head: </span><span style="color:#6F42C1;">_item</span><span style="color:#24292E;">.head,</span></span>
<span class="line"><span style="color:#24292E;">                  priority: </span><span style="color:#6F42C1;">_item</span><span style="color:#24292E;">.priority,</span></span>
<span class="line"><span style="color:#24292E;">                  projectClass: </span><span style="color:#6F42C1;">_item</span><span style="color:#24292E;">.type,</span></span>
<span class="line"><span style="color:#24292E;">                  taskProgress: </span><span style="color:#6F42C1;">_item</span><span style="color:#24292E;">.taskStatus.</span><span style="color:#6F42C1;">toString</span><span style="color:#24292E;">(),</span></span>
<span class="line"><span style="color:#24292E;">                  description: </span><span style="color:#6F42C1;">_item</span><span style="color:#24292E;">.describe,</span></span>
<span class="line"><span style="color:#24292E;">                  parent: </span><span style="color:#6F42C1;">_item</span><span style="color:#24292E;">.mainTaskId,</span></span>
<span class="line"><span style="color:#24292E;">                }</span></span>
<span class="line"><span style="color:#24292E;">              );</span></span>
<span class="line"><span style="color:#24292E;">            })</span></span>
<span class="line"><span style="color:#24292E;">          }</span></span>
<span class="line"><span style="color:#24292E;">        });</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.tasks.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.tasks.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">concat</span><span style="color:#24292E;">(pushArr)</span></span>
<span class="line"><span style="color:#24292E;">       </span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.$</span><span style="color:#6F42C1;">nextTick</span><span style="color:#24292E;">(() </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">          gantt.</span><span style="color:#6F42C1;">parse</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.tasks);</span></span>
<span class="line"><span style="color:#24292E;">          gantt.</span><span style="color:#6F42C1;">render</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">          gantt.</span><span style="color:#6F42C1;">refreshData</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        })</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">      })</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 项目新增 修改tid  删除tid</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">dealProject</span><span style="color:#24292E;">(type, </span><span style="color:#D73A49;">data</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">      let param </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {};</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (type </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;add&#39;</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        param.tid </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.id;</span></span>
<span class="line"><span style="color:#24292E;">        param.title </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.text;</span></span>
<span class="line"><span style="color:#24292E;">        param.startTime </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">moment</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.start_date).</span><span style="color:#6F42C1;">format</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;YYYY-MM-DD&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">        param.endTime </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">moment</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.end_date).</span><span style="color:#6F42C1;">format</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;YYYY-MM-DD&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">      </span></span>
<span class="line"><span style="color:#24292E;">        param.describe </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.description;</span></span>
<span class="line"><span style="color:#24292E;">        param.priority </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.priority;</span></span>
<span class="line"><span style="color:#24292E;">      </span></span>
<span class="line"><span style="color:#24292E;">        param.head </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.head_id;</span></span>
<span class="line"><span style="color:#24292E;">        param.taskStatus </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.taskProgress;</span></span>
<span class="line"><span style="color:#24292E;">        param.projectId </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.$store.state.project_data.id;</span></span>
<span class="line"><span style="color:#24292E;">      } </span><span style="color:#D73A49;">else</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">       </span></span>
<span class="line"><span style="color:#24292E;">        param.title </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.text;</span></span>
<span class="line"><span style="color:#24292E;">        param.startTime </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">moment</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.start_date).</span><span style="color:#6F42C1;">format</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;YYYY-MM-DD&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">        param.endTime </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">moment</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.end_date).</span><span style="color:#6F42C1;">format</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;YYYY-MM-DD&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">        </span></span>
<span class="line"><span style="color:#24292E;">        param.describe </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.description;</span></span>
<span class="line"><span style="color:#24292E;">        param.priority </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.priority;</span></span>
<span class="line"><span style="color:#24292E;">      </span></span>
<span class="line"><span style="color:#24292E;">        param.head </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.head_id;</span></span>
<span class="line"><span style="color:#24292E;">        param.taskStatus </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.taskProgress;</span></span>
<span class="line"><span style="color:#24292E;">        param.projectId </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.$store.state.project_data.id;</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">      let formdata</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">new </span><span style="color:#6F42C1;">FormData</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">for</span><span style="color:#24292E;">(let i </span><span style="color:#D73A49;">in</span><span style="color:#24292E;"> param){</span></span>
<span class="line"><span style="color:#24292E;">        formdata.</span><span style="color:#6F42C1;">append</span><span style="color:#24292E;">(i,param[i])</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6F42C1;">switch</span><span style="color:#24292E;"> (type) {</span></span>
<span class="line"><span style="color:#24292E;">        case </span><span style="color:#032F62;">&quot;add&quot;</span><span style="color:#24292E;">:</span><span style="color:#6A737D;">//新增</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.axios.</span><span style="color:#6F42C1;">put</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.urls.addTask, formdata).</span><span style="color:#6F42C1;">then</span><span style="color:#24292E;">(res </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">           </span></span>
<span class="line"><span style="color:#24292E;">            res.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.code </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">200</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.$message.</span><span style="color:#6F42C1;">success</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;新增成功!&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">            res.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.code </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">200</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.$message.</span><span style="color:#6F42C1;">error</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;新增失败!&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">          }).</span><span style="color:#6F42C1;">catch</span><span style="color:#24292E;">(err </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.$message.</span><span style="color:#6F42C1;">error</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;请求失败!&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">          })</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        case </span><span style="color:#032F62;">&quot;edit&quot;</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.axios.</span><span style="color:#6F42C1;">put</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.urls.editTask, formdata).</span><span style="color:#6F42C1;">then</span><span style="color:#24292E;">(res </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">            res.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.code </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">200</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.$message.</span><span style="color:#6F42C1;">success</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;修改成功!&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">            res.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.code </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">200</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.$message.</span><span style="color:#6F42C1;">error</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;修改失败!&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">          }).</span><span style="color:#6F42C1;">catch</span><span style="color:#24292E;">(err </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.$message.</span><span style="color:#6F42C1;">error</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;请求失败!&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">          })</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">        case </span><span style="color:#032F62;">&quot;delete&quot;</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.axios.</span><span style="color:#6F42C1;">delete</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.urls.deleteTask, formdata).</span><span style="color:#6F42C1;">then</span><span style="color:#24292E;">(res </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">            res.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.code </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">200</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.$message.</span><span style="color:#6F42C1;">success</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;删除成功!&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">            res.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.code </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">200</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.$message.</span><span style="color:#6F42C1;">error</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;删除失败!&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">          }).</span><span style="color:#6F42C1;">catch</span><span style="color:#24292E;">(err </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.$message.</span><span style="color:#6F42C1;">error</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;请求失败!&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">          })</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">break</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">selecthead</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">val</span><span style="color:#24292E;">){</span></span>
<span class="line"><span style="color:#24292E;">      </span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.searchHead</span><span style="color:#D73A49;">=val</span><span style="color:#24292E;">;</span><span style="color:#6A737D;">//id</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 搜索判断数据</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">hasSubstr</span><span style="color:#24292E;">(parentId,type){</span></span>
<span class="line"><span style="color:#24292E;">      let task </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> gantt.</span><span style="color:#6F42C1;">getTask</span><span style="color:#24292E;">(parentId);</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(type</span><span style="color:#D73A49;">==</span><span style="color:#032F62;">&#39;tilte&#39;</span><span style="color:#24292E;">){</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(task.text.</span><span style="color:#6F42C1;">toLowerCase</span><span style="color:#24292E;">().</span><span style="color:#6F42C1;">indexOf</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.searchTitle) </span><span style="color:#D73A49;">!==</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">// }  </span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//点击按钮搜索</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">searchDataClick</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">  </span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.searchTitle  ){</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.ganttEvent.onBeforeTaskDisplay</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">gantt.</span><span style="color:#6F42C1;">attachEvent</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;onBeforeTaskDisplay&quot;</span><span style="color:#24292E;">, (id, task)</span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">hasSubstr</span><span style="color:#24292E;">(id,</span><span style="color:#032F62;">&#39;tilte&#39;</span><span style="color:#24292E;">) ){ </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">;}</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">          });</span></span>
<span class="line"><span style="color:#24292E;">          gantt.</span><span style="color:#6F42C1;">refreshData</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">          gantt.</span><span style="color:#6F42C1;">render</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">      }</span><span style="color:#D73A49;">else</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.ganttEvent.onBeforeTaskDisplay</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">gantt.</span><span style="color:#6F42C1;">attachEvent</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;onBeforeTaskDisplay&quot;</span><span style="color:#24292E;">, (id, task)</span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span></span>
<span class="line"><span style="color:#24292E;">        })</span></span>
<span class="line"><span style="color:#24292E;">        gantt.</span><span style="color:#6F42C1;">refreshData</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">        gantt.</span><span style="color:#6F42C1;">render</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 提交弹框</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">handleOk</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.modalTitle </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.editForm.</span><span style="color:#6F42C1;">validateFields</span><span style="color:#24292E;">((err, values) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">!</span><span style="color:#24292E;">err) {</span></span>
<span class="line"><span style="color:#24292E;">            Array.</span><span style="color:#6F42C1;">isArray</span><span style="color:#24292E;">(values.participants) </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> (values.participants </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> values.participants.</span><span style="color:#6F42C1;">join</span><span style="color:#24292E;">());</span></span>
<span class="line"><span style="color:#24292E;">            values </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> util.</span><span style="color:#6F42C1;">transformFields</span><span style="color:#24292E;">(values);</span></span>
<span class="line"><span style="color:#24292E;">            let formdata </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> new </span><span style="color:#6F42C1;">FormData</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#D73A49;">for</span><span style="color:#24292E;"> (let key </span><span style="color:#D73A49;">in</span><span style="color:#24292E;"> values) {</span></span>
<span class="line"><span style="color:#24292E;">              formdata.</span><span style="color:#6F42C1;">append</span><span style="color:#24292E;">(key, values[key] ? values[key] : </span><span style="color:#032F62;">&#39;&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">            }</span></span>
<span class="line"><span style="color:#24292E;">            </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.axios.</span><span style="color:#6F42C1;">put</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.urls.addTask, formdata).</span><span style="color:#6F42C1;">then</span><span style="color:#24292E;">((res) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">              </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (res.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.code </span><span style="color:#D73A49;">===</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">200</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.visible </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">                let msg </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> res.</span><span style="color:#D73A49;">data</span><span style="color:#24292E;">.message</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.$message.</span><span style="color:#6F42C1;">success</span><span style="color:#24292E;">(msg)</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.editForm.</span><span style="color:#6F42C1;">resetFields</span><span style="color:#24292E;">()</span></span>
<span class="line"><span style="color:#24292E;">                </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">onQuery</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">              }</span></span>
<span class="line"><span style="color:#24292E;">            })</span></span>
<span class="line"><span style="color:#24292E;">          }</span></span>
<span class="line"><span style="color:#24292E;">        })</span></span>
<span class="line"><span style="color:#24292E;">      }</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">destroyed</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// 销毁gantt事件</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">for</span><span style="color:#24292E;"> (let i </span><span style="color:#D73A49;">in</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.ganttEvent) {</span></span>
<span class="line"><span style="color:#24292E;">      gantt.</span><span style="color:#6F42C1;">detachEvent</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.ganttEvent[i])</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">   gantt.ext.tooltips.tooltip.</span><span style="color:#6F42C1;">hide</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">script&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;style scoped lang</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&quot;less&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#6F42C1;">@import</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">url</span><span style="color:#24292E;">(.</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">gantt.css);</span></span>
<span class="line"><span style="color:#24292E;">.ant</span><span style="color:#D73A49;">-</span><span style="color:#6F42C1;">layout</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  background: #f8f9f9;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">.ant</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">layout</span><span style="color:#D73A49;">-</span><span style="color:#6F42C1;">header</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  background: #fdffff;</span></span>
<span class="line"><span style="color:#24292E;">  color: </span><span style="color:#6F42C1;">rgb</span><span style="color:#24292E;">(</span><span style="color:#6F42C1;">29</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">28</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">28</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  border: </span><span style="color:#6F42C1;">1px</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">solid</span><span style="color:#24292E;"> #dee0e0;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">.</span><span style="color:#6F42C1;">header</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// position: fixed;</span></span>
<span class="line"><span style="color:#24292E;">  display: </span><span style="color:#6F42C1;">flex</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  justify</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">content: </span><span style="color:#6F42C1;">space</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">between;</span></span>
<span class="line"><span style="color:#24292E;">  align</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">items: </span><span style="color:#6F42C1;">center</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#24292E;">.</span><span style="color:#6F42C1;">content</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  background: #fdffff;</span></span>
<span class="line"><span style="color:#24292E;">  height: </span><span style="color:#6F42C1;">99vh</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#6A737D;">// 中间</span></span>
<span class="line"><span style="color:#24292E;">.</span><span style="color:#6F42C1;">centerContent</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  position: </span><span style="color:#6F42C1;">relative</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  background: #fdffff;</span></span>
<span class="line"><span style="color:#24292E;">  width: </span><span style="color:#6F42C1;">100</span><span style="color:#D73A49;">%</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  overflow</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">y: </span><span style="color:#6F42C1;">auto</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  display: </span><span style="color:#6F42C1;">flex</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  justify</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">content: </span><span style="color:#6F42C1;">space</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">between;</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#6F42C1;">selectDate</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    width: </span><span style="color:#6F42C1;">100px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    position: </span><span style="color:#6F42C1;">fixed</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    top: </span><span style="color:#6F42C1;">18</span><span style="color:#D73A49;">%</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    right: </span><span style="color:#6F42C1;">9</span><span style="color:#D73A49;">%</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    z</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">index: </span><span style="color:#6F42C1;">99</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    display: </span><span style="color:#6F42C1;">flex</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    justify</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">content: </span><span style="color:#6F42C1;">space</span><span style="color:#D73A49;">-</span><span style="color:#24292E;">between;</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">style&gt;</span></span></code></pre></div><p>自定义修改gantt样式文件</p><div class="language-css vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#62E884;font-style:italic;">.weekend</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">background</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">#fafafa</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">!important</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#62E884;font-style:italic;">.weekday</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">background</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">#fff</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#62E884;font-style:italic;">.gantt_resource_task</span><span style="color:#F286C4;"> </span><span style="color:#62E884;font-style:italic;">.gantt_task_content</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">color</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">inherit</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#F286C4;">​</span></span>
<span class="line"><span style="color:#62E884;font-style:italic;">.gantt_resource_task</span><span style="color:#F286C4;"> </span><span style="color:#62E884;font-style:italic;">.gantt_task_progress</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">background-color</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">rgba</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">33</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">33</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">33</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">0.3</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#62E884;font-style:italic;">.gantt_tree_content</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">color</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">#808080</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#62E884;font-style:italic;">.gantt_cell</span><span style="color:#F286C4;font-style:italic;">:</span><span style="color:#62E884;font-style:italic;">nth-child</span><span style="color:#F286C4;">(</span><span style="color:#BF9EEE;">1</span><span style="color:#F286C4;">) </span><span style="color:#62E884;font-style:italic;">.gantt_tree_content</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">border-radius</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">16</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">width</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">100</span><span style="color:#F286C4;">%</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">height</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">80</span><span style="color:#F286C4;">%</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">margin</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">5</span><span style="color:#F286C4;">%</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">line-height</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">230</span><span style="color:#F286C4;">%</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#7B7F8B;">/* 今日线 */</span></span>
<span class="line"><span style="color:#62E884;font-style:italic;">.gantt_marker.today</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">background</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">#ffb121</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#62E884;font-style:italic;">.gantt_cell</span><span style="color:#F6F6F4;">,</span><span style="color:#62E884;font-style:italic;">.gantt_grid_head_cell</span><span style="color:#F6F6F4;">,</span><span style="color:#62E884;font-style:italic;">.gantt_grid_data</span><span style="color:#F6F6F4;">,</span><span style="color:#62E884;font-style:italic;">.gantt_data_area</span><span style="color:#F6F6F4;">,</span><span style="color:#62E884;font-style:italic;">.gantt_scale_cell</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">background-color</span><span style="color:#F286C4;">:</span><span style="color:#BF9EEE;">#fff</span><span style="color:#F6F6F4;"> ;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#7B7F8B;">/* 滑块 */</span></span>
<span class="line"><span style="color:#62E884;font-style:italic;">.gantt_task_content</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">color</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">#fff</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">font-size</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">13</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">font-weight</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">bold</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">outline</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">none</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#7B7F8B;">/* 右边单元格 */</span></span>
<span class="line"><span style="color:#62E884;font-style:italic;">.gantt_task_line</span><span style="color:#F6F6F4;">,</span><span style="color:#62E884;font-style:italic;">.gantt_task_inline_color</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">border-radius</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">10</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">box-sizing</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">border-box</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">border-color</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">#fff</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">!important</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#62E884;font-style:italic;">.gantt_task_scale</span><span style="color:#F286C4;"> </span><span style="color:#62E884;font-style:italic;">.gantt_scale_line</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#7B7F8B;">/* border-bottom: 1px solid #e6ebf2; */</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#62E884;font-style:italic;">.gantt_row</span><span style="color:#F6F6F4;">,</span><span style="color:#F286C4;"> </span><span style="color:#62E884;font-style:italic;">.gantt_task_row</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#7B7F8B;">/* border-bottom: none; */</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#7B7F8B;">/* 覆盖进度条 */</span></span>
<span class="line"><span style="color:#62E884;font-style:italic;">.gantt_task_line.gantt_task_inline_color</span><span style="color:#F286C4;"> </span><span style="color:#62E884;font-style:italic;">.gantt_task_progress</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">opacity</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">none</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#7B7F8B;">/* background: repeating-linear-gradient(70deg, #666 0px, #666 10px, #fff 0px,#fff 20px); */</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#7B7F8B;">/* animation: ani 1.5s ease-in-out 6; */</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#F286C4;">@keyframes</span><span style="color:#F6F6F4;"> </span><span style="color:#FFB86C;font-style:italic;">ani</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    0%{</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#97E1F1;">background</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">repeating-linear-gradient</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">70</span><span style="color:#F286C4;">deg</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">#666</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">#666</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">10</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">#fff</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">,</span><span style="color:#BF9EEE;">#fff</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">20</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">    100%{</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#97E1F1;">background</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">repeating-linear-gradient</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">70</span><span style="color:#F286C4;">deg</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">#fff</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">#fff</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">10</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">#666</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">,</span><span style="color:#BF9EEE;">#666</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">20</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#62E884;font-style:italic;">.taskProgress</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">margin</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">auto</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">margin-top</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">5</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">height</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">24</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">width</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">65</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">font-size</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">12</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">line-height</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">24</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">font-weight</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">bold</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">color</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">#f7fbfe</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">border-radius</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">20</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#62E884;font-style:italic;">.color_bg_1</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">background-color</span><span style="color:#F286C4;">:</span><span style="color:#BF9EEE;">#60a3bc</span><span style="color:#F6F6F4;"> ;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#62E884;font-style:italic;">.color_bg_2</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">background-color</span><span style="color:#F286C4;">:</span><span style="color:#BF9EEE;">#079992</span><span style="color:#F6F6F4;"> ;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#62E884;font-style:italic;">.color_bg_3</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">background-color</span><span style="color:#F286C4;">:</span><span style="color:#BF9EEE;">#78e08f</span><span style="color:#F6F6F4;"> ;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#62E884;font-style:italic;">.color_bg_4</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">background-color</span><span style="color:#F286C4;">:</span><span style="color:#BF9EEE;">#e55039</span><span style="color:#F6F6F4;"> ;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#62E884;font-style:italic;">.color_bg_5</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">background-color</span><span style="color:#F286C4;">:</span><span style="color:#BF9EEE;">#f6b93b</span><span style="color:#F6F6F4;"> ;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#62E884;font-style:italic;">.gantt_task_row</span><span style="color:#F286C4;"> </span><span style="color:#62E884;font-style:italic;">.gantt_task_cell</span><span style="color:#F6F6F4;">,</span><span style="color:#62E884;font-style:italic;">.weekday</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">outline</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">none</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#62E884;font-style:italic;">.gantt_grid_scale</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">background-color</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">#f7fbfe</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">!important</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#62E884;font-style:italic;">.gantt_task_row</span><span style="color:#F286C4;"> </span><span style="color:#62E884;font-style:italic;">.gantt_selected</span><span style="color:#F286C4;"> </span><span style="color:#62E884;font-style:italic;">.gantt_task_cell</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">background-color</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">none</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">border-right-color</span><span style="color:#F286C4;">:</span><span style="color:#BF9EEE;">none</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#62E884;font-style:italic;">.gantt_grid_scale</span><span style="color:#F286C4;"> </span><span style="color:#62E884;font-style:italic;">.gantt_grid_head_cell</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">font-weight</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">bold</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">font-size</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">14</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">border</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">none</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">color</span><span style="color:#F286C4;">:</span><span style="color:#BF9EEE;">#506270</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#7B7F8B;">/* 滑动栏 */</span></span>
<span class="line"><span style="color:#7B7F8B;">/* 项目icon标 */</span></span>
<span class="line"><span style="color:#62E884;font-style:italic;">.gantt_tree_icon</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">width</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">14</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">margin-right</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">2</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">margin-left</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">-8</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#62E884;font-style:italic;">.gantt_tree_icon.gantt_file</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#7B7F8B;">/* 文件icon */</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">background-image</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">url</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">../../assets/img/file.png</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#F286C4;">​</span></span>
<span class="line"><span style="color:#62E884;font-style:italic;">.gantt_tree_icon.gantt_folder_open</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#7B7F8B;">/* 文件夹icon */</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">background-image</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">none</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#F286C4;">​</span></span>
<span class="line"><span style="color:#62E884;font-style:italic;">.gantt_tree_icon.gantt_open</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#7B7F8B;">/* 加号 */</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">background-image</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">url</span><span style="color:#F6F6F4;">(</span><span style="color:#FFB86C;font-style:italic;">../../assets//img/project.png</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#F286C4;">​</span></span>
<span class="line"><span style="color:#62E884;font-style:italic;">.gantt_tree_icon.gantt_close</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#7B7F8B;">/* 减号 */</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">background-image</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">none</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#F286C4;">​</span></span>
<span class="line"><span style="color:#62E884;font-style:italic;">.userIcon</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">display</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">inline-block</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">width</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">25</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">height</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">25</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">margin-right</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">5</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">text-align</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">center</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">line-height</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">25</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">color</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">#fafafa</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">border-radius</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">50</span><span style="color:#F286C4;">%</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#62E884;font-style:italic;">#search</span><span style="color:#F6F6F4;">{</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">margin-left</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">10</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">outline</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">none</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">border</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">none</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">font-size</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">12</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">color</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">#666666</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#7B7F8B;">/*定义滚动条宽高及背景，宽高分别对应横竖滚动条的尺寸*/</span></span>
<span class="line"><span style="color:#F286C4;">*</span><span style="color:#F286C4;font-style:italic;">::</span><span style="color:#62E884;font-style:italic;">-webkit-scrollbar</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">width</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">10</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">height</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">10</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">background-color</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">rgba</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">255</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">255</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">255</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#F286C4;">​</span></span>
<span class="line"><span style="color:#7B7F8B;">/*定义滚动条的轨道，内阴影及圆角*/</span></span>
<span class="line"><span style="color:#F286C4;">*</span><span style="color:#F286C4;font-style:italic;">::</span><span style="color:#62E884;font-style:italic;">-webkit-scrollbar-track</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">border-radius</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">10</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">background-color</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">rgba</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">230</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">230</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">230</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">0.05</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#F286C4;">​</span></span>
<span class="line"><span style="color:#F286C4;">*</span><span style="color:#F286C4;font-style:italic;">:</span><span style="color:#62E884;font-style:italic;">hover</span><span style="color:#F286C4;font-style:italic;">::</span><span style="color:#62E884;font-style:italic;">-webkit-scrollbar-track</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">background-color</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">rgba</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">230</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">230</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">230</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">0.5</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#F286C4;">​</span></span>
<span class="line"><span style="color:#7B7F8B;">/*定义滑块，内阴影及圆角*/</span></span>
<span class="line"><span style="color:#F286C4;">​</span></span>
<span class="line"><span style="color:#F286C4;">*</span><span style="color:#F286C4;font-style:italic;">::</span><span style="color:#62E884;font-style:italic;">-webkit-scrollbar-thumb</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">height</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">20</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">border-radius</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">10</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;font-style:italic;">-webkit-box-shadow</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">inset</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">6</span><span style="color:#F286C4;">px</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">rgba</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">background-color</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">rgba</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">216</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">216</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">216</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">0.4</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">transition</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> background-color </span><span style="color:#BF9EEE;">1</span><span style="color:#F286C4;">s</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#F286C4;">​</span></span>
<span class="line"><span style="color:#F286C4;">*</span><span style="color:#F286C4;font-style:italic;">:</span><span style="color:#62E884;font-style:italic;">hover</span><span style="color:#F286C4;font-style:italic;">::</span><span style="color:#62E884;font-style:italic;">-webkit-scrollbar-thumb</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">background-color</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">rgba</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">216</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">216</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">216</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#F286C4;">​</span></span>
<span class="line"><span style="color:#F286C4;">*</span><span style="color:#F286C4;font-style:italic;">::</span><span style="color:#62E884;font-style:italic;">-webkit-scrollbar-thumb</span><span style="color:#F286C4;font-style:italic;">:</span><span style="color:#62E884;font-style:italic;">hover</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">background-color</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">rgba</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">190</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">190</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">190</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span>
<span class="line"><span style="color:#F286C4;">​</span></span>
<span class="line"><span style="color:#F286C4;">*</span><span style="color:#F286C4;font-style:italic;">::</span><span style="color:#62E884;font-style:italic;">-webkit-scrollbar-thumb</span><span style="color:#F286C4;font-style:italic;">:</span><span style="color:#62E884;font-style:italic;">active</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">background-color</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">rgba</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">160</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">160</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">160</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">.weekend</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">background</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">#fafafa</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">!important</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6F42C1;">.weekday</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">background</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">#fff</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6F42C1;">.gantt_resource_task</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">.gantt_task_content</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">color</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">inherit</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#6F42C1;">.gantt_resource_task</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">.gantt_task_progress</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">background-color</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">rgba</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">33</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">33</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">33</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">0.3</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6F42C1;">.gantt_tree_content</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">color</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">#808080</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6F42C1;">.gantt_cell:nth-child</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">) </span><span style="color:#6F42C1;">.gantt_tree_content</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">border-radius</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">16</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">width</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">100</span><span style="color:#D73A49;">%</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">height</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">80</span><span style="color:#D73A49;">%</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">margin</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">5</span><span style="color:#D73A49;">%</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">line-height</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">230</span><span style="color:#D73A49;">%</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6A737D;">/* 今日线 */</span></span>
<span class="line"><span style="color:#6F42C1;">.gantt_marker.today</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">background</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">#ffb121</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6F42C1;">.gantt_cell</span><span style="color:#24292E;">,</span><span style="color:#6F42C1;">.gantt_grid_head_cell</span><span style="color:#24292E;">,</span><span style="color:#6F42C1;">.gantt_grid_data</span><span style="color:#24292E;">,</span><span style="color:#6F42C1;">.gantt_data_area</span><span style="color:#24292E;">,</span><span style="color:#6F42C1;">.gantt_scale_cell</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">background-color</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">#fff</span><span style="color:#24292E;"> ;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6A737D;">/* 滑块 */</span></span>
<span class="line"><span style="color:#6F42C1;">.gantt_task_content</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">color</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">#fff</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">font-size</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">13</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">font-weight</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">bold</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">outline</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">none</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6A737D;">/* 右边单元格 */</span></span>
<span class="line"><span style="color:#6F42C1;">.gantt_task_line</span><span style="color:#24292E;">,</span><span style="color:#6F42C1;">.gantt_task_inline_color</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">border-radius</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">10</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">box-sizing</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">border-box</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">border-color</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">#fff</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">!important</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6F42C1;">.gantt_task_scale</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">.gantt_scale_line</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">/* border-bottom: 1px solid #e6ebf2; */</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6F42C1;">.gantt_row</span><span style="color:#24292E;">, </span><span style="color:#6F42C1;">.gantt_task_row</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">/* border-bottom: none; */</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6A737D;">/* 覆盖进度条 */</span></span>
<span class="line"><span style="color:#6F42C1;">.gantt_task_line.gantt_task_inline_color</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">.gantt_task_progress</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">opacity</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">none</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">/* background: repeating-linear-gradient(70deg, #666 0px, #666 10px, #fff 0px,#fff 20px); */</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">/* animation: ani 1.5s ease-in-out 6; */</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#D73A49;">@keyframes</span><span style="color:#24292E;"> </span><span style="color:#E36209;">ani</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">0%</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">background</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">repeating-linear-gradient</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">70</span><span style="color:#D73A49;">deg</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">#666</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">#666</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">10</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">#fff</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">#fff</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">20</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">100%</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">background</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">repeating-linear-gradient</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">70</span><span style="color:#D73A49;">deg</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">#fff</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">#fff</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">10</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">#666</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">#666</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">20</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6F42C1;">.taskProgress</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">margin</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">auto</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">margin-top</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">5</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">height</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">24</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">width</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">65</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">font-size</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">12</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">line-height</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">24</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">font-weight</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">bold</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">color</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">#f7fbfe</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">border-radius</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">20</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6F42C1;">.color_bg_1</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">background-color</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">#60a3bc</span><span style="color:#24292E;"> ;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6F42C1;">.color_bg_2</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">background-color</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">#079992</span><span style="color:#24292E;"> ;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6F42C1;">.color_bg_3</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">background-color</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">#78e08f</span><span style="color:#24292E;"> ;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6F42C1;">.color_bg_4</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">background-color</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">#e55039</span><span style="color:#24292E;"> ;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6F42C1;">.color_bg_5</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">background-color</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">#f6b93b</span><span style="color:#24292E;"> ;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6F42C1;">.gantt_task_row</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">.gantt_task_cell</span><span style="color:#24292E;">,</span><span style="color:#6F42C1;">.weekday</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">outline</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">none</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6F42C1;">.gantt_grid_scale</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">background-color</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">#f7fbfe</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">!important</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6F42C1;">.gantt_task_row</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">.gantt_selected</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">.gantt_task_cell</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">background-color</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">none</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">border-right-color</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">none</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6F42C1;">.gantt_grid_scale</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">.gantt_grid_head_cell</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">font-weight</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">bold</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">font-size</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">14</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">border</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">none</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">color</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">#506270</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6A737D;">/* 滑动栏 */</span></span>
<span class="line"><span style="color:#6A737D;">/* 项目icon标 */</span></span>
<span class="line"><span style="color:#6F42C1;">.gantt_tree_icon</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">width</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">14</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">margin-right</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">2</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">margin-left</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">-8</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6F42C1;">.gantt_tree_icon.gantt_file</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">/* 文件icon */</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">background-image</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">url</span><span style="color:#24292E;">(</span><span style="color:#E36209;">../../assets/img/file.png</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#6F42C1;">.gantt_tree_icon.gantt_folder_open</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">/* 文件夹icon */</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">background-image</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">none</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#6F42C1;">.gantt_tree_icon.gantt_open</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">/* 加号 */</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">background-image</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">url</span><span style="color:#24292E;">(</span><span style="color:#E36209;">../../assets//img/project.png</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#6F42C1;">.gantt_tree_icon.gantt_close</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">/* 减号 */</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">background-image</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">none</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#6F42C1;">.userIcon</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">display</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">inline-block</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">width</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">25</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">height</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">25</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">margin-right</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">5</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">text-align</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">center</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">line-height</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">25</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">color</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">#fafafa</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">border-radius</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">50</span><span style="color:#D73A49;">%</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6F42C1;">#search</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">margin-left</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">10</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">outline</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">none</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">border</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">none</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">font-size</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">12</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">color</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">#666666</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6A737D;">/*定义滚动条宽高及背景，宽高分别对应横竖滚动条的尺寸*/</span></span>
<span class="line"><span style="color:#22863A;">*</span><span style="color:#6F42C1;">::-webkit-scrollbar</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">width</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">10</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">height</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">10</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">background-color</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">rgba</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">255</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">255</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">255</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#6A737D;">/*定义滚动条的轨道，内阴影及圆角*/</span></span>
<span class="line"><span style="color:#22863A;">*</span><span style="color:#6F42C1;">::-webkit-scrollbar-track</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">border-radius</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">10</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">background-color</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">rgba</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">230</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">230</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">230</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">0.05</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#22863A;">*</span><span style="color:#6F42C1;">:hover::-webkit-scrollbar-track</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">background-color</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">rgba</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">230</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">230</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">230</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">0.5</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#6A737D;">/*定义滑块，内阴影及圆角*/</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#22863A;">*</span><span style="color:#6F42C1;">::-webkit-scrollbar-thumb</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">height</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">20</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">border-radius</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">10</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">-webkit-box-shadow</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">inset</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">6</span><span style="color:#D73A49;">px</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">rgba</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">background-color</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">rgba</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">216</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">216</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">216</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">0.4</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">transition</span><span style="color:#24292E;">: background-color </span><span style="color:#005CC5;">1</span><span style="color:#D73A49;">s</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#22863A;">*</span><span style="color:#6F42C1;">:hover::-webkit-scrollbar-thumb</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">background-color</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">rgba</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">216</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">216</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">216</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#22863A;">*</span><span style="color:#6F42C1;">::-webkit-scrollbar-thumb:hover</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">background-color</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">rgba</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">190</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">190</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">190</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#24292E;">​</span></span>
<span class="line"><span style="color:#22863A;">*</span><span style="color:#6F42C1;">::-webkit-scrollbar-thumb:active</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">background-color</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">rgba</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">160</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">160</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">160</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="附-gantt-config配置信息" tabindex="-1">附： Gantt - config配置信息 <a class="header-anchor" href="#附-gantt-config配置信息" aria-label="Permalink to &quot;附： Gantt - config配置信息&quot;">​</a></h2><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#f6f6f4;">gantt.config = {</span></span>
<span class="line"><span style="color:#f6f6f4;">	auto_scheduling_move_projects: &#39;定义是否将整个项目移动（请参阅下面的详细信息）&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	preserve_scroll: &#39;在重新绘制甘特图时保留垂直和水平滚动的当前位置&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	auto_scheduling_descendant_links: &#39;允许或禁止创建从父任务（项目）到子任务的链接&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	task_date: &#39;设置灯箱“时间段”部分中日期标签的格式&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	resource_render_empty_cells: &#39;告诉资源时间线渲染元素并为未分配的单元格调用模板&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	tooltip_offset_x: &#39;设置工具提示位置的右侧（如果为正）偏移&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	drag_links: &#39;允许通过拖放创建依赖链接&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	root_id: &#39;设置虚拟根元素的 id&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	readonly: &#39;激活甘特图的只读模式&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	drag_multiple: &#39;可以一次拖动多个选定的任务&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	scale_unit: &#39;设置时间刻度的单位（X 轴）&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	task_scroll_offset: &#39;设置距离时间轴左边框最近的任务的偏移量（以像素为单位）&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	fit_tasks: &#39;甘特图自动扩展时间尺度以适应所有显示的任务&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	editor_types: &#39;包含内联编辑器定义的对象&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	touch: &#39;启用 / 禁用对甘特图的触摸支持&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	datastor: &#39;一组数据存储方法&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	start_date: &#39;设置时间刻度的起始值&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	details_on_create: &#39;在通过单击“+”按钮创建新事件时打开灯箱&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	time_picker: &#39;设置灯箱中时间下拉选择器的格式&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	layer_attribute: &#39;设置任务层的 DOM 元素的属性名称&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	resource_attribute: &#39;更改甘特图用来查找资源网格/时间线中的任务行所指的资源的属性的名称&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	min_column_width: &#39;设置时间轴区域中列的最小宽度&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	version: &#39;返回 dhtmlxGantt 的版本&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	quick_info_detached: &#39;定义任务表单是从屏幕的左侧/右侧出现还是在所选任务附近出现&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	row_height: &#39;设置表格行的默认高度&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	auto_scheduling_compatibility: &#39;禁用任务的时间限制&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	keep_grid_width: &#39;在调整列大小时保留初始网格的宽度&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	editable_property: &#39;更改影响只读甘特图中任务/链接编辑能力的属性名称&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	lightbox: &#39;指定灯箱对象&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	project_end: &#39;指定项目的结束日期&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	touch_feedback: &#39;在触摸设备上拖放之前/之后返回振动反馈&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	start_on_monday: &#39;设置一周的开始日期&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	undo_actions: &#39;设置撤消操作将恢复的操作&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	order_branch: &#39;激活“分支”模式，允许在同一树级别内垂直重新排序任务&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	link_attribute: &#39;设置将指定链接的 HTML 元素的 id 的属性的名称&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	link_line_width: &#39;设置时间线区域中依赖链接的宽度&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	task_height: &#39;设置时间线区域中任务栏的高度&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	rtl: &#39;将甘特图切换到从右到左模式&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	tooltip_hide_timeout: &#39;设置工具提示隐藏之前的时间长度，以毫秒为单位&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	container_resize_timeout: &#39;指定在调整容器大小时重绘甘特图之前的延迟（以毫秒为单位）&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	utils: &#39;各种辅助模块&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	scales: &#39;定义时间刻度的配置设置&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	show_grid: &#39;显示甘特图的网格区域&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	placeholder_task: &#39;在任务列表的末尾添加一个空行以简化通过键盘编辑任务&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	open_tree_initially: &#39;最初打开所有分支&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	drag_resize: &#39;可以通过拖放来调整任务大小&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	env: &#39;一组描述当前环境的标志&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	reorder_grid_columns: &#39;可以通过拖放重新排列网格列 - 左侧树&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	smart_rendering: &#39;为甘特图的任务和链接渲染启用智能渲染模式&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	keyboard_navigation_cells: &#39;启用按单元格的键盘导航&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	resize_rows: &#39;启用通过拖放调整行高的能力&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	sort: &#39;启用表中的排序&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	drag_move: &#39;允许通过拖放移动任务&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	drag_project: &#39;允许拖放项目类型的项目&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	work_time: &#39;可以在工作时间而不是日历时间计算任务的持续时间&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	button_left: &#39;存储位于灯箱左下角的按钮集合&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	end_date: &#39;设置时间刻度的结束值&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	constraint_types: &#39;包含了所有可用的约束类型&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	branch_loading: &#39;在甘特图中启用动态加载&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	auto_scheduling: &#39;启用自动调度&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	task_grid_row_resizer_attribute: &#39;&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	grid_resizer_attribute: &#39;设置网格调整器的 DOM 元素的属性名称&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	min_grid_column_width: &#39;在调整大小时设置网格的最小宽度（以像素为单位）&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	date_scale: &#39;设置时间刻度的格式（X 轴）&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	auto_scheduling_strict: &#39;启用自动调度模式，在这种模式下，任务将始终被重新安排到最早的日期&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	config: &#39;定义日期、比例、控件的配置选项&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	deepcopy_on_parse: &#39;定义甘特图是否对传递给 gantt.parse() 方法的数据对象执行深度复制&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	layout: &#39;指定布局对象&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	quickinfo_buttons: &#39;存储驻留在弹出任务的详细信息表单中的按钮集合&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	details_on_dblclick: &#39;双击任务后打开灯箱&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	step: &#39;设置时间刻度（X 轴）的步长&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	autoscroll: &#39;在将任务或链接拖出当前浏览器屏幕时启用自动滚动&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	lightbox_additional_height: &#39;增加灯箱的高度&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	project_start: &#39;指定项目的开始日期&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	scroll_on_click: &#39;指定在选择显示所选任务时是否滚动时间线区域&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	quickinfo_icons: &#39;重新定义甘特图按钮的默认点击行为&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	calendar: &#39;工作日历对象的接口&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	grid_width: &#39;设置网格的宽度&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	date: &#39;一组日期格式化方法&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	i18n: &#39;一组用于甘特图本地化的方法&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	show_task_cells: &#39;启用/禁用在(任务)图表区域中显示列边框&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	process_resource_assignments: &#39;启用/禁用资源分配的解析&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	resource_property: &#39;定义任务对象的属性，该对象存储与 resourceGrid/Timeline/Histogram/Calendar 关联的资源 ID&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	resource_assignment_store: &#39;指定存储资源分配的数据存储的名称&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	date_format: &#39;设置用于解析数据集中的数据并将日期发送回服务器的日期格式&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	container_resize_method: &#39;定义甘特图是否应以时间间隔跟踪容器的大小调整&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	drag_lightbox: &#39;可以通过标题拖动灯箱&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	show_chart: &#39;显示甘特图的图表（时间线）区域&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	drag_mode: &#39;存储可用拖放模式的类型&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	subscales: &#39;指定第二个时间尺度（已弃用）&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	oldxml: &#39;指定 dhtmlxGantt 1.0 的 XML 格式的序列化和解析&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	show_tasks_outside_timescale: &#39;启用在甘特图中显示指定日期范围之外的任务&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	order_branch_free: &#39;激活“分支”模式，允许在整个甘特图中重新排序任务&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	xml_date: &#39;定义用于从数据集中解析数据并将数据发送到服务器的日期格式&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	autosize_min_width: &#39;设置甘特图在水平“自动调整大小”模式下可以采用的最小宽度（以像素为单位）&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	button_right: &#39;存储位于灯箱右下角的按钮集合&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	date_grid: &#39;设置表格“开始时间”列中的日期格式&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	show_quick_info: &#39;激活/禁用“quick_info”扩展（弹出任务的详细信息表单）&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	schedule_from_end: &#39;启用反向调度&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	skins: &#39;返回可用皮肤的对象&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	constants: &#39;存储各种常量以减少代码中幻数的使用&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	multiselect: &#39;在甘特图中启用/禁用多任务选择&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	redo: &#39;启用甘特图的重做功能&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	duration_unit: &#39;设置持续时间单位&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	touch_feedback_duration: &#39;定义在触摸设备上拖放之前/之后振动反馈的持续时间（以毫秒为单位）&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	drag_timeline: &#39;配置 drag_timeline 扩展的行为&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	drag_progress: &#39;可以通过拖动进度旋钮来更改任务进度&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	horizontal_scroll_key: &#39;通过 Shift|Alt|Meta 键 + 鼠标滚轮移动启用/禁用水平滚动&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	static_background_cells: &#39;在 static_background 模式下启用突出显示的单元格的渲染&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	click_drag: &#39;启用高级拖放&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	auto_scheduling_initial: &#39;定义甘特图是否对数据加载/解析进行自动调度&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	grid_elastic_columns: &#39;调整可滚动网格内列的宽度&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	autosize: &#39;强制甘特图自动更改其大小以显示所有任务而无需滚动&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	bar_height: &#39;设置时间线区域中任务栏的高度&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	ajax: &#39;甘特图 ajax 模块&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	branch_loading_property: &#39;指定任务有尚未从后端加载的子任务&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	templates: &#39;定义甘特图中日期、标题、工具提示的格式模板&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	touch_drag: &#39;定义用于区分长触摸手势和滚动手势的时间段（以毫秒为单位）&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	autoscroll_speed: &#39;定义将任务或链接拖出当前浏览器屏幕时自动滚动的速度（以毫秒为单位）&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	show_errors: &#39;在出现意外行为时启用显示错误警报&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	license: &#39;返回 dhtmlxGantt 的许可证名称&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	calendar_property: &#39;更改影响日历绑定到任务/任务组的属性的名称&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	prevent_default_scroll: &#39;指定甘特容器是否应该阻止鼠标滚轮事件，或者应该将其传播到窗口元素&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	tooltip_offset_y: &#39;设置工具提示位置的顶部（如果为正）偏移&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	show_links: &#39;启用/禁用在甘特图中显示链接&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	inherit_scale_class: &#39;指定子尺度是否默认使用 scale_cell_class 模板&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	scroll_size: &#39;设置垂直（宽度）和水平（高度）滚动的大小&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	inline_editors_date_processing: &#39;在编辑任务的开始/结束期间保持任务的持续时间不变&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	treeDatastore: &#39;一组 treeDatastore 方法&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	select_task: &#39;启用甘特图中的任务选择&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	xml: &#39;指定 XML 序列化和解析&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	smart_scales: &#39;指定仅在屏幕上呈现时间刻度的可见部分&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	wai_aria_attributes: &#39;启用 WA:ARIA 支持以使屏幕阅读器可识别组件&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	wheel_scroll_sensitive: &#39;指定鼠标滚轮滚动甘特图的速度&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	resource_calendars: &#39;定义一组可以分配给特定资源（例如用户）的工作日历&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	external_render: &#39;将外部组件渲染到 DOM 中&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	readonly_property: &#39;更改影响任务/链接只读行为的属性的名称&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	duration_step: &#39;设置与“duration”数据属性的一个单位对应的“gantt.config.duration_unit”单位数。&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	tooltip_timeout: &#39;在显示任务的工具提示之前以毫秒为单位设置超时&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	show_markers: &#39;在页面上显示/隐藏标记&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	scale_offset_minimal: &#39;将最小比例单位（如果使用多个比例）设置为前导/关闭空白空间的间隔&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	ext: &#39;一个存储各种扩展的对象&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	min_duration: &#39;设置可以在调整大小期间为任务设置的最短持续时间（以毫秒为单位）。&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	keyboard_navigation: &#39;在甘特图中启用键盘导航&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	json: &#39;指定 JSON 序列化和解析&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	round_dnd_dates: &#39;允许将任务的开始和结束日期四舍五入到最近的刻度线&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	grid_resizer_column_attribute: &#39;设置列调整器的 DOM 元素的属性名称。该属性表示列的索引&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	locale: &#39;甘特图的当前区域设置对象（特定于区域的标签）&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	keys: &#39;定义甘特图的热键&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	skip_off_time: &#39;从时间尺度隐藏非工作时间&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	auto_types: &#39;自动将带有子任务的任务转换为项目，将没有子任务的项目转换回任务&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	time_step: &#39;设置任务时间值的最小步长（以分钟为单位）&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	inherit_calendar: &#39;定义任务是否应从其摘要父级继承工作日历&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	undo_types: &#39;设置将应用撤消操作的实体类型&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	server_utc: &#39;在将数据发送到服务器的同时将服务器端日期从 UTC 转换为本地时区（和向后）&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	show_unscheduled: &#39;启用显示未计划的任务&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	cascade_delete: &#39;允许的嵌套任务和链接级联删除&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	grid_resize: &#39;通过拖动右侧网格的边框来调整网格的大小&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	right_work_time: &#39;允许将任务的开始和结束日期调整为工作时间（拖动时）&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	min_task_grid_row_height: &#39;设置在调整大小期间可以为任务设置的最小行高&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	static_background: &#39;为时间线区域生成背景图像，而不是渲染实际的列和行行&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	csp: &#39;定义日期格式化方法代码的内部实现&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	link_arrow_size: &#39;设置链接箭头的大小&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	resource_store: &#39;指定连接到 resourceGrid/resourceTimeline/resourceHistogram 视图的 dataStore 的名称&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	dynamic_resource_calendars: &#39;启用将多个资源日历自动合并为一个&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	type_renderers: &#39;重新定义负责显示不同类型任务的函数&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	scale_height: &#39;设置时间刻度的高度和网格的标题&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	links: &#39;存储链接依赖的类型&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	undo: &#39;启用甘特图的撤消功能&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	task_attribute: &#39;设置将指定任务的 HTML 元素的 id 的属性的名称&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	show_progress: &#39;启用在任务栏中显示进度&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	columns: &#39;配置表的列&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	initial_scroll: &#39;设置时间线区域是否最初滚动以显示最早的任务&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	types: &#39;存储灯箱结构的名称（用于不同类型的任务）&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	skin: &#39;返回甘特图的当前皮肤&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	Wide_form: &#39;将节及其标签设置在同一行&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	link_wrapper_width: &#39;设置对点击敏感的区域的宽度（在链接上）&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	highlight_critical_path: &#39;显示图表中的关键路径&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	multiselect_one_level: &#39;指定多任务选择将在一个或任何级别内可用&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	undo_steps: &#39;设置应由 undo 方法恢复的步骤数&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	autofit: &#39;允许将网格的列自动调整为网格的宽度&#39;,</span></span>
<span class="line"><span style="color:#f6f6f4;">	open_split_tasks: &#39;通过单击 +/- 按钮启用展开/折叠拆分任务的可能性&#39;</span></span>
<span class="line"><span style="color:#f6f6f4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">gantt.config = {</span></span>
<span class="line"><span style="color:#24292e;">	auto_scheduling_move_projects: &#39;定义是否将整个项目移动（请参阅下面的详细信息）&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	preserve_scroll: &#39;在重新绘制甘特图时保留垂直和水平滚动的当前位置&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	auto_scheduling_descendant_links: &#39;允许或禁止创建从父任务（项目）到子任务的链接&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	task_date: &#39;设置灯箱“时间段”部分中日期标签的格式&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	resource_render_empty_cells: &#39;告诉资源时间线渲染元素并为未分配的单元格调用模板&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	tooltip_offset_x: &#39;设置工具提示位置的右侧（如果为正）偏移&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	drag_links: &#39;允许通过拖放创建依赖链接&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	root_id: &#39;设置虚拟根元素的 id&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	readonly: &#39;激活甘特图的只读模式&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	drag_multiple: &#39;可以一次拖动多个选定的任务&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	scale_unit: &#39;设置时间刻度的单位（X 轴）&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	task_scroll_offset: &#39;设置距离时间轴左边框最近的任务的偏移量（以像素为单位）&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	fit_tasks: &#39;甘特图自动扩展时间尺度以适应所有显示的任务&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	editor_types: &#39;包含内联编辑器定义的对象&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	touch: &#39;启用 / 禁用对甘特图的触摸支持&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	datastor: &#39;一组数据存储方法&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	start_date: &#39;设置时间刻度的起始值&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	details_on_create: &#39;在通过单击“+”按钮创建新事件时打开灯箱&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	time_picker: &#39;设置灯箱中时间下拉选择器的格式&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	layer_attribute: &#39;设置任务层的 DOM 元素的属性名称&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	resource_attribute: &#39;更改甘特图用来查找资源网格/时间线中的任务行所指的资源的属性的名称&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	min_column_width: &#39;设置时间轴区域中列的最小宽度&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	version: &#39;返回 dhtmlxGantt 的版本&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	quick_info_detached: &#39;定义任务表单是从屏幕的左侧/右侧出现还是在所选任务附近出现&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	row_height: &#39;设置表格行的默认高度&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	auto_scheduling_compatibility: &#39;禁用任务的时间限制&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	keep_grid_width: &#39;在调整列大小时保留初始网格的宽度&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	editable_property: &#39;更改影响只读甘特图中任务/链接编辑能力的属性名称&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	lightbox: &#39;指定灯箱对象&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	project_end: &#39;指定项目的结束日期&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	touch_feedback: &#39;在触摸设备上拖放之前/之后返回振动反馈&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	start_on_monday: &#39;设置一周的开始日期&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	undo_actions: &#39;设置撤消操作将恢复的操作&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	order_branch: &#39;激活“分支”模式，允许在同一树级别内垂直重新排序任务&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	link_attribute: &#39;设置将指定链接的 HTML 元素的 id 的属性的名称&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	link_line_width: &#39;设置时间线区域中依赖链接的宽度&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	task_height: &#39;设置时间线区域中任务栏的高度&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	rtl: &#39;将甘特图切换到从右到左模式&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	tooltip_hide_timeout: &#39;设置工具提示隐藏之前的时间长度，以毫秒为单位&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	container_resize_timeout: &#39;指定在调整容器大小时重绘甘特图之前的延迟（以毫秒为单位）&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	utils: &#39;各种辅助模块&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	scales: &#39;定义时间刻度的配置设置&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	show_grid: &#39;显示甘特图的网格区域&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	placeholder_task: &#39;在任务列表的末尾添加一个空行以简化通过键盘编辑任务&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	open_tree_initially: &#39;最初打开所有分支&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	drag_resize: &#39;可以通过拖放来调整任务大小&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	env: &#39;一组描述当前环境的标志&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	reorder_grid_columns: &#39;可以通过拖放重新排列网格列 - 左侧树&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	smart_rendering: &#39;为甘特图的任务和链接渲染启用智能渲染模式&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	keyboard_navigation_cells: &#39;启用按单元格的键盘导航&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	resize_rows: &#39;启用通过拖放调整行高的能力&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	sort: &#39;启用表中的排序&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	drag_move: &#39;允许通过拖放移动任务&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	drag_project: &#39;允许拖放项目类型的项目&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	work_time: &#39;可以在工作时间而不是日历时间计算任务的持续时间&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	button_left: &#39;存储位于灯箱左下角的按钮集合&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	end_date: &#39;设置时间刻度的结束值&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	constraint_types: &#39;包含了所有可用的约束类型&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	branch_loading: &#39;在甘特图中启用动态加载&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	auto_scheduling: &#39;启用自动调度&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	task_grid_row_resizer_attribute: &#39;&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	grid_resizer_attribute: &#39;设置网格调整器的 DOM 元素的属性名称&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	min_grid_column_width: &#39;在调整大小时设置网格的最小宽度（以像素为单位）&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	date_scale: &#39;设置时间刻度的格式（X 轴）&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	auto_scheduling_strict: &#39;启用自动调度模式，在这种模式下，任务将始终被重新安排到最早的日期&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	config: &#39;定义日期、比例、控件的配置选项&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	deepcopy_on_parse: &#39;定义甘特图是否对传递给 gantt.parse() 方法的数据对象执行深度复制&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	layout: &#39;指定布局对象&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	quickinfo_buttons: &#39;存储驻留在弹出任务的详细信息表单中的按钮集合&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	details_on_dblclick: &#39;双击任务后打开灯箱&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	step: &#39;设置时间刻度（X 轴）的步长&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	autoscroll: &#39;在将任务或链接拖出当前浏览器屏幕时启用自动滚动&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	lightbox_additional_height: &#39;增加灯箱的高度&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	project_start: &#39;指定项目的开始日期&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	scroll_on_click: &#39;指定在选择显示所选任务时是否滚动时间线区域&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	quickinfo_icons: &#39;重新定义甘特图按钮的默认点击行为&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	calendar: &#39;工作日历对象的接口&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	grid_width: &#39;设置网格的宽度&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	date: &#39;一组日期格式化方法&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	i18n: &#39;一组用于甘特图本地化的方法&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	show_task_cells: &#39;启用/禁用在(任务)图表区域中显示列边框&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	process_resource_assignments: &#39;启用/禁用资源分配的解析&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	resource_property: &#39;定义任务对象的属性，该对象存储与 resourceGrid/Timeline/Histogram/Calendar 关联的资源 ID&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	resource_assignment_store: &#39;指定存储资源分配的数据存储的名称&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	date_format: &#39;设置用于解析数据集中的数据并将日期发送回服务器的日期格式&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	container_resize_method: &#39;定义甘特图是否应以时间间隔跟踪容器的大小调整&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	drag_lightbox: &#39;可以通过标题拖动灯箱&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	show_chart: &#39;显示甘特图的图表（时间线）区域&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	drag_mode: &#39;存储可用拖放模式的类型&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	subscales: &#39;指定第二个时间尺度（已弃用）&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	oldxml: &#39;指定 dhtmlxGantt 1.0 的 XML 格式的序列化和解析&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	show_tasks_outside_timescale: &#39;启用在甘特图中显示指定日期范围之外的任务&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	order_branch_free: &#39;激活“分支”模式，允许在整个甘特图中重新排序任务&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	xml_date: &#39;定义用于从数据集中解析数据并将数据发送到服务器的日期格式&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	autosize_min_width: &#39;设置甘特图在水平“自动调整大小”模式下可以采用的最小宽度（以像素为单位）&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	button_right: &#39;存储位于灯箱右下角的按钮集合&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	date_grid: &#39;设置表格“开始时间”列中的日期格式&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	show_quick_info: &#39;激活/禁用“quick_info”扩展（弹出任务的详细信息表单）&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	schedule_from_end: &#39;启用反向调度&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	skins: &#39;返回可用皮肤的对象&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	constants: &#39;存储各种常量以减少代码中幻数的使用&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	multiselect: &#39;在甘特图中启用/禁用多任务选择&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	redo: &#39;启用甘特图的重做功能&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	duration_unit: &#39;设置持续时间单位&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	touch_feedback_duration: &#39;定义在触摸设备上拖放之前/之后振动反馈的持续时间（以毫秒为单位）&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	drag_timeline: &#39;配置 drag_timeline 扩展的行为&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	drag_progress: &#39;可以通过拖动进度旋钮来更改任务进度&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	horizontal_scroll_key: &#39;通过 Shift|Alt|Meta 键 + 鼠标滚轮移动启用/禁用水平滚动&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	static_background_cells: &#39;在 static_background 模式下启用突出显示的单元格的渲染&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	click_drag: &#39;启用高级拖放&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	auto_scheduling_initial: &#39;定义甘特图是否对数据加载/解析进行自动调度&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	grid_elastic_columns: &#39;调整可滚动网格内列的宽度&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	autosize: &#39;强制甘特图自动更改其大小以显示所有任务而无需滚动&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	bar_height: &#39;设置时间线区域中任务栏的高度&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	ajax: &#39;甘特图 ajax 模块&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	branch_loading_property: &#39;指定任务有尚未从后端加载的子任务&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	templates: &#39;定义甘特图中日期、标题、工具提示的格式模板&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	touch_drag: &#39;定义用于区分长触摸手势和滚动手势的时间段（以毫秒为单位）&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	autoscroll_speed: &#39;定义将任务或链接拖出当前浏览器屏幕时自动滚动的速度（以毫秒为单位）&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	show_errors: &#39;在出现意外行为时启用显示错误警报&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	license: &#39;返回 dhtmlxGantt 的许可证名称&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	calendar_property: &#39;更改影响日历绑定到任务/任务组的属性的名称&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	prevent_default_scroll: &#39;指定甘特容器是否应该阻止鼠标滚轮事件，或者应该将其传播到窗口元素&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	tooltip_offset_y: &#39;设置工具提示位置的顶部（如果为正）偏移&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	show_links: &#39;启用/禁用在甘特图中显示链接&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	inherit_scale_class: &#39;指定子尺度是否默认使用 scale_cell_class 模板&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	scroll_size: &#39;设置垂直（宽度）和水平（高度）滚动的大小&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	inline_editors_date_processing: &#39;在编辑任务的开始/结束期间保持任务的持续时间不变&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	treeDatastore: &#39;一组 treeDatastore 方法&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	select_task: &#39;启用甘特图中的任务选择&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	xml: &#39;指定 XML 序列化和解析&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	smart_scales: &#39;指定仅在屏幕上呈现时间刻度的可见部分&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	wai_aria_attributes: &#39;启用 WA:ARIA 支持以使屏幕阅读器可识别组件&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	wheel_scroll_sensitive: &#39;指定鼠标滚轮滚动甘特图的速度&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	resource_calendars: &#39;定义一组可以分配给特定资源（例如用户）的工作日历&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	external_render: &#39;将外部组件渲染到 DOM 中&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	readonly_property: &#39;更改影响任务/链接只读行为的属性的名称&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	duration_step: &#39;设置与“duration”数据属性的一个单位对应的“gantt.config.duration_unit”单位数。&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	tooltip_timeout: &#39;在显示任务的工具提示之前以毫秒为单位设置超时&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	show_markers: &#39;在页面上显示/隐藏标记&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	scale_offset_minimal: &#39;将最小比例单位（如果使用多个比例）设置为前导/关闭空白空间的间隔&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	ext: &#39;一个存储各种扩展的对象&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	min_duration: &#39;设置可以在调整大小期间为任务设置的最短持续时间（以毫秒为单位）。&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	keyboard_navigation: &#39;在甘特图中启用键盘导航&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	json: &#39;指定 JSON 序列化和解析&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	round_dnd_dates: &#39;允许将任务的开始和结束日期四舍五入到最近的刻度线&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	grid_resizer_column_attribute: &#39;设置列调整器的 DOM 元素的属性名称。该属性表示列的索引&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	locale: &#39;甘特图的当前区域设置对象（特定于区域的标签）&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	keys: &#39;定义甘特图的热键&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	skip_off_time: &#39;从时间尺度隐藏非工作时间&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	auto_types: &#39;自动将带有子任务的任务转换为项目，将没有子任务的项目转换回任务&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	time_step: &#39;设置任务时间值的最小步长（以分钟为单位）&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	inherit_calendar: &#39;定义任务是否应从其摘要父级继承工作日历&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	undo_types: &#39;设置将应用撤消操作的实体类型&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	server_utc: &#39;在将数据发送到服务器的同时将服务器端日期从 UTC 转换为本地时区（和向后）&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	show_unscheduled: &#39;启用显示未计划的任务&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	cascade_delete: &#39;允许的嵌套任务和链接级联删除&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	grid_resize: &#39;通过拖动右侧网格的边框来调整网格的大小&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	right_work_time: &#39;允许将任务的开始和结束日期调整为工作时间（拖动时）&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	min_task_grid_row_height: &#39;设置在调整大小期间可以为任务设置的最小行高&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	static_background: &#39;为时间线区域生成背景图像，而不是渲染实际的列和行行&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	csp: &#39;定义日期格式化方法代码的内部实现&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	link_arrow_size: &#39;设置链接箭头的大小&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	resource_store: &#39;指定连接到 resourceGrid/resourceTimeline/resourceHistogram 视图的 dataStore 的名称&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	dynamic_resource_calendars: &#39;启用将多个资源日历自动合并为一个&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	type_renderers: &#39;重新定义负责显示不同类型任务的函数&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	scale_height: &#39;设置时间刻度的高度和网格的标题&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	links: &#39;存储链接依赖的类型&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	undo: &#39;启用甘特图的撤消功能&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	task_attribute: &#39;设置将指定任务的 HTML 元素的 id 的属性的名称&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	show_progress: &#39;启用在任务栏中显示进度&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	columns: &#39;配置表的列&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	initial_scroll: &#39;设置时间线区域是否最初滚动以显示最早的任务&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	types: &#39;存储灯箱结构的名称（用于不同类型的任务）&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	skin: &#39;返回甘特图的当前皮肤&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	Wide_form: &#39;将节及其标签设置在同一行&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	link_wrapper_width: &#39;设置对点击敏感的区域的宽度（在链接上）&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	highlight_critical_path: &#39;显示图表中的关键路径&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	multiselect_one_level: &#39;指定多任务选择将在一个或任何级别内可用&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	undo_steps: &#39;设置应由 undo 方法恢复的步骤数&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	autofit: &#39;允许将网格的列自动调整为网格的宽度&#39;,</span></span>
<span class="line"><span style="color:#24292e;">	open_split_tasks: &#39;通过单击 +/- 按钮启用展开/折叠拆分任务的可能性&#39;</span></span>
<span class="line"><span style="color:#24292e;">}</span></span></code></pre></div>`,61),t=[o];function e(c,r,y,F,i,E){return n(),a("div",null,t)}const C=s(p,[["render",e]]);export{d as __pageData,C as default};
