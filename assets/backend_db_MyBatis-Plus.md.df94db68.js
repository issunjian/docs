import{_ as s,o as a,c as n,V as l}from"./chunks/framework.c6d8cbec.js";const p="/docs/assets/relationship-with-mybatis.88384854.png",o="/docs/assets/mybatis-plus-framework.7869f06f.jpg",e="/docs/assets/image-20220519140839640.40cc8dcd.png",t="/docs/assets/image-20220519141335981.ec1e5f8a.png",c="/docs/assets/image-20220519141737405.af9914ed.png",r="/docs/assets/image-20220519141849937.d88c3420.png",y="/docs/assets/image-20220519143257305.bcf70fae.png",F="/docs/assets/image-20220519150454211.868ec2e9.png",i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANAAAABNCAYAAADXXOrpAAAPlklEQVR4nO2dfXAU533HP6vbu9OJO3k8WE5JSRBGwi8gBzeuqaXijp3EQcJO6QwWlmPBTNs5JXVmpOHFrjKiVEWx42Gc6KY0MZoptZwAGZE/SGx02DTjFA9qlZqYyQDySEcRjYIY0xksEOh0b9s/7p69vdO96SSdTrrnM7Oj22ef59lntfvd5/k9z+95VtE0TUMikWRF0XwXQCJZyEgBSSQzQM00omzpSQoZRVEShqcUkBBN/F+JpJBQFAVN03QRGcWUVECapulbKBTSf0skhYaiKCiKQlFR0RQRJRSQEE0oFCIYDBIIBPTfUkiSQkEIx2QyUVRUhKqq+m8hpikCMtY6FotlPsotkeQVw8PDWK1WfTObzZnVQOK3RFKoKIrC6OgoDoeD0tJSAL0WmlIDGWsfv98/LwWWSPKNkZERli5dCoDZbMZsNidvwkFsDSSRFDrXrl0DwGazYbfbKSkp0VtmSW2gYDCYNuPffPoRvVdO8tvr57h8a5jrE//HmG8MgLssd1Fmu4eVjnL+pGwdm1Zs5E/vfXQ2r0siyQk3btzAbrfj9Xrx+/0xnWkpu7FTsfX9Rn45/G7S42O+McZ8Y3jGLnFq5Fe8/vEbPFu+iZ6nf5r9lUgk84DX62VycjJGPIKkrjzpBKQx/c6FIiUXnkMeXDUKTe7ZyMpFjVKDyzMLecXgpklpYjaKKJl7hHASjYdm7MoTT+PqBnata6H3yknOXv+YyzeHue69zk3fLQBKLQ7KistYWRpuwj2zopart0dnfjUSyTyQbPwzawHVv/8ij937KHUrNtL88EusLC2nrLiMUosDgJu+W1z3XufyzWF+e/0cO/ta+e9PP2LCeSP7q5hzPLhqKrnYpnGwFqho5ozWPN+FkswzqVpjWQsIwp0Iv/n0o5lkIZEsaLI2Sp4t3zTtNH+58tk0Mdw0KTW43C5qIm4UTW7A3aS7VdS4PAg7p8ZonLibUGpceGLyUvR0MTaRJ5p/9JibJqWSlj7oqlPCeXlc1BhsFY+rRk+jpLRhhB2WogwxZTHklfU5JfNB1gJqXN3Af2w+xSuP7OSry59iVel9evMNwjbQqtL7+Oryp3j5kR2c3nyKhornMsi5j5YO6NY0tF5n+GE+vjncBh3qhJb9uKmguc1JX88JXTDu410425qpiOx31R1ns3CI7XXSVScePg+u/ZH8Y47VclAborManL0a2ploXuFkLra3rKVXd7I9SG2aK0lehgzJ4pyS3JK1gOrff5Hdfa3YVBvND7/EL+qOMfTCBSacN5hw3mDohQv8ou4YzQ+/xBJ1CTv7Wnn+1LYMcq6mszvy8NZuxkk1nbsjj03FatZynkFP5FhfDyc8AG6OdznZbHi6nL2Gh612N53VXRx3A1TQfLAZxJu9riuzC65YzVq6qJtGr1zyMmRIFueU5JYFbAPVsruzg+0nPGyigy5nGwczSeZxUVPZAp1DaFpFZP9iRuc7qGkcjDTPlL5qOofO0FyRPmX2zMc5JdMhz2yg6VGxqR569rO/h2gtFaHL8Kr3uLbT0hepoYYu0lfdSXfkKfSc6KEvk5N5XLhEDXZmiM7qPi4OpU6StAxTiNSq8eXJ4pyS3LKwx4Eqmmlbq1B3vpOhuLeyk+MoSp2+1yvsh9rddHZUUqm0AFDtdFIdzZBN9dW01Cl0VXcy1B17rtX7FaJZ9qKlMUiSliHuGro7e6isVGiJL08W55TkFsW4rJVwIg0EAoyPj3PPPfck7QO3dd2tjwN9ueyRtONA715xz8k4kLtJoeOhIc7kVbsmbjxJsmBRFIVdu3ZRXl7OqlWrKC8vp6ysDLvdjqqqC9kGAjwuOrqctGn5JB5JIbFgbSB3k4JS2cLa3vns2o0d50k53iNZlGTdhIPodIZMbSA5nUGy0JjTJtxj9z7KY1IUkgJGrkwqkcwAKSCJZAZIAUkkM2BGNtB0+fjKZ+z75UWu35qcVro/uquYPd94iIe/cNcclUwiyY6c1kCvnRiYtngAro15+d47A3NQIolkZuRUQKOfebNOe/WziWnF97hqYucLSSRzwOKwgQwT7sRW2dJHX0ulHOSUzCnTtoGMn3nIJDyeD7/7ZMz+c0evcqzh82nDNrz6QfJMaw+iabGTGTyuGrbTnWc+cpLFxrRqoLfeeovW1lYCgUBMeCAQoLW1le7u7iQp55rIfJl0NVDMlG+JZOZkLKBgMMgnn3xCf38/bW1tuogCgQBtbW309/czMDCQ0Yqms08FzWei3zPSNI2hzmqqO4diwqZM05ZIZkjGTTiTycS+ffvYs2ePLqK9e/fS3t5Of38/69evp6OjA5PJlDKf545ezTosGe4mhcQzsyuJTPuJ4uxFk3MMJLPEtGwgs9lMR0eHXuPU19czPj6ui0dV02eXzt7RNC2JDfRJUsfWjW+GCL0Z3fe4ati/ug06BtkdqXU8rhpW99Qz+OZG+cmWJGRiw0pimXYngqqqMSKajnjiMTavZgt3UxEdDw1yprYCOE5RUbiV+vgPBwmdkQ24VCS6D1JUqcnKE0GI6MiRIzQ0NExbPLEfLU7wKRUtNNWWShRm5NI/88QDO+Dxx1n7jZXhuE//CP87YH72PM/Vrpwn+yz/SSSS+DAppMRk7cqjqirbtmWyTFUUTdPYcuQPgAbibadp1B8d0X8LtoowPXFyAb33HRubL+znvNcLB57kh6Egvd+2sflf/4z95z/A673EgSctWP4L+JvjTBz4+rTKXQgkEoxxSxav0MmZL5yodXqeXxbz5e+Gn/2Bn2z5XMwnJbf/fJTuLcti0m98I4DP50uY95M/GGMMwOfj1MV+Dr1cQujYGGM/APDh830B53tjOCPxk+VT6AhxiI/oiq+wiWZw/OfeJTl2JhXNNbEFAgFCAR+Tk5Mxn48I+Sa4c+dObEq/d0pYImpevcrVVwHukEF0iQEhFvENUJPJhKqqaJoWIyhJlJwISO8o0CAUCjfFAoEAfr8fze/l9u3bYTFFhBX0jnPz5s3YPPwTU8Iks4cQj/icu/gWqKZpuo0rm3JTmXMBGXt2qpY7eOr7H6CFgpxpDy9KcjxBmncA4sZv/hNg/xwVUhLDxQsX9E+6FxcXA1GbSIzzyaZcmJzWQK4X1uHz+cI2SHsuzizJhrGxMWw2m95pY7SFxAtRiifMnArIWPvozbNgEL/fP5enlcyQsbExAoEAmqZhMpkwm82YTCZCoZCsheJIK6DBwcGsMxcCMorH5/Nx584dPmeI9y8HDuDz+WLeeMYN5BtvNom/L6FQiB07d+rHL126RElJCXa7HbvdzpIlSygpKcFisegdDPK+hMlpL5wQUfzAqWjWid4e0d429vwU+o2aTYzeH4k8QXw+HyaTCYvFonfuiPuWztex0MhxN3Z08UYj4tPhonlgNpuxWCyoqorJZGL0VoBTnjvc9oWS5JoYh7WIr1Xa+XypeTYvYcEjhgtEb2j8yykYDMZsIr5kKnkhIEAfdxC9P1arFbPZjKqq/HrgM+5gQ7FM71zjGnzwe2hab5+l0i8OjCvQ+v3+hLWKiCM2KaDE5NQTIdYHLopoppnNZqxWKzabDZvNptdCt0JeiqyRt+Q0m3I3NXA4HOkjFhDGgWyfz6fbMwKxH+/sO9uOv4uBnNdAiRACslgsuoBKSkqwWq2oqopiuQ1K9ss32O2yBoKpnQeBQCChI7D0OsicvBGQcQRcCEkXkGrFvesvgGivTyJ/ucQ+dB/qg4FT+T1H//qvuPy3H/Hd6iRRFhFGAQWDQb3pFj9FX3bcZE5eCUj4XolN2ECYVCyWsAEkbqqiWvQwQcIwUzifxKgUoaGYzCSNsogwCkiIJBgMTqmFjLWPFFFq8mZZq/iua5PJpAtKKTLp+2LLNAylaEqY2PZVbeL1cxrHvl1FVeNhRhLFGzlMY9U++pLsjxxupKqqKrIZ4pn62KeHV9F4eCQSPsLhxir29UWOJzvvHG+ih1OM6yS7J5LU5EUNFD/vxNiECIcpNPRcE5H1v8+LsGhGCcOSPQjtAydZ1bCRS383QPuGpIWLljF+/8rbtH5/NV0DR4lN/iF7H/wxq04OMLAC4ApvN2zkH+8boH1DOJ+epl/RNTAwLx5N8XN94gUkhZM5eSGgtCgKPQ1/HPkZvrmZryc3mOKBUPS/6aMIARn2y1eymtdwPjhI63s/Y/uKyLHT/04P52Djg7xmyGrd5f9FeSKcQX3XP/HEPD2nUiCzx8IQUMLu05mERY9F46SLooV/xuxvoH1ggHau8HbDAzxwbh2tJ4+yDWBdKyePbmNFfHbalfTnnCOSDSNIsicvbKD48QYxcBcNix3UC4VCoGUepqXawgVIGQcG+Z/h8O/hX7s5J8o83E33aQ1N+yKNR9z8/bpzXLqiof35V6g/9xqHTkfzOL13L6encc5cbvED21JgmZM3NZDxZopu1mAwGJ5GHAryvFgjwdD8mLJuQqKwlIuRLGfD19fx+rfWcOxLL/PuT17ki1OifJPvvXKSZ+rW8DrwpS1bWKdohIJBgsu/yYpDa1jzrUjcLT/md9VBgsFq9px4hcZn1rBGHPrR7/iHYJAgITTC15TrNU7iu7GNrjqp4kuSkxcCEjdQ+GaJze/3h29iMMC/bV4KZDMOFEg5fWLZ1kOc3RrZ8ftJFDMmDkBrNO761rOcbY0e0s+1bCuHYhL5CR9axtZDZw37uSNeQMb/tRGj644UUWryRkCapumi8fl8+thEMBhEC0zq6yEIASVaNyHZWgpeb/afVVlMJPJEmJycnLLIirEJLUlNXglIeGOLblXhaqL5oushCAElWjch2VoK4+PjGZTiLAee2cvJuNCN7e/ynS9ndVl5S7wv3MTERMLjUkDpyZmAjOM88d2oxslciagFeCM2LNG6CTNdS+FriQJbn84s8SJCNKnjx+cK1b0n1TXnvBcu0cCdJP8weoVIx9LkL4+kT/Jc/cOkgPKfeLefQheQWBMikZNt0iaciHT//ffPfQkl+cWOHfNdgryiuLhYn+BpMplSC8i4/tfw8DCjo6OMjIxw7do1bty4gdfr1VdskUamZDEiNKCqKsXFxdx9993Y7XaKi4tjRKQoSuIaSDSzrFYrDoeDpUvDYzB2u11fhleKR7KYEZWI1WrFbrezdOlSHA4HVqs1pkmrxieCsDe0mF5dWloKgM1mY2JiQl+lRQpIspgRlYiqqthsNhwOB6WlpXpTTogobQ0EYSPKbrfj9/tl7SMpGIyrRBkXu4mZcKglUEO8T5pxbTBp+0gKBWN/gKiNjAtLKoqSWEDAFG9dKRxJoWKceBg/uJy2G9sYWQpIUojEe9AYu7H/H28nN9nKdWt4AAAAAElFTkSuQmCC",E="/docs/assets/image-20220520094126411.a0d5b2f6.png",u="/docs/assets/image-20220520100939157.66cc46f2.png",d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAbAAAABBCAYAAACw9/EiAAAH9klEQVR4nO3dv09a3x/H8ddBKNqAtrHdTYTFfP4C+AugC5OrG3eEod06un0WGGFz7cTyhb8A/4KmwxdIHEx0UxOTagTOZ8B7e/khFUHw6vORkCIc9Zp4+vJ9zrnnGGutFQAAARNa9QUAAPAUBBgAIJDCj23ISCMAYBWMMRNfnxpgbmiN/gsAwDIYY2St9ULMH2YPBpi11nv0+33vOQAAy2KMkTFGoVBoLMQmBpgbWv1+X71eT91u13tOkAEAnpsbXGtrawqFQgqHw95zN8zGAsxfdb17924V1w0AgCTp5ORE0WjUe0QikcdVYJJ0eXnpvb61tbWEywUAYFCFnZ2dKR6Pa3NzU5K8KmysAvNXX3d3dyu5YAAAXKenp9re3pYkRSIRRSKRh4cQpeEKDACAVTk/P5ckbWxsKBaL6f379946jLEbmd0qrNfrLfcqAQAYcXFxoevra93c3Oju7m5oMeGDO3HMu9Kw0+nM9fkAgoG+jud0c3Oj29vbofByPVuAAQAwLze4Jt2PzF6IAIAX7aH7jwkwAMCLNW00kAADAATSCgKsIcekVW4v/zsDWIKGI+Pr4w3H399H+n/D8bYMGnqky2o3HBmnIamtctpRY/k/CV64JQdYQ47JqqpjFZPjv7RpUg0IvkxFrZJUPChruEcP+v/P0nd98bW1tq688qpbK1vPS/m6bLOgxNIvHEHz6PPA5tUup5UsHitft7KZsTeVPpCOCvzKAq9BotCULQyet7xXM6qwuhkLtJQKrF1OK/ljXy1rlauNDB82HJkD6Yi/uIDAazjjIyvZ6kMjLg2V00bGZFVVVVljZLJVqZqVMUZObdU/DV66pQRYotD0hgQyle/6lTRyGve/7LUcwwXAK5GpuOcI1pWXlCq1VM/fv5mvD50z2CxkVGha2VZJqVRJLf8QorWq5Fb5kyAIVrCII6NvpZSqWaNazspWRscTAQRT+76iMjKmppy1ahYSSu6lBlMHudpwFeYMlmU0/i1K+1/G/4jNVPj/AVMtNcDc4YVk8ViSVM2yiAN4PRKDispaWVuRGz2tX9JeUvcLNv5UYLaSkRqOsqqrOXH+uyHHGBmTVFF7Si7xJ0EwLCXA3OA6/JlSqtQa/iV2H944A4Bg8ldgj5kDa49XWZmKWnuHGhRng0Uf1lqmGTDRUgLMHRc/2l/GdwOwGv4KzPeHaSqllLtMfmgObBBJows/ksXjsdEZkx5dkg+sYA7suJicfONitrrsSwHwXNwblA/31Go21bQ51YyRMeM3JP9Z+DF4tEr3c2b+wKMCwwRLDzCGEIHXyjeEeLg3WFXoBY87HOgGmZFJO3ImDDlOrMCowjDB0m5klgbL6ZsPvZmpqMmCIyDABkOIhaltBkFW8T6u+J4Ds2EzXwBAIBFgAIBAIsAAAIFEgAEAAmmmRRydTmemLz5rewDBRF/HKswUYLu7u49u2+l0ZmoPIJiurq60tbW16svAG8QQIgAgkAgwAEAgEWAAgEAiwAAAgfTkADPGLOYK2mWlTVoPHgXWcNgDDQiMwX6IzuiOvd7bf+nvT22LN2muCmxhIQYAwIzm3szXGCNr7dO/QKKgpp2+/SeAV2KW/v7otm2V00n9+m5VYUPwN2Uhc2BUYgCAZVvYIo6pIdYuK+0/yM7/8eh7asjhoEsg4Ib7sTcnNrW/p1Uu++a8h9o25Ljv37dPl9v3rydVPNbgDDHmy9+Uha5CnL8Sa8gxWcl3GivnXALBU83WlPMdVlvNjp/EPN7fj6Qf0/5gPVbxV27QtlWSigcqtzOq2JZKKQ1Ocebk5jdloQE211yYJDVqqqZK+uYbx87kSDAgaPL1irxunPmmUqqq2miCjfX3hArfp/X3lEpu48QX7acWecUIooUF2NzhBQDADBYSYI8Lr5/6//3gdPt/P3Q8qUkmp/xxUf/+mSxT+ZA5MCBoqr5yq10+UPE4r9zoCkH6O+Y0d4A9KrwSBR2VpGJyMPl68OsfTa7+M6rU84PJWGNkzIG0zxAiEDR51bzFFsniP6pb35CiJ6NKq6Sfc/f3hL7sp1jE8QYZ60sga636/b663a6ur6/16dMnXV5eeo39Ryb87f4vjlMB3oaFHqfScGQO99RiMQY0yJmvX79qZ2dHu7u72tnZ0efPnxWLxRQOh59egTHnBWA+bZXTI0vqs1Wl9r8QXniUuXfiAICnSahwtKe0Mcrev5IqtdQsEF94HAIMwOqwlRzmwHEqAIBAIsAAAC/WtB2eZhpC7HQ6M33jq6urmdoDCCb6Op6Te0vGqAcDbFLjWZbFdzqdxS2tBfBiLXQZPTAiEolobW1NoVBoLMj+GmAfPnx4/isEAGCC9fV1RaNRL8imBpibcGtrazo5OdHZ2ZlOT091fn6ui4sL3dzcqNvtervFAwCwKG4GhcNhra+v6+PHj4rFYlpfXx8KMWPM5ArMGKNQKKRoNKp4PK7t7W1JUiwW0+3trXq9HuEFAHgWbhEVjUYVi8W0vb2teDyuaDTqDSVKIxWY+2IoFFIkElE0GtXm5qYkaWNjQ79//1a321W/3yfAAADPwi2iwuGwNjY2FI/Htbm56Q0luiH21wpMGkyixWIx3d3dUX0BAJ6dW4W5xZT78FdgQ5v5utxNffv9vnq9nld1ueFFgAEAnpN/PYZbjbnPvRWJkwJMkhdUbpgRXACAZXODzL+MfuIc2Ogn+T9ZYgd6AMBy+bPI/68k/Qd/k6MsndjgvgAAAABJRU5ErkJggg==",g="/docs/assets/image-20220520101317761.234db91b.png",C="/docs/assets/image-20220520103030977.d3716e94.png",D="/docs/assets/image-20220520134529809.f44c7a7e.png",A="/docs/assets/image-20220520134636112.2b3e7558.png",b="/docs/assets/image-20220520135637388.16bc5aa2.png",h="/docs/assets/image-20220520140036445.540f6849.png",m="/docs/assets/image-20220521092812125.a5f5c1f0.png",v="/docs/assets/image-20220521225803162.b3b4bc22.png",q="/docs/assets/image-20220521230448577.a5c1e494.png",f="/docs/assets/image-20220521231317777.ef270149.png",B="/docs/assets/image-20220522113049945.9b35132d.png",k="/docs/assets/image-20220522115718361.41d1f382.png",S="/docs/assets/image-20220522120758740.c97991ca.png",M="/docs/assets/image-20220522121434468.dabe7a6c.png",L="/docs/assets/image-20220522121613909.703f4310.png",I="/docs/assets/image-20220522122127649.f162d0ce.png",P="/docs/assets/image-20220522122525598.784fdad6.png",T="/docs/assets/image-20220522122612334.a38780cb.png",W="/docs/assets/image-20220522123143852.7f6ee82a.png",U="/docs/assets/image-20220522123202310.bc0a30c7.png",H=JSON.parse('{"title":"一、MyBatis-Plus","description":"","frontmatter":{},"headers":[],"relativePath":"backend/db/MyBatis-Plus.md","filePath":"backend/db/MyBatis-Plus.md"}'),j={name:"backend/db/MyBatis-Plus.md"},N=l('<h1 id="一、mybatis-plus" tabindex="-1">一、MyBatis-Plus <a class="header-anchor" href="#一、mybatis-plus" aria-label="Permalink to &quot;一、MyBatis-Plus&quot;">​</a></h1><h2 id="_1-简介" tabindex="-1">1.简介 <a class="header-anchor" href="#_1-简介" aria-label="Permalink to &quot;1.简介&quot;">​</a></h2><p><a href="https://github.com/baomidou/mybatis-plus" target="_blank" rel="noreferrer">MyBatis-Plus (opens new window)</a>（简称 MP）是一个 <a href="https://www.mybatis.org/mybatis-3/" target="_blank" rel="noreferrer">MyBatis (opens new window)</a>的增强工具，在 MyBatis 的基础上只做增强不做改变，为简化开发、提高效率而生。</p><blockquote><p>我们的愿景是成为 MyBatis 最好的搭档，就像 <a href="https://baomidou.com/img/contra.jpg" target="_blank" rel="noreferrer">魂斗罗</a> 中的 1P、2P，基友搭配，效率翻倍。</p></blockquote><img src="'+p+'"><h2 id="_2-特性" tabindex="-1">2.特性 <a class="header-anchor" href="#_2-特性" aria-label="Permalink to &quot;2.特性&quot;">​</a></h2><ul><li><strong>无侵入</strong>：只做增强不做改变，引入它不会对现有工程产生影响，如丝般顺滑</li><li><strong>损耗小</strong>：启动即会自动注入基本 CURD，性能基本无损耗，直接面向对象操作</li><li><strong>强大的 CRUD 操作</strong>：内置通用 Mapper、通用 Service，仅仅通过少量配置即可实现单表大部分 CRUD 操作，更有强大的条件构造器，满足各类使用需求</li><li><strong>支持 Lambda 形式调用</strong>：通过 Lambda 表达式，方便的编写各类查询条件，无需再担心字段写错</li><li><strong>支持主键自动生成</strong>：支持多达 4 种主键策略（内含分布式唯一 ID 生成器 - Sequence），可自由配置，完美解决主键问题</li><li><strong>支持 ActiveRecord 模式</strong>：支持 ActiveRecord 形式调用，实体类只需继承 Model 类即可进行强大的 CRUD 操作</li><li><strong>支持自定义全局通用操作</strong>：支持全局通用方法注入（ Write once, use anywhere ）</li><li><strong>内置代码生成器</strong>：采用代码或者 Maven 插件可快速生成 Mapper 、 Model 、 Service 、 Controller 层代码，支持模板引擎，更有超多自定义配置等您来使用</li><li><strong>内置分页插件</strong>：基于 MyBatis 物理分页，开发者无需关心具体操作，配置好插件之后，写分页等同于普通 List 查询</li><li><strong>分页插件支持多种数据库</strong>：支持 MySQL、MariaDB、Oracle、DB2、H2、HSQL、SQLite、Postgre、SQLServer 等多种数据库</li><li><strong>内置性能分析插件</strong>：可输出 SQL 语句以及其执行时间，建议开发测试时启用该功能，能快速揪出慢查询</li><li><strong>内置全局拦截插件</strong>：提供全表 delete 、 update 操作智能分析阻断，也可自定义拦截规则，预防误操作</li></ul><h2 id="_3-支持数据库" tabindex="-1">3.支持数据库 <a class="header-anchor" href="#_3-支持数据库" aria-label="Permalink to &quot;3.支持数据库&quot;">​</a></h2><blockquote><p>任何能使用 <code>MyBatis</code> 进行 CRUD, 并且支持标准 SQL 的数据库，具体支持情况如下，如果不在下列表查看分页部分教程 PR 您的支持。</p></blockquote><ul><li>MySQL，Oracle，DB2，H2，HSQL，SQLite，PostgreSQL，SQLServer，Phoenix，Gauss ，ClickHouse，Sybase，OceanBase，Firebird，Cubrid，Goldilocks，csiidb</li><li>达梦数据库，虚谷数据库，人大金仓数据库，南大通用(华库)数据库，南大通用数据库，神通数据库，瀚高数据库</li></ul><h2 id="_4-框架结构" tabindex="-1">4.框架结构 <a class="header-anchor" href="#_4-框架结构" aria-label="Permalink to &quot;4.框架结构&quot;">​</a></h2><img src="'+o+'" alt="framework" style="zoom:50%;"><h2 id="_5-官方地址" tabindex="-1">5.官方地址 <a class="header-anchor" href="#_5-官方地址" aria-label="Permalink to &quot;5.官方地址&quot;">​</a></h2><blockquote><p>**官方网站：**<a href="https://baomidou.com/" target="_blank" rel="noreferrer">https://baomidou.com/</a></p><p>**官方文档：**<a href="https://baomidou.com/pages/24112f/" target="_blank" rel="noreferrer">https://baomidou.com/pages/24112f/</a></p></blockquote><h1 id="二、入门案例" tabindex="-1">二、入门案例 <a class="header-anchor" href="#二、入门案例" aria-label="Permalink to &quot;二、入门案例&quot;">​</a></h1><h2 id="_1-开发环境" tabindex="-1">1.开发环境 <a class="header-anchor" href="#_1-开发环境" aria-label="Permalink to &quot;1.开发环境&quot;">​</a></h2><ul><li><strong>IDE：IDEA 2019.3.5</strong></li><li><strong>JDK：JDK8+</strong></li><li><strong>构建工具：Maven 3.5.4</strong></li><li><strong>MySQL：MySQL 8.0.24</strong></li><li><strong>Navicat：Navicat Premium 15</strong></li><li><strong>Spring Boot：2.6.7</strong></li><li><strong>MyBatis-Plus：3.5.1</strong></li></ul><h2 id="_2-建库建表" tabindex="-1">2.建库建表 <a class="header-anchor" href="#_2-建库建表" aria-label="Permalink to &quot;2.建库建表&quot;">​</a></h2><ul><li><strong>打开 Navicat 运行以下 SQL 脚本进行建库建表</strong></li></ul><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">CREATE</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">DATABASE</span><span style="color:#F6F6F4;"> `</span><span style="color:#62E884;">mybatis_plus</span><span style="color:#F6F6F4;">` </span><span style="color:#7B7F8B;">/*!40100 DEFAULT CHARACTER SET utf8mb4 */</span><span style="color:#F6F6F4;">;</span></span>\n<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">use</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">`</span><span style="color:#E7EE98;">mybatis_plus</span><span style="color:#DEE492;">`</span><span style="color:#F6F6F4;">;</span></span>\n<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">CREATE</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">TABLE</span><span style="color:#F6F6F4;"> `</span><span style="color:#62E884;">user</span><span style="color:#F6F6F4;">` (</span></span>\n<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#DEE492;">`</span><span style="color:#E7EE98;">id</span><span style="color:#DEE492;">`</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">bigint</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">20</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">NOT NULL</span><span style="color:#F6F6F4;"> COMMENT </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">主键ID</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">,</span></span>\n<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#DEE492;">`</span><span style="color:#E7EE98;">name</span><span style="color:#DEE492;">`</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">varchar</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">30</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">DEFAULT</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">NULL</span><span style="color:#F6F6F4;"> COMMENT </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">姓名</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">,</span></span>\n<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#DEE492;">`</span><span style="color:#E7EE98;">age</span><span style="color:#DEE492;">`</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">int</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">11</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">DEFAULT</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">NULL</span><span style="color:#F6F6F4;"> COMMENT </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">年龄</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">,</span></span>\n<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#DEE492;">`</span><span style="color:#E7EE98;">email</span><span style="color:#DEE492;">`</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">varchar</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">50</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">DEFAULT</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">NULL</span><span style="color:#F6F6F4;"> COMMENT </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">邮箱</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">,</span></span>\n<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#F286C4;">PRIMARY KEY</span><span style="color:#F6F6F4;"> (</span><span style="color:#DEE492;">`</span><span style="color:#E7EE98;">id</span><span style="color:#DEE492;">`</span><span style="color:#F6F6F4;">)</span></span>\n<span class="line"><span style="color:#F6F6F4;">  ) ENGINE</span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;">InnoDB </span><span style="color:#F286C4;">DEFAULT</span><span style="color:#F6F6F4;"> CHARSET</span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;">utf8;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DATABASE</span><span style="color:#24292E;"> `</span><span style="color:#6F42C1;">mybatis_plus</span><span style="color:#24292E;">` </span><span style="color:#6A737D;">/*!40100 DEFAULT CHARACTER SET utf8mb4 */</span><span style="color:#24292E;">;</span></span>\n<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">use</span><span style="color:#24292E;"> </span><span style="color:#032F62;">`mybatis_plus`</span><span style="color:#24292E;">;</span></span>\n<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> `</span><span style="color:#6F42C1;">user</span><span style="color:#24292E;">` (</span></span>\n<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">`id`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">bigint</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;主键ID&#39;</span><span style="color:#24292E;">,</span></span>\n<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">`name`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">varchar</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">30</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;姓名&#39;</span><span style="color:#24292E;">,</span></span>\n<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">`age`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">11</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;年龄&#39;</span><span style="color:#24292E;">,</span></span>\n<span class="line"><span style="color:#24292E;">      </span><span style="color:#032F62;">`email`</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">varchar</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">50</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;邮箱&#39;</span><span style="color:#24292E;">,</span></span>\n<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">PRIMARY KEY</span><span style="color:#24292E;"> (</span><span style="color:#032F62;">`id`</span><span style="color:#24292E;">)</span></span>\n<span class="line"><span style="color:#24292E;">  ) ENGINE</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">InnoDB </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> CHARSET</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">utf8;</span></span></code></pre></div><ul><li><strong>插入几条测试数据</strong></li></ul><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">INSERT INTO</span><span style="color:#F6F6F4;"> user (id, </span><span style="color:#F286C4;">name</span><span style="color:#F6F6F4;">, age, email) </span><span style="color:#F286C4;">VALUES</span></span>\n<span class="line"><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">Jone</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">18</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">test1@baomidou.com</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">),</span></span>\n<span class="line"><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">2</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">Jack</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">20</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">test2@baomidou.com</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">),</span></span>\n<span class="line"><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">3</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">Tom</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">28</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">test3@baomidou.com</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">),</span></span>\n<span class="line"><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">4</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">Sandy</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">21</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">test4@baomidou.com</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">),</span></span>\n<span class="line"><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">5</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">Billie</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">24</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">test5@baomidou.com</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">INSERT INTO</span><span style="color:#24292E;"> user (id, </span><span style="color:#D73A49;">name</span><span style="color:#24292E;">, age, email) </span><span style="color:#D73A49;">VALUES</span></span>\n<span class="line"><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;Jone&#39;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">18</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;test1@baomidou.com&#39;</span><span style="color:#24292E;">),</span></span>\n<span class="line"><span style="color:#24292E;">(</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;Jack&#39;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">20</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;test2@baomidou.com&#39;</span><span style="color:#24292E;">),</span></span>\n<span class="line"><span style="color:#24292E;">(</span><span style="color:#005CC5;">3</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;Tom&#39;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">28</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;test3@baomidou.com&#39;</span><span style="color:#24292E;">),</span></span>\n<span class="line"><span style="color:#24292E;">(</span><span style="color:#005CC5;">4</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;Sandy&#39;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">21</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;test4@baomidou.com&#39;</span><span style="color:#24292E;">),</span></span>\n<span class="line"><span style="color:#24292E;">(</span><span style="color:#005CC5;">5</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;Billie&#39;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">24</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;test5@baomidou.com&#39;</span><span style="color:#24292E;">);</span></span></code></pre></div><h2 id="_3-创建工程" tabindex="-1">3.创建工程 <a class="header-anchor" href="#_3-创建工程" aria-label="Permalink to &quot;3.创建工程&quot;">​</a></h2><ul><li><strong>使用<code>Spring Initializer</code>快速初始化一个 Spring Boot 工程</strong></li></ul><img src="'+e+'" alt="image-20220519140839640" style="zoom:80%;"><img src="'+t+'" alt="image-20220519141335981" style="zoom:80%;"><img src="'+c+'" alt="image-20220519141737405" style="zoom:80%;"><img src="'+r+`" alt="image-20220519141849937" style="zoom:80%;"><ul><li><strong>引入<code>MyBatis-Plus</code>的依赖</strong></li></ul><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">&lt;</span><span style="color:#F286C4;">dependency</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">    &lt;</span><span style="color:#F286C4;">groupId</span><span style="color:#F6F6F4;">&gt;com.baomidou&lt;/</span><span style="color:#F286C4;">groupId</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">    &lt;</span><span style="color:#F286C4;">artifactId</span><span style="color:#F6F6F4;">&gt;mybatis-plus-boot-starter&lt;/</span><span style="color:#F286C4;">artifactId</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">    &lt;</span><span style="color:#F286C4;">version</span><span style="color:#F6F6F4;">&gt;3.5.1&lt;/</span><span style="color:#F286C4;">version</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">&lt;/</span><span style="color:#F286C4;">dependency</span><span style="color:#F6F6F4;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">dependency</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">groupId</span><span style="color:#24292E;">&gt;com.baomidou&lt;/</span><span style="color:#22863A;">groupId</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">artifactId</span><span style="color:#24292E;">&gt;mybatis-plus-boot-starter&lt;/</span><span style="color:#22863A;">artifactId</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">version</span><span style="color:#24292E;">&gt;3.5.1&lt;/</span><span style="color:#22863A;">version</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">dependency</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><ul><li><strong>安装<code>Lombok</code>插件</strong></li></ul><img src="`+y+`" alt="image-20220519143257305" style="zoom:80%;"><h2 id="_4-配置编码" tabindex="-1">4.配置编码 <a class="header-anchor" href="#_4-配置编码" aria-label="Permalink to &quot;4.配置编码&quot;">​</a></h2><ul><li><strong>配置<code>application.yml</code>文件</strong></li></ul><div class="language-yml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">#配置端口</span></span>
<span class="line"><span style="color:#97E1F1;">server</span><span style="color:#F286C4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">port</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">80</span></span>
<span class="line"></span>
<span class="line"><span style="color:#97E1F1;">spring</span><span style="color:#F286C4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#7B7F8B;">#配置数据源</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">datasource</span><span style="color:#F286C4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">#配置数据源类型</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;">type</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">com.zaxxer.hikari.HikariDataSource</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">#配置连接数据库的信息</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;">driver-class-name</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">com.mysql.cj.jdbc.Driver</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;">url</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">jdbc:mysql://localhost:3306/mybatis_plus?characterEncoding=utf-8&amp;useSSL=false</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;">username</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> { </span><span style="color:#E7EE98;">username</span><span style="color:#F6F6F4;"> }</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;">password</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> { </span><span style="color:#E7EE98;">password</span><span style="color:#F6F6F4;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7B7F8B;">#MyBatis-Plus相关配置</span></span>
<span class="line"><span style="color:#97E1F1;">mybatis-plus</span><span style="color:#F286C4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">configuration</span><span style="color:#F286C4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">#配置日志</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;">log-impl</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">org.apache.ibatis.logging.stdout.StdOutImpl</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#配置端口</span></span>
<span class="line"><span style="color:#22863A;">server</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">port</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">80</span></span>
<span class="line"></span>
<span class="line"><span style="color:#22863A;">spring</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">#配置数据源</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">datasource</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">#配置数据源类型</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">type</span><span style="color:#24292E;">: </span><span style="color:#032F62;">com.zaxxer.hikari.HikariDataSource</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">#配置连接数据库的信息</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">driver-class-name</span><span style="color:#24292E;">: </span><span style="color:#032F62;">com.mysql.cj.jdbc.Driver</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">url</span><span style="color:#24292E;">: </span><span style="color:#032F62;">jdbc:mysql://localhost:3306/mybatis_plus?characterEncoding=utf-8&amp;useSSL=false</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">username</span><span style="color:#24292E;">: { </span><span style="color:#032F62;">username</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">password</span><span style="color:#24292E;">: { </span><span style="color:#032F62;">password</span><span style="color:#24292E;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">#MyBatis-Plus相关配置</span></span>
<span class="line"><span style="color:#22863A;">mybatis-plus</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">configuration</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">#配置日志</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">log-impl</span><span style="color:#24292E;">: </span><span style="color:#032F62;">org.apache.ibatis.logging.stdout.StdOutImpl</span></span></code></pre></div><ul><li><strong>在 Spring Boot 启动类中添加 <code>@MapperScan</code> 注解，扫描 Mapper 文件夹</strong></li></ul><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">SpringBootApplication</span></span>
<span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">MapperScan</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">指定Mapper接口所在的包</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">class</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">MybatisPlusDemoApplication</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">static</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">main</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">String</span><span style="color:#F6F6F4;">[] </span><span style="color:#FFB86C;font-style:italic;">args</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">    SpringApplication.</span><span style="color:#62E884;">run</span><span style="color:#F6F6F4;">(MybatisPlusDemoApplication.class, args);</span></span>
<span class="line"><span style="color:#F6F6F4;">  }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">SpringBootApplication</span></span>
<span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">MapperScan</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;指定Mapper接口所在的包&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">MybatisPlusDemoApplication</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">String</span><span style="color:#24292E;">[] </span><span style="color:#E36209;">args</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    SpringApplication.</span><span style="color:#6F42C1;">run</span><span style="color:#24292E;">(MybatisPlusDemoApplication.class, args);</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><ul><li><strong>编写实体类 <code>User.java</code>（此处使用了 Lombok 简化代码）</strong></li></ul><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">Data</span></span>
<span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">class</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">User</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Long</span><span style="color:#F6F6F4;"> id;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">String</span><span style="color:#F6F6F4;"> name;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Integer</span><span style="color:#F6F6F4;"> age;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">String</span><span style="color:#F6F6F4;"> email;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Data</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">User</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> Long id;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> String name;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> Integer age;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> String email;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><ul><li><strong>编写 Mapper 包下的 <code>UserMapper</code>接口</strong></li></ul><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">interface</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">UserMapper</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">extends</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">BaseMapper</span><span style="color:#F6F6F4;">&lt;User&gt; {}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">UserMapper</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">BaseMapper</span><span style="color:#24292E;">&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; {}</span></span></code></pre></div><h2 id="_5-测试查询" tabindex="-1">5.测试查询 <a class="header-anchor" href="#_5-测试查询" aria-label="Permalink to &quot;5.测试查询&quot;">​</a></h2><ul><li><p><strong>编写一个测试类<code>MyBatisPlusTest.java</code></strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">SpringBootTest</span></span>
<span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">class</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">MyBatisPlusTest</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    @</span><span style="color:#97E1F1;font-style:italic;">Resource</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">UserMapper</span><span style="color:#F6F6F4;"> userMapper;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7B7F8B;">    /**</span></span>
<span class="line"><span style="color:#7B7F8B;">     * 测试查询所有数据</span></span>
<span class="line"><span style="color:#7B7F8B;">     */</span></span>
<span class="line"><span style="color:#F6F6F4;">    @</span><span style="color:#97E1F1;font-style:italic;">Test</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">testSelectList</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#7B7F8B;">//通过条件构造器查询一个list集合，若没有条件，则可以设置null为参数</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#97E1F1;font-style:italic;">List</span><span style="color:#F6F6F4;">&lt;User&gt; users </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> userMapper.</span><span style="color:#62E884;">selectList</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">null</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">        users.</span><span style="color:#62E884;">forEach</span><span style="color:#F6F6F4;">(System.out</span><span style="color:#F286C4;">::</span><span style="color:#F6F6F4;">println);</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">SpringBootTest</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">MyBatisPlusTest</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Resource</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> UserMapper userMapper;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">    /**</span></span>
<span class="line"><span style="color:#6A737D;">     * 测试查询所有数据</span></span>
<span class="line"><span style="color:#6A737D;">     */</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Test</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">testSelectList</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">//通过条件构造器查询一个list集合，若没有条件，则可以设置null为参数</span></span>
<span class="line"><span style="color:#24292E;">        List&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; users </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> userMapper.</span><span style="color:#6F42C1;">selectList</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">null</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">        users.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">(System.out</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">println);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div></li><li><p><strong>控制台打印查询结果</strong></p><img src="`+F+`"></li></ul><h1 id="三、增删改查" tabindex="-1">三、增删改查 <a class="header-anchor" href="#三、增删改查" aria-label="Permalink to &quot;三、增删改查&quot;">​</a></h1><h2 id="_1-basemapper-t" tabindex="-1">1.BaseMapper&lt;T&gt; <a class="header-anchor" href="#_1-basemapper-t" aria-label="Permalink to &quot;1.BaseMapper&amp;lt;T&amp;gt;&quot;">​</a></h2><blockquote><p>说明:</p><ul><li>通用 CRUD 封装 BaseMapper 接口，为 <code>Mybatis-Plus</code> 启动时自动解析实体表关系映射转换为 <code>Mybatis</code> 内部对象注入容器</li><li>泛型 <code>T</code> 为任意实体对象</li><li>参数 <code>Serializable</code> 为任意类型主键 <code>Mybatis-Plus</code> 不推荐使用复合主键约定每一张表都有自己的唯一 <code>id</code> 主键</li><li>对象 <code>Wrapper</code> 为条件构造器</li></ul></blockquote><p>MyBatis-Plus 中的基本 CRUD 在内置的 BaseMapper 中都已得到了实现，因此我们继承该接口以后可以直接使用。</p><p>本次演示的 CRUD 操作不包含参数带有条件构造器的方法，关于条件构造器将单独在一个章节进行演示。</p><hr><blockquote><p><strong>BaseMapper 中提供的 CRUD 方法：</strong></p></blockquote><ul><li><p><strong>增加：Insert</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">// 插入一条记录</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">int</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">insert</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">T</span><span style="color:#F6F6F4;"> entity);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// 插入一条记录</span></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">insert</span><span style="color:#24292E;">(T entity);</span></span></code></pre></div></li><li><p><strong>删除：Delete</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">// 根据 entity 条件，删除记录</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">int</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">delete</span><span style="color:#F6F6F4;">(@</span><span style="color:#97E1F1;font-style:italic;">Param</span><span style="color:#F6F6F4;">(Constants.WRAPPER) </span><span style="color:#97E1F1;font-style:italic;">Wrapper</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> wrapper);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 删除（根据ID 批量删除）</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">int</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">deleteBatchIds</span><span style="color:#F6F6F4;">(@</span><span style="color:#97E1F1;font-style:italic;">Param</span><span style="color:#F6F6F4;">(Constants.COLLECTION) </span><span style="color:#97E1F1;font-style:italic;">Collection</span><span style="color:#F286C4;">&lt;?</span><span style="color:#F6F6F4;"> extends Serializable</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> idList);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 根据 ID 删除</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">int</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">deleteById</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Serializable</span><span style="color:#F6F6F4;"> id);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 根据 columnMap 条件，删除记录</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">int</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">deleteByMap</span><span style="color:#F6F6F4;">(@</span><span style="color:#97E1F1;font-style:italic;">Param</span><span style="color:#F6F6F4;">(Constants.COLUMN_MAP) </span><span style="color:#97E1F1;font-style:italic;">Map</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">String, Object</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> columnMap);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// 根据 entity 条件，删除记录</span></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">delete</span><span style="color:#24292E;">(@</span><span style="color:#D73A49;">Param</span><span style="color:#24292E;">(Constants.WRAPPER) Wrapper</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> wrapper);</span></span>
<span class="line"><span style="color:#6A737D;">// 删除（根据ID 批量删除）</span></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">deleteBatchIds</span><span style="color:#24292E;">(@</span><span style="color:#D73A49;">Param</span><span style="color:#24292E;">(Constants.COLLECTION) Collection</span><span style="color:#D73A49;">&lt;?</span><span style="color:#24292E;"> extends Serializable</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> idList);</span></span>
<span class="line"><span style="color:#6A737D;">// 根据 ID 删除</span></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">deleteById</span><span style="color:#24292E;">(Serializable id);</span></span>
<span class="line"><span style="color:#6A737D;">// 根据 columnMap 条件，删除记录</span></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">deleteByMap</span><span style="color:#24292E;">(@</span><span style="color:#D73A49;">Param</span><span style="color:#24292E;">(Constants.COLUMN_MAP) Map</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">String, Object</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> columnMap);</span></span></code></pre></div></li><li><p><strong>修改：Update</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">// 根据 whereWrapper 条件，更新记录</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">int</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">update</span><span style="color:#F6F6F4;">(@</span><span style="color:#97E1F1;font-style:italic;">Param</span><span style="color:#F6F6F4;">(Constants.ENTITY) </span><span style="color:#97E1F1;font-style:italic;">T</span><span style="color:#F6F6F4;"> updateEntity, @</span><span style="color:#97E1F1;font-style:italic;">Param</span><span style="color:#F6F6F4;">(Constants.WRAPPER) </span><span style="color:#97E1F1;font-style:italic;">Wrapper</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> whereWrapper);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 根据 ID 修改</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">int</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">updateById</span><span style="color:#F6F6F4;">(@</span><span style="color:#97E1F1;font-style:italic;">Param</span><span style="color:#F6F6F4;">(Constants.ENTITY) </span><span style="color:#97E1F1;font-style:italic;">T</span><span style="color:#F6F6F4;"> entity);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// 根据 whereWrapper 条件，更新记录</span></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">update</span><span style="color:#24292E;">(@</span><span style="color:#D73A49;">Param</span><span style="color:#24292E;">(Constants.ENTITY) T updateEntity, @</span><span style="color:#D73A49;">Param</span><span style="color:#24292E;">(Constants.WRAPPER) Wrapper</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> whereWrapper);</span></span>
<span class="line"><span style="color:#6A737D;">// 根据 ID 修改</span></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">updateById</span><span style="color:#24292E;">(@</span><span style="color:#D73A49;">Param</span><span style="color:#24292E;">(Constants.ENTITY) T entity);</span></span></code></pre></div></li><li><p><strong>查询：Selete</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">// 根据 ID 查询</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">T</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">selectById</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Serializable</span><span style="color:#F6F6F4;"> id);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 根据 entity 条件，查询一条记录</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">T</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">selectOne</span><span style="color:#F6F6F4;">(@</span><span style="color:#97E1F1;font-style:italic;">Param</span><span style="color:#F6F6F4;">(Constants.WRAPPER) </span><span style="color:#97E1F1;font-style:italic;">Wrapper</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> queryWrapper);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7B7F8B;">// 查询（根据ID 批量查询）</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">List</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">selectBatchIds</span><span style="color:#F6F6F4;">(@</span><span style="color:#97E1F1;font-style:italic;">Param</span><span style="color:#F6F6F4;">(Constants.COLLECTION) </span><span style="color:#97E1F1;font-style:italic;">Collection</span><span style="color:#F286C4;">&lt;?</span><span style="color:#F6F6F4;"> extends Serializable</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> idList);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 根据 entity 条件，查询全部记录</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">List</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">selectList</span><span style="color:#F6F6F4;">(@</span><span style="color:#97E1F1;font-style:italic;">Param</span><span style="color:#F6F6F4;">(Constants.WRAPPER) </span><span style="color:#97E1F1;font-style:italic;">Wrapper</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> queryWrapper);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 查询（根据 columnMap 条件）</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">List</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">selectByMap</span><span style="color:#F6F6F4;">(@</span><span style="color:#97E1F1;font-style:italic;">Param</span><span style="color:#F6F6F4;">(Constants.COLUMN_MAP) </span><span style="color:#97E1F1;font-style:italic;">Map</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">String, Object</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> columnMap);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 根据 Wrapper 条件，查询全部记录</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">List</span><span style="color:#F286C4;">&lt;</span><span style="color:#97E1F1;font-style:italic;">Map</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">String, Object</span><span style="color:#F286C4;">&gt;&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">selectMaps</span><span style="color:#F6F6F4;">(@</span><span style="color:#97E1F1;font-style:italic;">Param</span><span style="color:#F6F6F4;">(Constants.WRAPPER) </span><span style="color:#97E1F1;font-style:italic;">Wrapper</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> queryWrapper);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 根据 Wrapper 条件，查询全部记录。注意： 只返回第一个字段的值</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">List</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">Object</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">selectObjs</span><span style="color:#F6F6F4;">(@</span><span style="color:#97E1F1;font-style:italic;">Param</span><span style="color:#F6F6F4;">(Constants.WRAPPER) </span><span style="color:#97E1F1;font-style:italic;">Wrapper</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> queryWrapper);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7B7F8B;">// 根据 entity 条件，查询全部记录（并翻页）</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">IPage</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">selectPage</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">IPage</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> page, @</span><span style="color:#97E1F1;font-style:italic;">Param</span><span style="color:#F6F6F4;">(Constants.WRAPPER) </span><span style="color:#97E1F1;font-style:italic;">Wrapper</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> queryWrapper);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 根据 Wrapper 条件，查询全部记录（并翻页）</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">IPage</span><span style="color:#F286C4;">&lt;</span><span style="color:#97E1F1;font-style:italic;">Map</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">String, Object</span><span style="color:#F286C4;">&gt;&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">selectMapsPage</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">IPage</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> page, @</span><span style="color:#97E1F1;font-style:italic;">Param</span><span style="color:#F6F6F4;">(Constants.WRAPPER) </span><span style="color:#97E1F1;font-style:italic;">Wrapper</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> queryWrapper);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 根据 Wrapper 条件，查询总记录数</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">Integer</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">selectCount</span><span style="color:#F6F6F4;">(@</span><span style="color:#97E1F1;font-style:italic;">Param</span><span style="color:#F6F6F4;">(Constants.WRAPPER) </span><span style="color:#97E1F1;font-style:italic;">Wrapper</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> queryWrapper);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// 根据 ID 查询</span></span>
<span class="line"><span style="color:#24292E;">T </span><span style="color:#6F42C1;">selectById</span><span style="color:#24292E;">(Serializable id);</span></span>
<span class="line"><span style="color:#6A737D;">// 根据 entity 条件，查询一条记录</span></span>
<span class="line"><span style="color:#24292E;">T </span><span style="color:#6F42C1;">selectOne</span><span style="color:#24292E;">(@</span><span style="color:#D73A49;">Param</span><span style="color:#24292E;">(Constants.WRAPPER) Wrapper</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> queryWrapper);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 查询（根据ID 批量查询）</span></span>
<span class="line"><span style="color:#24292E;">List</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">selectBatchIds</span><span style="color:#24292E;">(@</span><span style="color:#D73A49;">Param</span><span style="color:#24292E;">(Constants.COLLECTION) Collection</span><span style="color:#D73A49;">&lt;?</span><span style="color:#24292E;"> extends Serializable</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> idList);</span></span>
<span class="line"><span style="color:#6A737D;">// 根据 entity 条件，查询全部记录</span></span>
<span class="line"><span style="color:#24292E;">List</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">selectList</span><span style="color:#24292E;">(@</span><span style="color:#D73A49;">Param</span><span style="color:#24292E;">(Constants.WRAPPER) Wrapper</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> queryWrapper);</span></span>
<span class="line"><span style="color:#6A737D;">// 查询（根据 columnMap 条件）</span></span>
<span class="line"><span style="color:#24292E;">List</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">selectByMap</span><span style="color:#24292E;">(@</span><span style="color:#D73A49;">Param</span><span style="color:#24292E;">(Constants.COLUMN_MAP) Map</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">String, Object</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> columnMap);</span></span>
<span class="line"><span style="color:#6A737D;">// 根据 Wrapper 条件，查询全部记录</span></span>
<span class="line"><span style="color:#24292E;">List</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">Map</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">String, Object</span><span style="color:#D73A49;">&gt;&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">selectMaps</span><span style="color:#24292E;">(@</span><span style="color:#D73A49;">Param</span><span style="color:#24292E;">(Constants.WRAPPER) Wrapper</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> queryWrapper);</span></span>
<span class="line"><span style="color:#6A737D;">// 根据 Wrapper 条件，查询全部记录。注意： 只返回第一个字段的值</span></span>
<span class="line"><span style="color:#24292E;">List</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">Object</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">selectObjs</span><span style="color:#24292E;">(@</span><span style="color:#D73A49;">Param</span><span style="color:#24292E;">(Constants.WRAPPER) Wrapper</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> queryWrapper);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 根据 entity 条件，查询全部记录（并翻页）</span></span>
<span class="line"><span style="color:#24292E;">IPage</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">selectPage</span><span style="color:#24292E;">(IPage</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> page, @</span><span style="color:#D73A49;">Param</span><span style="color:#24292E;">(Constants.WRAPPER) Wrapper</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> queryWrapper);</span></span>
<span class="line"><span style="color:#6A737D;">// 根据 Wrapper 条件，查询全部记录（并翻页）</span></span>
<span class="line"><span style="color:#24292E;">IPage</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">Map</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">String, Object</span><span style="color:#D73A49;">&gt;&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">selectMapsPage</span><span style="color:#24292E;">(IPage</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> page, @</span><span style="color:#D73A49;">Param</span><span style="color:#24292E;">(Constants.WRAPPER) Wrapper</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> queryWrapper);</span></span>
<span class="line"><span style="color:#6A737D;">// 根据 Wrapper 条件，查询总记录数</span></span>
<span class="line"><span style="color:#24292E;">Integer </span><span style="color:#6F42C1;">selectCount</span><span style="color:#24292E;">(@</span><span style="color:#D73A49;">Param</span><span style="color:#24292E;">(Constants.WRAPPER) Wrapper</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> queryWrapper);</span></span></code></pre></div></li></ul><h2 id="_2-调用-mapper-层实现-crud" tabindex="-1">2.调用 Mapper 层实现 CRUD <a class="header-anchor" href="#_2-调用-mapper-层实现-crud" aria-label="Permalink to &quot;2.调用 Mapper 层实现 CRUD&quot;">​</a></h2><h3 id="_2-1-插入" tabindex="-1">2.1 插入 <a class="header-anchor" href="#_2-1-插入" aria-label="Permalink to &quot;2.1 插入&quot;">​</a></h3><hr><blockquote><p><strong>最终执行的结果，所获取的 id 为 1527206783590903810</strong></p><p><strong>这是因为 MyBatis-Plus 在实现插入数据时，会默认基于雪花算法的策略生成 id</strong></p></blockquote><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">/**</span></span>
<span class="line"><span style="color:#7B7F8B;">  * 测试插入一条数据</span></span>
<span class="line"><span style="color:#7B7F8B;">  * MyBatis-Plus在实现插入数据时，会默认基于雪花算法的策略生成id</span></span>
<span class="line"><span style="color:#7B7F8B;">  */</span></span>
<span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">Test</span></span>
<span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">testInsert</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">User</span><span style="color:#F6F6F4;"> user </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">User</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">    user.</span><span style="color:#62E884;">setName</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">Vz</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    user.</span><span style="color:#62E884;">setAge</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">21</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    user.</span><span style="color:#62E884;">setEmail</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">vz@oz6.cn</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">int</span><span style="color:#F6F6F4;"> result </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> userMapper.</span><span style="color:#62E884;">insert</span><span style="color:#F6F6F4;">(user);</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(result </span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">?</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">添加成功！</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">添加失败！</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">受影响的行数为：</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> result);</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//1527206783590903810（当前 id 为雪花算法自动生成的id）</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">id自动获取</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> user.</span><span style="color:#62E884;">getId</span><span style="color:#F6F6F4;">());</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;">  * 测试插入一条数据</span></span>
<span class="line"><span style="color:#6A737D;">  * MyBatis-Plus在实现插入数据时，会默认基于雪花算法的策略生成id</span></span>
<span class="line"><span style="color:#6A737D;">  */</span></span>
<span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Test</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">testInsert</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    User user </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">User</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    user.</span><span style="color:#6F42C1;">setName</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;Vz&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    user.</span><span style="color:#6F42C1;">setAge</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">21</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    user.</span><span style="color:#6F42C1;">setEmail</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;vz@oz6.cn&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> userMapper.</span><span style="color:#6F42C1;">insert</span><span style="color:#24292E;">(user);</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(result </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;添加成功！&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;添加失败！&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;受影响的行数为：&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> result);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//1527206783590903810（当前 id 为雪花算法自动生成的id）</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;id自动获取&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> user.</span><span style="color:#6F42C1;">getId</span><span style="color:#24292E;">());</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="_2-2-删除" tabindex="-1">2.2 删除 <a class="header-anchor" href="#_2-2-删除" aria-label="Permalink to &quot;2.2 删除&quot;">​</a></h3><hr><h4 id="a、根据-id-删除数据" tabindex="-1">a、根据 ID 删除数据 <a class="header-anchor" href="#a、根据-id-删除数据" aria-label="Permalink to &quot;a、根据 ID 删除数据&quot;">​</a></h4><blockquote><p><strong>调用方法：int deleteById(Serializable id);</strong></p></blockquote><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">/**</span></span>
<span class="line"><span style="color:#7B7F8B;">  * 测试根据id删除一条数据</span></span>
<span class="line"><span style="color:#7B7F8B;">  */</span></span>
<span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">Test</span></span>
<span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">testDeleteById</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">int</span><span style="color:#F6F6F4;"> result </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> userMapper.</span><span style="color:#62E884;">deleteById</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">1527206783590903810L</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(result </span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">?</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">删除成功！</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">删除失败！</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">受影响的行数为：</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> result);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;">  * 测试根据id删除一条数据</span></span>
<span class="line"><span style="color:#6A737D;">  */</span></span>
<span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Test</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">testDeleteById</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> userMapper.</span><span style="color:#6F42C1;">deleteById</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1527206783590903810L</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(result </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;删除成功！&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;删除失败！&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;受影响的行数为：&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> result);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h4 id="b、根据-id-批量删除数据" tabindex="-1">b、根据 ID 批量删除数据 <a class="header-anchor" href="#b、根据-id-批量删除数据" aria-label="Permalink to &quot;b、根据 ID 批量删除数据&quot;">​</a></h4><blockquote><p><code>调用方法：int deleteBatchIds(@Param(Constants.COLLECTION) Collection&lt;? extends Serializable&gt; idList);</code></p></blockquote><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">/**</span></span>
<span class="line"><span style="color:#7B7F8B;">  * 测试通过id批量删除数据</span></span>
<span class="line"><span style="color:#7B7F8B;">  */</span></span>
<span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">Test</span></span>
<span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">testDeleteBatchIds</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">List</span><span style="color:#F6F6F4;">&lt;Long&gt; ids </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> Arrays.</span><span style="color:#62E884;">asList</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">6L</span><span style="color:#F6F6F4;">,</span><span style="color:#BF9EEE;">7L</span><span style="color:#F6F6F4;">,</span><span style="color:#BF9EEE;">8L</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">int</span><span style="color:#F6F6F4;"> result </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> userMapper.</span><span style="color:#62E884;">deleteBatchIds</span><span style="color:#F6F6F4;">(ids);</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(result </span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">?</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">删除成功！</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">删除失败！</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">受影响的行数为：</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> result);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;">  * 测试通过id批量删除数据</span></span>
<span class="line"><span style="color:#6A737D;">  */</span></span>
<span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Test</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">testDeleteBatchIds</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    List&lt;</span><span style="color:#D73A49;">Long</span><span style="color:#24292E;">&gt; ids </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> Arrays.</span><span style="color:#6F42C1;">asList</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">6L</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">7L</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">8L</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> userMapper.</span><span style="color:#6F42C1;">deleteBatchIds</span><span style="color:#24292E;">(ids);</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(result </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;删除成功！&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;删除失败！&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;受影响的行数为：&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> result);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h4 id="c、根据-map-条件删除数据" tabindex="-1">c、根据 Map 条件删除数据 <a class="header-anchor" href="#c、根据-map-条件删除数据" aria-label="Permalink to &quot;c、根据 Map 条件删除数据&quot;">​</a></h4><blockquote><p><code>调用方法：int deleteByMap(@Param(Constants.COLUMN_MAP) Map&lt;String, Object&gt; columnMap);</code></p></blockquote><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">/**</span></span>
<span class="line"><span style="color:#7B7F8B;">   * 测试根据Map集合中所设置的条件删除数据</span></span>
<span class="line"><span style="color:#7B7F8B;">   */</span></span>
<span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">Test</span></span>
<span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">testDeleteByMap</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//当前演示为根据name和age删除数据</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//执行SQL为：DELETE FROM user WHERE name = ? AND age = ?</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">Map</span><span style="color:#F6F6F4;">&lt;String,Object&gt; map </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">HashMap</span><span style="color:#F6F6F4;">&lt;&gt;();</span></span>
<span class="line"><span style="color:#F6F6F4;">    map.</span><span style="color:#62E884;">put</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">name</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">Vz</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    map.</span><span style="color:#62E884;">put</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">age</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span><span style="color:#BF9EEE;">21</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">int</span><span style="color:#F6F6F4;"> result </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> userMapper.</span><span style="color:#62E884;">deleteByMap</span><span style="color:#F6F6F4;">(map);</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(result </span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">?</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">删除成功！</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">删除失败！</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">受影响的行数为：</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> result);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;">   * 测试根据Map集合中所设置的条件删除数据</span></span>
<span class="line"><span style="color:#6A737D;">   */</span></span>
<span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Test</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">testDeleteByMap</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//当前演示为根据name和age删除数据</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//执行SQL为：DELETE FROM user WHERE name = ? AND age = ?</span></span>
<span class="line"><span style="color:#24292E;">    Map&lt;</span><span style="color:#D73A49;">String</span><span style="color:#24292E;">,</span><span style="color:#D73A49;">Object</span><span style="color:#24292E;">&gt; map </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> HashMap&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">    map.</span><span style="color:#6F42C1;">put</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;name&quot;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;Vz&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    map.</span><span style="color:#6F42C1;">put</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;age&quot;</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">21</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> userMapper.</span><span style="color:#6F42C1;">deleteByMap</span><span style="color:#24292E;">(map);</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(result </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;删除成功！&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;删除失败！&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;受影响的行数为：&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> result);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="_2-3-修改" tabindex="-1">2.3 修改 <a class="header-anchor" href="#_2-3-修改" aria-label="Permalink to &quot;2.3 修改&quot;">​</a></h3><blockquote><p><strong>调用方法：int updateById(@Param(Constants.ENTITY) T entity);</strong></p></blockquote><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">/**</span></span>
<span class="line"><span style="color:#7B7F8B;">  * 测试根据id修改用户信息</span></span>
<span class="line"><span style="color:#7B7F8B;">  */</span></span>
<span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">Test</span></span>
<span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">testUpdateById</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//执行SQL为： UPDATE user SET name=?, age=?, email=? WHERE id=?</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">User</span><span style="color:#F6F6F4;"> user </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">User</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">    user.</span><span style="color:#62E884;">setId</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">6L</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    user.</span><span style="color:#62E884;">setName</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">VzUpdate</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    user.</span><span style="color:#62E884;">setAge</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">18</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    user.</span><span style="color:#62E884;">setEmail</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">Vz@sina.com</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">int</span><span style="color:#F6F6F4;"> result </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> userMapper.</span><span style="color:#62E884;">updateById</span><span style="color:#F6F6F4;">(user);</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(result </span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">?</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">修改成功！</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">修改失败！</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">受影响的行数为：</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> result);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;">  * 测试根据id修改用户信息</span></span>
<span class="line"><span style="color:#6A737D;">  */</span></span>
<span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Test</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">testUpdateById</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//执行SQL为： UPDATE user SET name=?, age=?, email=? WHERE id=?</span></span>
<span class="line"><span style="color:#24292E;">    User user </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">User</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    user.</span><span style="color:#6F42C1;">setId</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">6L</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    user.</span><span style="color:#6F42C1;">setName</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;VzUpdate&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    user.</span><span style="color:#6F42C1;">setAge</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">18</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    user.</span><span style="color:#6F42C1;">setEmail</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;Vz@sina.com&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> userMapper.</span><span style="color:#6F42C1;">updateById</span><span style="color:#24292E;">(user);</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(result </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;修改成功！&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;修改失败！&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;受影响的行数为：&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> result);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="_2-4-查询" tabindex="-1">2.4 查询 <a class="header-anchor" href="#_2-4-查询" aria-label="Permalink to &quot;2.4 查询&quot;">​</a></h3><hr><h4 id="a、根据-id-查询用户信息" tabindex="-1">a、根据 ID 查询用户信息 <a class="header-anchor" href="#a、根据-id-查询用户信息" aria-label="Permalink to &quot;a、根据 ID 查询用户信息&quot;">​</a></h4><blockquote><p><strong>调用方法：T selectById(Serializable id);</strong></p></blockquote><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">/**</span></span>
<span class="line"><span style="color:#7B7F8B;">  * 测试根据id查询用户数据</span></span>
<span class="line"><span style="color:#7B7F8B;">  */</span></span>
<span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">Test</span></span>
<span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">testSelectById</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">User</span><span style="color:#F6F6F4;"> user </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> userMapper.</span><span style="color:#62E884;">selectById</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">1L</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(user);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;">  * 测试根据id查询用户数据</span></span>
<span class="line"><span style="color:#6A737D;">  */</span></span>
<span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Test</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">testSelectById</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    User user </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> userMapper.</span><span style="color:#6F42C1;">selectById</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1L</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(user);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h4 id="b、根据多个-id-查询多个用户信息" tabindex="-1">b、根据多个 ID 查询多个用户信息 <a class="header-anchor" href="#b、根据多个-id-查询多个用户信息" aria-label="Permalink to &quot;b、根据多个 ID 查询多个用户信息&quot;">​</a></h4><blockquote><p><code>调用方法：List&lt;T&gt; selectBatchIds(@Param(Constants.COLLECTION) Collection&lt;? extends Serializable&gt; idList);</code></p></blockquote><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">/**</span></span>
<span class="line"><span style="color:#7B7F8B;">  * 根据多个id查询用户数据</span></span>
<span class="line"><span style="color:#7B7F8B;">  */</span></span>
<span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">Test</span></span>
<span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">testSelectBatchIds</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//执行SQL为：SELECT id,name,age,email FROM user WHERE id IN ( ? , ? , ? )</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">List</span><span style="color:#F6F6F4;">&lt;Long&gt; ids </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> Arrays.</span><span style="color:#62E884;">asList</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">1L</span><span style="color:#F6F6F4;">,</span><span style="color:#BF9EEE;">2L</span><span style="color:#F6F6F4;">,</span><span style="color:#BF9EEE;">3L</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">List</span><span style="color:#F6F6F4;">&lt;User&gt; users </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> userMapper.</span><span style="color:#62E884;">selectBatchIds</span><span style="color:#F6F6F4;">(ids);</span></span>
<span class="line"><span style="color:#F6F6F4;">    users.</span><span style="color:#62E884;">forEach</span><span style="color:#F6F6F4;">(System.out</span><span style="color:#F286C4;">::</span><span style="color:#F6F6F4;">println);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;">  * 根据多个id查询用户数据</span></span>
<span class="line"><span style="color:#6A737D;">  */</span></span>
<span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Test</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">testSelectBatchIds</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//执行SQL为：SELECT id,name,age,email FROM user WHERE id IN ( ? , ? , ? )</span></span>
<span class="line"><span style="color:#24292E;">    List&lt;</span><span style="color:#D73A49;">Long</span><span style="color:#24292E;">&gt; ids </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> Arrays.</span><span style="color:#6F42C1;">asList</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1L</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">2L</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">3L</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    List&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; users </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> userMapper.</span><span style="color:#6F42C1;">selectBatchIds</span><span style="color:#24292E;">(ids);</span></span>
<span class="line"><span style="color:#24292E;">    users.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">(System.out</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">println);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h4 id="c、根据-map-条件查询用户信息" tabindex="-1">c、根据 Map 条件查询用户信息 <a class="header-anchor" href="#c、根据-map-条件查询用户信息" aria-label="Permalink to &quot;c、根据 Map 条件查询用户信息&quot;">​</a></h4><blockquote><p><code>调用方法：List&lt;T&gt; selectByMap(@Param(Constants.COLUMN_MAP) Map&lt;String, Object&gt; columnMap);</code></p></blockquote><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">/**</span></span>
<span class="line"><span style="color:#7B7F8B;">  * 根据Map所设置的条件查询用户</span></span>
<span class="line"><span style="color:#7B7F8B;">  */</span></span>
<span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">Test</span></span>
<span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">testSelectByMap</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//执行SQL为：SELECT id,name,age,email FROM user WHERE age = ?</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">Map</span><span style="color:#F6F6F4;">&lt;String,Object&gt; map </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">HashMap</span><span style="color:#F6F6F4;">&lt;&gt;();</span></span>
<span class="line"><span style="color:#F6F6F4;">    map.</span><span style="color:#62E884;">put</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">age</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span><span style="color:#BF9EEE;">18</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">List</span><span style="color:#F6F6F4;">&lt;User&gt; users </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> userMapper.</span><span style="color:#62E884;">selectByMap</span><span style="color:#F6F6F4;">(map);</span></span>
<span class="line"><span style="color:#F6F6F4;">    users.</span><span style="color:#62E884;">forEach</span><span style="color:#F6F6F4;">(System.out</span><span style="color:#F286C4;">::</span><span style="color:#F6F6F4;">println);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;">  * 根据Map所设置的条件查询用户</span></span>
<span class="line"><span style="color:#6A737D;">  */</span></span>
<span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Test</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">testSelectByMap</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//执行SQL为：SELECT id,name,age,email FROM user WHERE age = ?</span></span>
<span class="line"><span style="color:#24292E;">    Map&lt;</span><span style="color:#D73A49;">String</span><span style="color:#24292E;">,</span><span style="color:#D73A49;">Object</span><span style="color:#24292E;">&gt; map </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> HashMap&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">    map.</span><span style="color:#6F42C1;">put</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;age&quot;</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">18</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    List&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; users </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> userMapper.</span><span style="color:#6F42C1;">selectByMap</span><span style="color:#24292E;">(map);</span></span>
<span class="line"><span style="color:#24292E;">    users.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">(System.out</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">println);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h4 id="d、查询所有用户信息" tabindex="-1">d、查询所有用户信息 <a class="header-anchor" href="#d、查询所有用户信息" aria-label="Permalink to &quot;d、查询所有用户信息&quot;">​</a></h4><blockquote><p><code>调用方法：List&lt;T&gt; selectList(@Param(Constants.WRAPPER) Wrapper&lt;T&gt; queryWrapper);</code></p></blockquote><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">/**</span></span>
<span class="line"><span style="color:#7B7F8B;">  * 测试查询所有数据</span></span>
<span class="line"><span style="color:#7B7F8B;">  */</span></span>
<span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">Test</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">testSelectList</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">List</span><span style="color:#F6F6F4;">&lt;User&gt; users </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> userMapper.</span><span style="color:#62E884;">selectList</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">null</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    users.</span><span style="color:#62E884;">forEach</span><span style="color:#F6F6F4;">(System.out</span><span style="color:#F286C4;">::</span><span style="color:#F6F6F4;">println);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;">  * 测试查询所有数据</span></span>
<span class="line"><span style="color:#6A737D;">  */</span></span>
<span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Test</span></span>
<span class="line"><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">testSelectList</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    List&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; users </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> userMapper.</span><span style="color:#6F42C1;">selectList</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">null</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    users.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">(System.out</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">println);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="_3-通用-service" tabindex="-1">3.通用 Service <a class="header-anchor" href="#_3-通用-service" aria-label="Permalink to &quot;3.通用 Service&quot;">​</a></h2><blockquote><p>说明:</p><ul><li>通用 Service CRUD 封装<code>IService</code>接口，进一步封装 CRUD 采用 <code>get 查询单行</code> <code>remove 删除</code> <code>list 查询集合</code> <code>page 分页</code> 前缀命名方式区分 <code>Mapper</code> 层避免混淆，</li><li>泛型 <code>T</code> 为任意实体对象</li><li>建议如果存在自定义通用 Service 方法的可能，请创建自己的 <code>IBaseService</code> 继承 <code>Mybatis-Plus</code> 提供的基类</li><li>对象 <code>Wrapper</code> 为 条件构造器</li></ul></blockquote><p>MyBatis-Plus 中有一个接口 **<code>IService</code>**和其实现类 <strong><code>ServiceImpl</code></strong>，封装了常见的业务层逻辑，详情查看源码 **<code>IService</code>**和 <strong><code>ServiceImpl</code></strong></p><p>因此我们在使用的时候仅需在自己定义的**<code>Service</code><strong>接口中继承</strong><code>IService</code><strong>接口，在自己的实现类中实现自己的 <strong><code>Service</code></strong> 并继承</strong><code>ServiceImpl</code>**即可</p><hr><blockquote><p><strong>IService 中的 CRUD 方法</strong></p></blockquote><ul><li><p><strong>增加：Save、SaveOrUpdate</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">// 插入一条记录（选择字段，策略插入）</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">boolean</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">save</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">T</span><span style="color:#F6F6F4;"> entity);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 插入（批量）</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">boolean</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">saveBatch</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Collection</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> entityList);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 插入（批量）</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">boolean</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">saveBatch</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Collection</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> entityList, </span><span style="color:#97E1F1;font-style:italic;">int</span><span style="color:#F6F6F4;"> batchSize);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7B7F8B;">// TableId 注解存在更新记录，否插入一条记录</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">boolean</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">saveOrUpdate</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">T</span><span style="color:#F6F6F4;"> entity);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 根据updateWrapper尝试更新，否继续执行saveOrUpdate(T)方法</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">boolean</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">saveOrUpdate</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">T</span><span style="color:#F6F6F4;"> entity, </span><span style="color:#97E1F1;font-style:italic;">Wrapper</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> updateWrapper);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 批量修改插入</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">boolean</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">saveOrUpdateBatch</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Collection</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> entityList);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 批量修改插入</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">boolean</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">saveOrUpdateBatch</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Collection</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> entityList, </span><span style="color:#97E1F1;font-style:italic;">int</span><span style="color:#F6F6F4;"> batchSize);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// 插入一条记录（选择字段，策略插入）</span></span>
<span class="line"><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">save</span><span style="color:#24292E;">(T entity);</span></span>
<span class="line"><span style="color:#6A737D;">// 插入（批量）</span></span>
<span class="line"><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">saveBatch</span><span style="color:#24292E;">(Collection</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> entityList);</span></span>
<span class="line"><span style="color:#6A737D;">// 插入（批量）</span></span>
<span class="line"><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">saveBatch</span><span style="color:#24292E;">(Collection</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> entityList, </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> batchSize);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// TableId 注解存在更新记录，否插入一条记录</span></span>
<span class="line"><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">saveOrUpdate</span><span style="color:#24292E;">(T entity);</span></span>
<span class="line"><span style="color:#6A737D;">// 根据updateWrapper尝试更新，否继续执行saveOrUpdate(T)方法</span></span>
<span class="line"><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">saveOrUpdate</span><span style="color:#24292E;">(T entity, Wrapper</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> updateWrapper);</span></span>
<span class="line"><span style="color:#6A737D;">// 批量修改插入</span></span>
<span class="line"><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">saveOrUpdateBatch</span><span style="color:#24292E;">(Collection</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> entityList);</span></span>
<span class="line"><span style="color:#6A737D;">// 批量修改插入</span></span>
<span class="line"><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">saveOrUpdateBatch</span><span style="color:#24292E;">(Collection</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> entityList, </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> batchSize);</span></span></code></pre></div></li><li><p><strong>删除：Remove</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">// 根据 entity 条件，删除记录</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">boolean</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">remove</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Wrapper</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> queryWrapper);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 根据 ID 删除</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">boolean</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">removeById</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Serializable</span><span style="color:#F6F6F4;"> id);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 根据 columnMap 条件，删除记录</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">boolean</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">removeByMap</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Map</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">String, Object</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> columnMap);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 删除（根据ID 批量删除）</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">boolean</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">removeByIds</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Collection</span><span style="color:#F286C4;">&lt;?</span><span style="color:#F6F6F4;"> extends Serializable</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> idList);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// 根据 entity 条件，删除记录</span></span>
<span class="line"><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">remove</span><span style="color:#24292E;">(Wrapper</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> queryWrapper);</span></span>
<span class="line"><span style="color:#6A737D;">// 根据 ID 删除</span></span>
<span class="line"><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">removeById</span><span style="color:#24292E;">(Serializable id);</span></span>
<span class="line"><span style="color:#6A737D;">// 根据 columnMap 条件，删除记录</span></span>
<span class="line"><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">removeByMap</span><span style="color:#24292E;">(Map</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">String, Object</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> columnMap);</span></span>
<span class="line"><span style="color:#6A737D;">// 删除（根据ID 批量删除）</span></span>
<span class="line"><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">removeByIds</span><span style="color:#24292E;">(Collection</span><span style="color:#D73A49;">&lt;?</span><span style="color:#24292E;"> extends Serializable</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> idList);</span></span></code></pre></div></li><li><p><strong>修改：Update</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">// 根据 UpdateWrapper 条件，更新记录 需要设置sqlset</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">boolean</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">update</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Wrapper</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> updateWrapper);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 根据 whereWrapper 条件，更新记录</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">boolean</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">update</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">T</span><span style="color:#F6F6F4;"> updateEntity, </span><span style="color:#97E1F1;font-style:italic;">Wrapper</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> whereWrapper);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 根据 ID 选择修改</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">boolean</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">updateById</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">T</span><span style="color:#F6F6F4;"> entity);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 根据ID 批量更新</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">boolean</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">updateBatchById</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Collection</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> entityList);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 根据ID 批量更新</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">boolean</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">updateBatchById</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Collection</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> entityList, </span><span style="color:#97E1F1;font-style:italic;">int</span><span style="color:#F6F6F4;"> batchSize);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// 根据 UpdateWrapper 条件，更新记录 需要设置sqlset</span></span>
<span class="line"><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">update</span><span style="color:#24292E;">(Wrapper</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> updateWrapper);</span></span>
<span class="line"><span style="color:#6A737D;">// 根据 whereWrapper 条件，更新记录</span></span>
<span class="line"><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">update</span><span style="color:#24292E;">(T updateEntity, Wrapper</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> whereWrapper);</span></span>
<span class="line"><span style="color:#6A737D;">// 根据 ID 选择修改</span></span>
<span class="line"><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">updateById</span><span style="color:#24292E;">(T entity);</span></span>
<span class="line"><span style="color:#6A737D;">// 根据ID 批量更新</span></span>
<span class="line"><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">updateBatchById</span><span style="color:#24292E;">(Collection</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> entityList);</span></span>
<span class="line"><span style="color:#6A737D;">// 根据ID 批量更新</span></span>
<span class="line"><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">updateBatchById</span><span style="color:#24292E;">(Collection</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> entityList, </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> batchSize);</span></span></code></pre></div></li><li><p><strong>查询：Get、List、Count</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">// 根据 ID 查询</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">T</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">getById</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Serializable</span><span style="color:#F6F6F4;"> id);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 根据 Wrapper，查询一条记录。结果集，如果是多个会抛出异常，随机取一条加上限制条件 wrapper.last(&quot;LIMIT 1&quot;)</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">T</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">getOne</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Wrapper</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> queryWrapper);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 根据 Wrapper，查询一条记录</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">T</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">getOne</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Wrapper</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> queryWrapper, </span><span style="color:#97E1F1;font-style:italic;">boolean</span><span style="color:#F6F6F4;"> throwEx);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 根据 Wrapper，查询一条记录</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">Map</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">String, Object</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">getMap</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Wrapper</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> queryWrapper);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 根据 Wrapper，查询一条记录</span></span>
<span class="line"><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">V</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">V</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">getObj</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Wrapper</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> queryWrapper, </span><span style="color:#97E1F1;font-style:italic;">Function</span><span style="color:#F286C4;">&lt;?</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">super</span><span style="color:#F6F6F4;"> Object, V</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> mapper);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// 根据 ID 查询</span></span>
<span class="line"><span style="color:#24292E;">T </span><span style="color:#6F42C1;">getById</span><span style="color:#24292E;">(Serializable id);</span></span>
<span class="line"><span style="color:#6A737D;">// 根据 Wrapper，查询一条记录。结果集，如果是多个会抛出异常，随机取一条加上限制条件 wrapper.last(&quot;LIMIT 1&quot;)</span></span>
<span class="line"><span style="color:#24292E;">T </span><span style="color:#6F42C1;">getOne</span><span style="color:#24292E;">(Wrapper</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> queryWrapper);</span></span>
<span class="line"><span style="color:#6A737D;">// 根据 Wrapper，查询一条记录</span></span>
<span class="line"><span style="color:#24292E;">T </span><span style="color:#6F42C1;">getOne</span><span style="color:#24292E;">(Wrapper</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> queryWrapper, </span><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> throwEx);</span></span>
<span class="line"><span style="color:#6A737D;">// 根据 Wrapper，查询一条记录</span></span>
<span class="line"><span style="color:#24292E;">Map</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">String, Object</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getMap</span><span style="color:#24292E;">(Wrapper</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> queryWrapper);</span></span>
<span class="line"><span style="color:#6A737D;">// 根据 Wrapper，查询一条记录</span></span>
<span class="line"><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">V</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> V </span><span style="color:#6F42C1;">getObj</span><span style="color:#24292E;">(Wrapper</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> queryWrapper, Function</span><span style="color:#D73A49;">&lt;?</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">super</span><span style="color:#24292E;"> Object, V</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> mapper);</span></span></code></pre></div><p>查询所有</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">// 查询所有</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">List</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">list</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#7B7F8B;">// 查询列表</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">List</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">list</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Wrapper</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> queryWrapper);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 查询（根据ID 批量查询）</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">Collection</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">listByIds</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Collection</span><span style="color:#F286C4;">&lt;?</span><span style="color:#F6F6F4;"> extends Serializable</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> idList);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 查询（根据 columnMap 条件）</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">Collection</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">listByMap</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Map</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">String, Object</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> columnMap);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 查询所有列表</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">List</span><span style="color:#F286C4;">&lt;</span><span style="color:#97E1F1;font-style:italic;">Map</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">String, Object</span><span style="color:#F286C4;">&gt;&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">listMaps</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#7B7F8B;">// 查询列表</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">List</span><span style="color:#F286C4;">&lt;</span><span style="color:#97E1F1;font-style:italic;">Map</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">String, Object</span><span style="color:#F286C4;">&gt;&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">listMaps</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Wrapper</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> queryWrapper);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 查询全部记录</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">List</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">Object</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">listObjs</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#7B7F8B;">// 查询全部记录</span></span>
<span class="line"><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">V</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">List</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">V</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">listObjs</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Function</span><span style="color:#F286C4;">&lt;?</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">super</span><span style="color:#F6F6F4;"> Object, V</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> mapper);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 根据 Wrapper 条件，查询全部记录</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">List</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">Object</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">listObjs</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Wrapper</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> queryWrapper);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 根据 Wrapper 条件，查询全部记录</span></span>
<span class="line"><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">V</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">List</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">V</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">listObjs</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Wrapper</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> queryWrapper, </span><span style="color:#97E1F1;font-style:italic;">Function</span><span style="color:#F286C4;">&lt;?</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">super</span><span style="color:#F6F6F4;"> Object, V</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> mapper);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7B7F8B;">// 查询总记录数</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">int</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">count</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#7B7F8B;">// 根据 Wrapper 条件，查询总记录数</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">int</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">count</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Wrapper</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> queryWrapper);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// 查询所有</span></span>
<span class="line"><span style="color:#24292E;">List</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">list</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#6A737D;">// 查询列表</span></span>
<span class="line"><span style="color:#24292E;">List</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">list</span><span style="color:#24292E;">(Wrapper</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> queryWrapper);</span></span>
<span class="line"><span style="color:#6A737D;">// 查询（根据ID 批量查询）</span></span>
<span class="line"><span style="color:#24292E;">Collection</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">listByIds</span><span style="color:#24292E;">(Collection</span><span style="color:#D73A49;">&lt;?</span><span style="color:#24292E;"> extends Serializable</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> idList);</span></span>
<span class="line"><span style="color:#6A737D;">// 查询（根据 columnMap 条件）</span></span>
<span class="line"><span style="color:#24292E;">Collection</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">listByMap</span><span style="color:#24292E;">(Map</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">String, Object</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> columnMap);</span></span>
<span class="line"><span style="color:#6A737D;">// 查询所有列表</span></span>
<span class="line"><span style="color:#24292E;">List</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">Map</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">String, Object</span><span style="color:#D73A49;">&gt;&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">listMaps</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#6A737D;">// 查询列表</span></span>
<span class="line"><span style="color:#24292E;">List</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">Map</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">String, Object</span><span style="color:#D73A49;">&gt;&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">listMaps</span><span style="color:#24292E;">(Wrapper</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> queryWrapper);</span></span>
<span class="line"><span style="color:#6A737D;">// 查询全部记录</span></span>
<span class="line"><span style="color:#24292E;">List</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">Object</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">listObjs</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#6A737D;">// 查询全部记录</span></span>
<span class="line"><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">V</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> List</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">V</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">listObjs</span><span style="color:#24292E;">(Function</span><span style="color:#D73A49;">&lt;?</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">super</span><span style="color:#24292E;"> Object, V</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> mapper);</span></span>
<span class="line"><span style="color:#6A737D;">// 根据 Wrapper 条件，查询全部记录</span></span>
<span class="line"><span style="color:#24292E;">List</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">Object</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">listObjs</span><span style="color:#24292E;">(Wrapper</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> queryWrapper);</span></span>
<span class="line"><span style="color:#6A737D;">// 根据 Wrapper 条件，查询全部记录</span></span>
<span class="line"><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">V</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> List</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">V</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">listObjs</span><span style="color:#24292E;">(Wrapper</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> queryWrapper, Function</span><span style="color:#D73A49;">&lt;?</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">super</span><span style="color:#24292E;"> Object, V</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> mapper);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">// 查询总记录数</span></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">count</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#6A737D;">// 根据 Wrapper 条件，查询总记录数</span></span>
<span class="line"><span style="color:#D73A49;">int</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">count</span><span style="color:#24292E;">(Wrapper</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> queryWrapper);</span></span></code></pre></div></li><li><p><strong>分页：Page</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">// 根据 ID 查询</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">T</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">getById</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Serializable</span><span style="color:#F6F6F4;"> id);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 根据 Wrapper，查询一条记录。结果集，如果是多个会抛出异常，随机取一条加上限制条件 wrapper.last(&quot;LIMIT 1&quot;)</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">T</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">getOne</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Wrapper</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> queryWrapper);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 根据 Wrapper，查询一条记录</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">T</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">getOne</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Wrapper</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> queryWrapper, </span><span style="color:#97E1F1;font-style:italic;">boolean</span><span style="color:#F6F6F4;"> throwEx);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 根据 Wrapper，查询一条记录</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">Map</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">String, Object</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">getMap</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Wrapper</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> queryWrapper);</span></span>
<span class="line"><span style="color:#7B7F8B;">// 根据 Wrapper，查询一条记录</span></span>
<span class="line"><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">V</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">V</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">getObj</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Wrapper</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">T</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> queryWrapper, </span><span style="color:#97E1F1;font-style:italic;">Function</span><span style="color:#F286C4;">&lt;?</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;font-style:italic;">super</span><span style="color:#F6F6F4;"> Object, V</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> mapper);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// 根据 ID 查询</span></span>
<span class="line"><span style="color:#24292E;">T </span><span style="color:#6F42C1;">getById</span><span style="color:#24292E;">(Serializable id);</span></span>
<span class="line"><span style="color:#6A737D;">// 根据 Wrapper，查询一条记录。结果集，如果是多个会抛出异常，随机取一条加上限制条件 wrapper.last(&quot;LIMIT 1&quot;)</span></span>
<span class="line"><span style="color:#24292E;">T </span><span style="color:#6F42C1;">getOne</span><span style="color:#24292E;">(Wrapper</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> queryWrapper);</span></span>
<span class="line"><span style="color:#6A737D;">// 根据 Wrapper，查询一条记录</span></span>
<span class="line"><span style="color:#24292E;">T </span><span style="color:#6F42C1;">getOne</span><span style="color:#24292E;">(Wrapper</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> queryWrapper, </span><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> throwEx);</span></span>
<span class="line"><span style="color:#6A737D;">// 根据 Wrapper，查询一条记录</span></span>
<span class="line"><span style="color:#24292E;">Map</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">String, Object</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getMap</span><span style="color:#24292E;">(Wrapper</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> queryWrapper);</span></span>
<span class="line"><span style="color:#6A737D;">// 根据 Wrapper，查询一条记录</span></span>
<span class="line"><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">V</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> V </span><span style="color:#6F42C1;">getObj</span><span style="color:#24292E;">(Wrapper</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">T</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> queryWrapper, Function</span><span style="color:#D73A49;">&lt;?</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">super</span><span style="color:#24292E;"> Object, V</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> mapper);</span></span></code></pre></div></li></ul><h2 id="_4-调用-service-层操作数据" tabindex="-1">4.调用 Service 层操作数据 <a class="header-anchor" href="#_4-调用-service-层操作数据" aria-label="Permalink to &quot;4.调用 Service 层操作数据&quot;">​</a></h2><blockquote><p>我们在自己的 Service 接口中通过继承 MyBatis-Plus 提供的 IService 接口，不仅可以获得其提供的 CRUD 方法，而且还可以使用自身定义的方法。</p></blockquote><ul><li><p><strong>创建<code>UserService</code>并继承<code>IService</code></strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">/**</span></span>
<span class="line"><span style="color:#7B7F8B;">  * UserService继承IService模板提供的基础功能</span></span>
<span class="line"><span style="color:#7B7F8B;">  */</span></span>
<span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">interface</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">UserService</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">extends</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">IService</span><span style="color:#F6F6F4;">&lt;User&gt; {}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;">  * UserService继承IService模板提供的基础功能</span></span>
<span class="line"><span style="color:#6A737D;">  */</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">UserService</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">IService</span><span style="color:#24292E;">&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; {}</span></span></code></pre></div></li><li><p><strong>创建<code>UserService</code>的实现类并继承<code>ServiceImpl</code></strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">/**</span></span>
<span class="line"><span style="color:#7B7F8B;">  * ServiceImpl实现了IService，提供了IService中基础功能的实现</span></span>
<span class="line"><span style="color:#7B7F8B;">  * 若ServiceImpl无法满足业务需求，则可以使用自定的UserService定义方法，并在实现类中实现</span></span>
<span class="line"><span style="color:#7B7F8B;">  */</span></span>
<span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">Service</span></span>
<span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">class</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">UserServiceImpl</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">extends</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">ServiceImpl</span><span style="color:#F6F6F4;">&lt;UserMapper,User&gt; </span><span style="color:#F286C4;">implements</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">UserService</span><span style="color:#F6F6F4;">{}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;">  * ServiceImpl实现了IService，提供了IService中基础功能的实现</span></span>
<span class="line"><span style="color:#6A737D;">  * 若ServiceImpl无法满足业务需求，则可以使用自定的UserService定义方法，并在实现类中实现</span></span>
<span class="line"><span style="color:#6A737D;">  */</span></span>
<span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Service</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">UserServiceImpl</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ServiceImpl</span><span style="color:#24292E;">&lt;</span><span style="color:#D73A49;">UserMapper</span><span style="color:#24292E;">,</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; </span><span style="color:#D73A49;">implements</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">UserService</span><span style="color:#24292E;">{}</span></span></code></pre></div></li><li><p><strong>测试查询记录数</strong></p><blockquote><p><strong>调用方法：int count();</strong></p></blockquote><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">Test</span></span>
<span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">testGetCount</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//查询总记录数</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//执行的SQL为：SELECT COUNT( * ) FROM user</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">long</span><span style="color:#F6F6F4;"> count </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> userService.</span><span style="color:#62E884;">count</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">总记录数：</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> count);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Test</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">testGetCount</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//查询总记录数</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//执行的SQL为：SELECT COUNT( * ) FROM user</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">long</span><span style="color:#24292E;"> count </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> userService.</span><span style="color:#6F42C1;">count</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;总记录数：&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> count);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div></li><li><p><strong>测试批量插入数据</strong></p><blockquote><p><code>调用方法：boolean saveBatch(Collection&lt;T&gt; entityList);</code></p></blockquote><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">Test</span></span>
<span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">test</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">List</span><span style="color:#F6F6F4;">&lt;User&gt; list </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">ArrayList</span><span style="color:#F6F6F4;">&lt;&gt;();</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">for</span><span style="color:#F6F6F4;"> (</span><span style="color:#97E1F1;font-style:italic;">int</span><span style="color:#F6F6F4;"> i </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">; i </span><span style="color:#F286C4;">&lt;=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">10</span><span style="color:#F6F6F4;">; i</span><span style="color:#F286C4;">++</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#97E1F1;font-style:italic;">User</span><span style="color:#F6F6F4;"> user </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">User</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">        user.</span><span style="color:#62E884;">setName</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">Vz</span><span style="color:#DEE492;">&quot;</span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;">i);</span></span>
<span class="line"><span style="color:#F6F6F4;">        user.</span><span style="color:#62E884;">setAge</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">20</span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;">i);</span></span>
<span class="line"><span style="color:#F6F6F4;">        list.</span><span style="color:#62E884;">add</span><span style="color:#F6F6F4;">(user);</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">boolean</span><span style="color:#F6F6F4;"> b </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> userService.</span><span style="color:#62E884;">saveBatch</span><span style="color:#F6F6F4;">(list);</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(b </span><span style="color:#F286C4;">?</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">添加成功！</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">添加失败！</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Test</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    List&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; list </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> ArrayList&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">for</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> i </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;">; i </span><span style="color:#D73A49;">&lt;=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">10</span><span style="color:#24292E;">; i</span><span style="color:#D73A49;">++</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        User user </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">User</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        user.</span><span style="color:#6F42C1;">setName</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;Vz&quot;</span><span style="color:#D73A49;">+</span><span style="color:#24292E;">i);</span></span>
<span class="line"><span style="color:#24292E;">        user.</span><span style="color:#6F42C1;">setAge</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">20</span><span style="color:#D73A49;">+</span><span style="color:#24292E;">i);</span></span>
<span class="line"><span style="color:#24292E;">        list.</span><span style="color:#6F42C1;">add</span><span style="color:#24292E;">(user);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> b </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> userService.</span><span style="color:#6F42C1;">saveBatch</span><span style="color:#24292E;">(list);</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(b </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;添加成功！&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;添加失败！&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div></li></ul><h1 id="四、常用注解" tabindex="-1">四、常用注解 <a class="header-anchor" href="#四、常用注解" aria-label="Permalink to &quot;四、常用注解&quot;">​</a></h1><blockquote><p>MyBatis-Plus 提供的注解可以帮我们解决一些数据库与实体之间相互映射的问题。</p></blockquote><h2 id="_1-tablename" tabindex="-1">1.@TableName <a class="header-anchor" href="#_1-tablename" aria-label="Permalink to &quot;1.@TableName&quot;">​</a></h2><blockquote><p>经过以上的测试，在使用 MyBatis-Plus 实现基本的 CRUD 时，我们并没有指定要操作的表，只是在 Mapper 接口继承 BaseMapper 时，设置了泛型 User，而操作的表为 user 表，由此得出结论，MyBatis-Plus 在确定操作的表时，由 BaseMapper 的泛型决定，即实体类型决定，且默认操作的表名和实体类型的类名一致。</p></blockquote><h3 id="_1-1-引出问题" tabindex="-1">1.1 引出问题 <a class="header-anchor" href="#_1-1-引出问题" aria-label="Permalink to &quot;1.1 引出问题&quot;">​</a></h3><hr><blockquote><p><strong>若实体类类型的类名和要操作的表的表名不一致，会出现什么问题？</strong></p></blockquote><ul><li><p>我们将表<code>user</code>更名为<code>t_user</code>，测试查询功能</p><img src="`+i+'"></li><li><p>程序抛出异常，<strong>Table &#39;mybatis_plus.user&#39; doesn&#39;t exist</strong>，因为现在的表名为<code>t_user</code>，而默认操作的表名和实体类型的类名一致，即<code>user</code>表</p><img src="'+E+`"></li></ul><h3 id="_1-2-解决问题" tabindex="-1">1.2 解决问题 <a class="header-anchor" href="#_1-2-解决问题" aria-label="Permalink to &quot;1.2 解决问题&quot;">​</a></h3><hr><h4 id="a、使用注解解决问题" tabindex="-1">a、使用注解解决问题 <a class="header-anchor" href="#a、使用注解解决问题" aria-label="Permalink to &quot;a、使用注解解决问题&quot;">​</a></h4><blockquote><p><strong>在实体类类型上添加<code>@TableName(&quot;t_user&quot;)</code>，标识实体类对应的表，即可成功执行 SQL 语句</strong></p></blockquote><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">Data</span></span>
<span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">TableName</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">t_user</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">class</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">User</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Long</span><span style="color:#F6F6F4;"> id;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">String</span><span style="color:#F6F6F4;"> name;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Integer</span><span style="color:#F6F6F4;"> age;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">String</span><span style="color:#F6F6F4;"> email;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Data</span></span>
<span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">TableName</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;t_user&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">User</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> Long id;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> String name;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> Integer age;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> String email;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h4 id="b、使用全局配置解决问题" tabindex="-1">b、使用全局配置解决问题 <a class="header-anchor" href="#b、使用全局配置解决问题" aria-label="Permalink to &quot;b、使用全局配置解决问题&quot;">​</a></h4><blockquote><p><strong>在开发的过程中，我们经常遇到以上的问题，即实体类所对应的表都有固定的前缀，例如 <code>t_</code> 或 <code>tbl_</code> 此时，可以使用 MyBatis-Plus 提供的全局配置，为实体类所对应的表名设置默认的前缀，那么就不需要在每个实体类上通过@TableName 标识实体类对应的表</strong></p></blockquote><div class="language-yml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#97E1F1;">mybatis-plus</span><span style="color:#F286C4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">global-config</span><span style="color:#F286C4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;">db-config</span><span style="color:#F286C4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;"># 设置实体类所对应的表的统一前缀</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#97E1F1;">table-prefix</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">t_</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#22863A;">mybatis-plus</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">global-config</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">db-config</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;"># 设置实体类所对应的表的统一前缀</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">table-prefix</span><span style="color:#24292E;">: </span><span style="color:#032F62;">t_</span></span></code></pre></div><h2 id="_2-tableid" tabindex="-1">2.@TableId <a class="header-anchor" href="#_2-tableid" aria-label="Permalink to &quot;2.@TableId&quot;">​</a></h2><blockquote><p><strong>经过以上的测试，MyBatis-Plus 在实现 CRUD 时，会默认将 id 作为主键列，并在插入数据时，默认基于雪花算法的策略生成 id</strong></p></blockquote><h3 id="_2-1-引出问题" tabindex="-1">2.1 引出问题 <a class="header-anchor" href="#_2-1-引出问题" aria-label="Permalink to &quot;2.1 引出问题&quot;">​</a></h3><hr><blockquote><p><strong>若实体类和表中表示主键的不是 id，而是其他字段，例如 uid，MyBatis-Plus 会自动识别 uid 为主键列吗？</strong></p></blockquote><ul><li><p>我们实体类中的属性<code>id</code>改为<code>uid</code>，将表中的字段<code>id</code>也改为<code>uid</code>，测试添加功能</p><img src="`+u+'"><img src="'+d+'"></li><li><p>程序抛出异常，<strong>Field &#39;uid&#39; doesn&#39;t have a default value</strong>，说明 MyBatis-Plus 没有将<code>uid</code>作为主键赋值</p><img src="'+g+`"></li></ul><h3 id="_2-2-解决问题" tabindex="-1">2.2 解决问题 <a class="header-anchor" href="#_2-2-解决问题" aria-label="Permalink to &quot;2.2 解决问题&quot;">​</a></h3><hr><blockquote><p><strong>在实体类中 uid 属性上通过<code>@TableId</code>将其标识为主键，即可成功执行 SQL 语句</strong></p></blockquote><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">Date</span></span>
<span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">class</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">User</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    @</span><span style="color:#97E1F1;font-style:italic;">TableId</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Long</span><span style="color:#F6F6F4;"> uid;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">String</span><span style="color:#F6F6F4;"> name;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Integer</span><span style="color:#F6F6F4;"> age;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">String</span><span style="color:#F6F6F4;"> email;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Date</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">User</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">TableId</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> Long uid;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> String name;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> Integer age;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> String email;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="_2-3-tableid-的-value-属性" tabindex="-1">2.3 @TableId 的 value 属性 <a class="header-anchor" href="#_2-3-tableid-的-value-属性" aria-label="Permalink to &quot;2.3 @TableId 的 value 属性&quot;">​</a></h3><hr><blockquote><p>若实体类中主键对应的属性为 id，而表中表示主键的字段为 uid，此时若只在属性 id 上添加注解@TableId，则抛出异常<strong>Unknown column &#39;id&#39; in &#39;field list&#39;</strong>，即 MyBatis-Plus 仍然会将 id 作为表的主键操作，而表中表示主键的是字段 uid 此时需要通过@TableId 注解的 value 属性，指定表中的主键字段，<code>@TableId(&quot;uid&quot;)</code>或<code>@TableId(value=&quot;uid&quot;)</code></p></blockquote><img src="`+C+`"><h3 id="_2-4-tableid-的-type-属性" tabindex="-1">2.4 @TableId 的 type 属性 <a class="header-anchor" href="#_2-4-tableid-的-type-属性" aria-label="Permalink to &quot;2.4 @TableId 的 type 属性&quot;">​</a></h3><hr><blockquote><p><strong>type 属性用来定义主键策略：默认雪花算法</strong></p></blockquote><p><strong>常用的主键策略：</strong></p><table><thead><tr><th style="text-align:center;">值</th><th style="text-align:center;">描述</th></tr></thead><tbody><tr><td style="text-align:center;">IdType.ASSIGN_ID（默认）</td><td style="text-align:center;">基于雪花算法的策略生成数据 id，与数据库 id 是否设置自增无关</td></tr><tr><td style="text-align:center;">IdType.AUTO</td><td style="text-align:center;">使用数据库的自增策略，注意，该类型请确保数据库设置了 id 自增，</td></tr></tbody></table><p><strong>配置全局主键策略：</strong></p><div class="language-yml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">#MyBatis-Plus相关配置</span></span>
<span class="line"><span style="color:#97E1F1;">mybatis-plus</span><span style="color:#F286C4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">configuration</span><span style="color:#F286C4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">#配置日志</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;">log-impl</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">org.apache.ibatis.logging.stdout.StdOutImpl</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">global-config</span><span style="color:#F286C4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;">db-config</span><span style="color:#F286C4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">#配置mp的主键策略为自增</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#97E1F1;">id-type</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">auto</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;"># 设置实体类所对应的表的统一前缀</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#97E1F1;">table-prefix</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">t_</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#MyBatis-Plus相关配置</span></span>
<span class="line"><span style="color:#22863A;">mybatis-plus</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">configuration</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">#配置日志</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">log-impl</span><span style="color:#24292E;">: </span><span style="color:#032F62;">org.apache.ibatis.logging.stdout.StdOutImpl</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">global-config</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">db-config</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">#配置mp的主键策略为自增</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">id-type</span><span style="color:#24292E;">: </span><span style="color:#032F62;">auto</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;"># 设置实体类所对应的表的统一前缀</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">table-prefix</span><span style="color:#24292E;">: </span><span style="color:#032F62;">t_</span></span></code></pre></div><h2 id="_3-tbalefield" tabindex="-1">3.@TbaleField <a class="header-anchor" href="#_3-tbalefield" aria-label="Permalink to &quot;3.@TbaleField&quot;">​</a></h2><blockquote><p>经过以上的测试，我们可以发现，MyBatis-Plus 在执行 SQL 语句时，要保证实体类中的属性名和表中的字段名一致</p><p>如果实体类中的属性名和字段名不一致的情况，会出现什么问题呢？</p></blockquote><h3 id="_3-1-情况一" tabindex="-1">3.1 情况一 <a class="header-anchor" href="#_3-1-情况一" aria-label="Permalink to &quot;3.1 情况一&quot;">​</a></h3><hr><p>若实体类中的属性使用的是驼峰命名风格，而表中的字段使用的是下划线命名风格</p><p>例如实体类属性<code>userName</code>，表中字段<code>user_name</code></p><p>此时 MyBatis-Plus 会自动将下划线命名风格转化为驼峰命名风格</p><p>相当于在 MyBatis 中配置</p><h3 id="_3-2-情况二" tabindex="-1">3.2 情况二 <a class="header-anchor" href="#_3-2-情况二" aria-label="Permalink to &quot;3.2 情况二&quot;">​</a></h3><hr><blockquote><p>若实体类中的属性和表中的字段不满足情况 1</p><p>例如实体类属性<code>name</code>，表中字段<code>username</code></p><p>此时需要在实体类属性上使用<code>@TableField(&quot;username&quot;)</code>设置属性所对应的字段名</p></blockquote><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">class</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">User</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    @</span><span style="color:#97E1F1;font-style:italic;">TableId</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">uid</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Long</span><span style="color:#F6F6F4;"> id;</span></span>
<span class="line"><span style="color:#F6F6F4;">    @</span><span style="color:#97E1F1;font-style:italic;">TableField</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">username</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">String</span><span style="color:#F6F6F4;"> name;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Integer</span><span style="color:#F6F6F4;"> age;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">String</span><span style="color:#F6F6F4;"> email;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">User</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">TableId</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;uid&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> Long id;</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">TableField</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;username&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> String name;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> Integer age;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> String email;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="_4-tablelogic" tabindex="-1">4.@TableLogic <a class="header-anchor" href="#_4-tablelogic" aria-label="Permalink to &quot;4.@TableLogic&quot;">​</a></h2><h3 id="_4-1-逻辑删除" tabindex="-1">4.1 逻辑删除 <a class="header-anchor" href="#_4-1-逻辑删除" aria-label="Permalink to &quot;4.1 逻辑删除&quot;">​</a></h3><hr><blockquote><p>物理删除：真实删除，将对应数据从数据库中删除，之后查询不到此条被删除的数据</p><p>逻辑删除：假删除，将对应数据中代表是否被删除字段的状态修改为“被删除状态”，之后在数据库中仍旧能看到此条数据记录</p><p>使用场景：可以进行数据恢复</p></blockquote><h3 id="_4-2-实现逻辑删除" tabindex="-1">4.2 实现逻辑删除 <a class="header-anchor" href="#_4-2-实现逻辑删除" aria-label="Permalink to &quot;4.2 实现逻辑删除&quot;">​</a></h3><hr><ul><li><p><strong>数据库中创建逻辑删除状态列，设置默认值为 0</strong></p><img src="`+D+'"></li><li><p><strong>实体类中添加逻辑删除属性</strong></p><img src="'+A+`"></li><li><p><strong>测试删除功能，真正执行的是修改</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">testDeleteById</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">int</span><span style="color:#F6F6F4;"> result </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> userMapper.</span><span style="color:#62E884;">deleteById</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">1527472864163348482L</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(result </span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">?</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">删除成功！</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">删除失败！</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">受影响的行数为：</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> result);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">testDeleteById</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> userMapper.</span><span style="color:#6F42C1;">deleteById</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1527472864163348482L</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(result </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;删除成功！&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;删除失败！&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;受影响的行数为：&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> result);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><img src="`+b+'"></li><li><p><strong>此时执行查询方法，查询的结果为自动添加条件<code>is_deleted=0</code></strong></p><img src="'+h+'"></li></ul><h1 id="五、条件构造器" tabindex="-1">五、条件构造器 <a class="header-anchor" href="#五、条件构造器" aria-label="Permalink to &quot;五、条件构造器&quot;">​</a></h1><h2 id="_1-wrapper-介绍" tabindex="-1">1.Wrapper 介绍 <a class="header-anchor" href="#_1-wrapper-介绍" aria-label="Permalink to &quot;1.Wrapper 介绍&quot;">​</a></h2><img src="'+m+`"><ul><li><p><code>Wrapper</code> ： 条件构造抽象类，最顶端父类</p><ul><li><p><code>AbstractWrapper </code>： 用于查询条件封装，生成 sql 的 where 条件</p><ul><li><p><code>QueryWrapper </code>： 查询条件封装</p></li><li><p><code>UpdateWrapper </code>： Update 条件封装</p></li><li><p><code>AbstractLambdaWrapper </code>： 使用 Lambda 语法</p><ul><li><p><code>LambdaQueryWrapper </code>：用于 Lambda 语法使用的查询 Wrapper</p></li><li><p><code>LambdaUpdateWrapper </code>： Lambda 更新封装 Wrapper</p></li></ul></li></ul></li></ul></li></ul><h2 id="_2-querywrapper" tabindex="-1">2.QueryWrapper <a class="header-anchor" href="#_2-querywrapper" aria-label="Permalink to &quot;2.QueryWrapper&quot;">​</a></h2><ul><li><p><strong>组装查询条件</strong></p><blockquote><p>**执行 SQL：**SELECT uid AS id,username AS name,age,email,is_deleted FROM t_user WHERE is_deleted=0 AND (username LIKE ? AND age BETWEEN ? AND ? AND email IS NOT NULL)</p></blockquote><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">test01</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//查询用户名包含a，年龄在20到30之间，邮箱信息不为null的用户信息</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">QueryWrapper</span><span style="color:#F6F6F4;">&lt;User&gt; queryWrapper </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">QueryWrapper</span><span style="color:#F6F6F4;">&lt;&gt;();</span></span>
<span class="line"><span style="color:#F6F6F4;">    queryWrapper.</span><span style="color:#62E884;">like</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">username</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">a</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">).</span><span style="color:#62E884;">between</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">age</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span><span style="color:#BF9EEE;">20</span><span style="color:#F6F6F4;">,</span><span style="color:#BF9EEE;">30</span><span style="color:#F6F6F4;">).</span><span style="color:#62E884;">isNotNull</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">email</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">List</span><span style="color:#F6F6F4;">&lt;User&gt; users </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> userMapper.</span><span style="color:#62E884;">selectList</span><span style="color:#F6F6F4;">(queryWrapper);</span></span>
<span class="line"><span style="color:#F6F6F4;">    users.</span><span style="color:#62E884;">forEach</span><span style="color:#F6F6F4;">(System.out</span><span style="color:#F286C4;">::</span><span style="color:#F6F6F4;">println);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test01</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//查询用户名包含a，年龄在20到30之间，邮箱信息不为null的用户信息</span></span>
<span class="line"><span style="color:#24292E;">    QueryWrapper&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; queryWrapper </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> QueryWrapper&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">    queryWrapper.</span><span style="color:#6F42C1;">like</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;username&quot;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;a&quot;</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">between</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;age&quot;</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">30</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">isNotNull</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;email&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    List&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; users </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> userMapper.</span><span style="color:#6F42C1;">selectList</span><span style="color:#24292E;">(queryWrapper);</span></span>
<span class="line"><span style="color:#24292E;">    users.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">(System.out</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">println);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div></li><li><p><strong>组装排序条件</strong></p><blockquote><p>**执行 SQL：**SELECT uid AS id,username AS name,age,email,is_deleted FROM t_user WHERE is_deleted=0 ORDER BY age DESC,id ASC</p></blockquote><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">test02</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//查询用户信息，按照年龄的降序排序，若年龄相同，则按照id升序排序</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">QueryWrapper</span><span style="color:#F6F6F4;">&lt;User&gt; queryWrapper </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">QueryWrapper</span><span style="color:#F6F6F4;">&lt;&gt;();</span></span>
<span class="line"><span style="color:#F6F6F4;">    queryWrapper.</span><span style="color:#62E884;">orderByDesc</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">age</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">).</span><span style="color:#62E884;">orderByAsc</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">id</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">List</span><span style="color:#F6F6F4;">&lt;User&gt; users </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> userMapper.</span><span style="color:#62E884;">selectList</span><span style="color:#F6F6F4;">(queryWrapper);</span></span>
<span class="line"><span style="color:#F6F6F4;">    users.</span><span style="color:#62E884;">forEach</span><span style="color:#F6F6F4;">(System.out</span><span style="color:#F286C4;">::</span><span style="color:#F6F6F4;">println);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test02</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//查询用户信息，按照年龄的降序排序，若年龄相同，则按照id升序排序</span></span>
<span class="line"><span style="color:#24292E;">    QueryWrapper&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; queryWrapper </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> QueryWrapper&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">    queryWrapper.</span><span style="color:#6F42C1;">orderByDesc</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;age&quot;</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">orderByAsc</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;id&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    List&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; users </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> userMapper.</span><span style="color:#6F42C1;">selectList</span><span style="color:#24292E;">(queryWrapper);</span></span>
<span class="line"><span style="color:#24292E;">    users.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">(System.out</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">println);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div></li><li><p><strong>组装删除条件</strong></p><blockquote><p>**执行 SQL：**UPDATE t_user SET is_deleted=1 WHERE is_deleted=0 AND (email IS NULL)</p></blockquote><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">test03</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//删除邮箱地址为null的用户信息</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">QueryWrapper</span><span style="color:#F6F6F4;">&lt;User&gt; queryWrapper </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">QueryWrapper</span><span style="color:#F6F6F4;">&lt;&gt;();</span></span>
<span class="line"><span style="color:#F6F6F4;">    queryWrapper.</span><span style="color:#62E884;">isNull</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">email</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">int</span><span style="color:#F6F6F4;"> result </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> userMapper.</span><span style="color:#62E884;">delete</span><span style="color:#F6F6F4;">(queryWrapper);</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(result </span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">?</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">删除成功！</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">删除失败！</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">受影响的行数为：</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> result);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test03</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//删除邮箱地址为null的用户信息</span></span>
<span class="line"><span style="color:#24292E;">    QueryWrapper&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; queryWrapper </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> QueryWrapper&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">    queryWrapper.</span><span style="color:#6F42C1;">isNull</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;email&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> userMapper.</span><span style="color:#6F42C1;">delete</span><span style="color:#24292E;">(queryWrapper);</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(result </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;删除成功！&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;删除失败！&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;受影响的行数为：&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> result);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div></li><li><p><strong>条件的优先级</strong></p><blockquote><p>**执行 SQL：**UPDATE t_user SET user_name=?, email=? WHERE is_deleted=0 AND (age &gt; ? AND user_name LIKE ? OR email IS NULL)</p></blockquote><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">test04</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//将（年龄大于20并且用户名中包含有a）或邮箱为null的用户信息修改</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">UpdateWrapper</span><span style="color:#F6F6F4;">&lt;User&gt; updateWrapper </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">UpdateWrapper</span><span style="color:#F6F6F4;">&lt;&gt;();</span></span>
<span class="line"><span style="color:#F6F6F4;">    updateWrapper.</span><span style="color:#62E884;">gt</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">age</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span><span style="color:#BF9EEE;">20</span><span style="color:#F6F6F4;">).</span><span style="color:#62E884;">like</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">username</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">a</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">).</span><span style="color:#62E884;">or</span><span style="color:#F6F6F4;">().</span><span style="color:#62E884;">isNull</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">email</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">User</span><span style="color:#F6F6F4;"> user </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">User</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">    user.</span><span style="color:#62E884;">setName</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">Oz</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    user.</span><span style="color:#62E884;">setEmail</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">test@oz6.com</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">int</span><span style="color:#F6F6F4;"> result </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> userMapper.</span><span style="color:#62E884;">update</span><span style="color:#F6F6F4;">(user, updateWrapper);</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(result </span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">?</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">修改成功！</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">修改失败！</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">受影响的行数为：</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> result);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test04</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//将（年龄大于20并且用户名中包含有a）或邮箱为null的用户信息修改</span></span>
<span class="line"><span style="color:#24292E;">    UpdateWrapper&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; updateWrapper </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> UpdateWrapper&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">    updateWrapper.</span><span style="color:#6F42C1;">gt</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;age&quot;</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">like</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;username&quot;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;a&quot;</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">or</span><span style="color:#24292E;">().</span><span style="color:#6F42C1;">isNull</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;email&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    User user </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">User</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    user.</span><span style="color:#6F42C1;">setName</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;Oz&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    user.</span><span style="color:#6F42C1;">setEmail</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;test@oz6.com&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> userMapper.</span><span style="color:#6F42C1;">update</span><span style="color:#24292E;">(user, updateWrapper);</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(result </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;修改成功！&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;修改失败！&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;受影响的行数为：&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> result);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><blockquote><p>**执行 SQL：**UPDATE t_user SET username=?, email=? WHERE is_deleted=0 AND (username LIKE ? AND (age &gt; ? OR email IS NULL))</p></blockquote><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">test05</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//将用户名中包含有a并且（年龄大于20或邮箱为null）的用户信息修改</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">UpdateWrapper</span><span style="color:#F6F6F4;">&lt;User&gt; updateWrapper </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">UpdateWrapper</span><span style="color:#F6F6F4;">&lt;&gt;();</span></span>
<span class="line"><span style="color:#F6F6F4;">    updateWrapper.</span><span style="color:#62E884;">like</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">username</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">a</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">).</span><span style="color:#62E884;">and</span><span style="color:#F6F6F4;">(i</span><span style="color:#97E1F1;font-style:italic;">-&gt;</span><span style="color:#F6F6F4;">i.</span><span style="color:#62E884;">gt</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">age</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span><span style="color:#BF9EEE;">20</span><span style="color:#F6F6F4;">).</span><span style="color:#62E884;">or</span><span style="color:#F6F6F4;">().</span><span style="color:#62E884;">isNull</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">email</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">));</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">User</span><span style="color:#F6F6F4;"> user </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">User</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">    user.</span><span style="color:#62E884;">setName</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">Vz7797</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    user.</span><span style="color:#62E884;">setEmail</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">test@ss8o.com</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">int</span><span style="color:#F6F6F4;"> result </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> userMapper.</span><span style="color:#62E884;">update</span><span style="color:#F6F6F4;">(user, updateWrapper);</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(result </span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">?</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">修改成功！</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">修改失败！</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">受影响的行数为：</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> result);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test05</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//将用户名中包含有a并且（年龄大于20或邮箱为null）的用户信息修改</span></span>
<span class="line"><span style="color:#24292E;">    UpdateWrapper&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; updateWrapper </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> UpdateWrapper&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">    updateWrapper.</span><span style="color:#6F42C1;">like</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;username&quot;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;a&quot;</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">and</span><span style="color:#24292E;">(i</span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;">i.</span><span style="color:#6F42C1;">gt</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;age&quot;</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">or</span><span style="color:#24292E;">().</span><span style="color:#6F42C1;">isNull</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;email&quot;</span><span style="color:#24292E;">));</span></span>
<span class="line"><span style="color:#24292E;">    User user </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">User</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    user.</span><span style="color:#6F42C1;">setName</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;Vz7797&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    user.</span><span style="color:#6F42C1;">setEmail</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;test@ss8o.com&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> userMapper.</span><span style="color:#6F42C1;">update</span><span style="color:#24292E;">(user, updateWrapper);</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(result </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;修改成功！&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;修改失败！&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;受影响的行数为：&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> result);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div></li><li><p><strong>组装 select 子句</strong></p><blockquote><p>**执行 SQL：**SELECT username,age,email FROM t_user WHERE is_deleted=0</p></blockquote><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">test06</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//查询用户的用户名、年龄、邮箱信息</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">QueryWrapper</span><span style="color:#F6F6F4;">&lt;User&gt; queryWrapper </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">QueryWrapper</span><span style="color:#F6F6F4;">&lt;&gt;();</span></span>
<span class="line"><span style="color:#F6F6F4;">    queryWrapper.</span><span style="color:#62E884;">select</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">username</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">age</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">email</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">List</span><span style="color:#F6F6F4;">&lt;</span><span style="color:#97E1F1;font-style:italic;">Map</span><span style="color:#F6F6F4;">&lt;String, Object&gt;&gt; maps </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> userMapper.</span><span style="color:#62E884;">selectMaps</span><span style="color:#F6F6F4;">(queryWrapper);</span></span>
<span class="line"><span style="color:#F6F6F4;">    maps.</span><span style="color:#62E884;">forEach</span><span style="color:#F6F6F4;">(System.out</span><span style="color:#F286C4;">::</span><span style="color:#F6F6F4;">println);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test06</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//查询用户的用户名、年龄、邮箱信息</span></span>
<span class="line"><span style="color:#24292E;">    QueryWrapper&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; queryWrapper </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> QueryWrapper&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">    queryWrapper.</span><span style="color:#6F42C1;">select</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;username&quot;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;age&quot;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;email&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    List&lt;Map&lt;</span><span style="color:#D73A49;">String</span><span style="color:#24292E;">, </span><span style="color:#D73A49;">Object</span><span style="color:#24292E;">&gt;&gt; maps </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> userMapper.</span><span style="color:#6F42C1;">selectMaps</span><span style="color:#24292E;">(queryWrapper);</span></span>
<span class="line"><span style="color:#24292E;">    maps.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">(System.out</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">println);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div></li><li><p><strong>实现子查询</strong></p><blockquote><p>**执行 SQL：**SELECT uid AS id,user_name AS name,age,email,is_deleted FROM t_user WHERE is_deleted=0 AND (uid IN (select uid from t_user where uid &lt;= 100))</p></blockquote><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">test07</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//查询id小于等于100的用户信息</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">QueryWrapper</span><span style="color:#F6F6F4;">&lt;User&gt; queryWrapper </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">QueryWrapper</span><span style="color:#F6F6F4;">&lt;&gt;();</span></span>
<span class="line"><span style="color:#F6F6F4;">    queryWrapper.</span><span style="color:#62E884;">inSql</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">uid</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">select uid from t_user where uid &lt;= 100</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">List</span><span style="color:#F6F6F4;">&lt;User&gt; list </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> userMapper.</span><span style="color:#62E884;">selectList</span><span style="color:#F6F6F4;">(queryWrapper);</span></span>
<span class="line"><span style="color:#F6F6F4;">    list.</span><span style="color:#62E884;">forEach</span><span style="color:#F6F6F4;">(System.out</span><span style="color:#F286C4;">::</span><span style="color:#F6F6F4;">println);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test07</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//查询id小于等于100的用户信息</span></span>
<span class="line"><span style="color:#24292E;">    QueryWrapper&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; queryWrapper </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> QueryWrapper&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">    queryWrapper.</span><span style="color:#6F42C1;">inSql</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;uid&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;select uid from t_user where uid &lt;= 100&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    List&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; list </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> userMapper.</span><span style="color:#6F42C1;">selectList</span><span style="color:#24292E;">(queryWrapper);</span></span>
<span class="line"><span style="color:#24292E;">    list.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">(System.out</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">println);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div></li></ul><h2 id="_3-updatewrapper" tabindex="-1">3.UpdateWrapper <a class="header-anchor" href="#_3-updatewrapper" aria-label="Permalink to &quot;3.UpdateWrapper&quot;">​</a></h2><blockquote><p>UpdateWrapper 不仅拥有 QueryWrapper 的组装条件功能，还提供了 set 方法进行修改对应条件的数据库信息</p></blockquote><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">test08</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//将用户名中包含有a并且（年龄大于20或邮箱为null）的用户信息修改</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">UpdateWrapper</span><span style="color:#F6F6F4;">&lt;User&gt; updateWrapper </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">UpdateWrapper</span><span style="color:#F6F6F4;">&lt;&gt;();</span></span>
<span class="line"><span style="color:#F6F6F4;">    updateWrapper.</span><span style="color:#62E884;">like</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">username</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">a</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">).</span><span style="color:#62E884;">and</span><span style="color:#F6F6F4;">( i </span><span style="color:#97E1F1;font-style:italic;">-&gt;</span><span style="color:#F6F6F4;"> i.</span><span style="color:#62E884;">gt</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">age</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span><span style="color:#BF9EEE;">20</span><span style="color:#F6F6F4;">).</span><span style="color:#62E884;">or</span><span style="color:#F6F6F4;">().</span><span style="color:#62E884;">isNull</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">email</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">)).</span><span style="color:#62E884;">set</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">email</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">,</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">svip@qq.com</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">int</span><span style="color:#F6F6F4;"> result </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> userMapper.</span><span style="color:#62E884;">update</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">null</span><span style="color:#F6F6F4;">, updateWrapper);</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(result </span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">?</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">修改成功！</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">修改失败！</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">受影响的行数为：</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> result);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test08</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//将用户名中包含有a并且（年龄大于20或邮箱为null）的用户信息修改</span></span>
<span class="line"><span style="color:#24292E;">    UpdateWrapper&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; updateWrapper </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> UpdateWrapper&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">    updateWrapper.</span><span style="color:#6F42C1;">like</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;username&quot;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;a&quot;</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">and</span><span style="color:#24292E;">( i </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;"> i.</span><span style="color:#6F42C1;">gt</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;age&quot;</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">or</span><span style="color:#24292E;">().</span><span style="color:#6F42C1;">isNull</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;email&quot;</span><span style="color:#24292E;">)).</span><span style="color:#6F42C1;">set</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;email&quot;</span><span style="color:#24292E;">,</span><span style="color:#032F62;">&quot;svip@qq.com&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> userMapper.</span><span style="color:#6F42C1;">update</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">null</span><span style="color:#24292E;">, updateWrapper);</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(result </span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">?</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;修改成功！&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;修改失败！&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;受影响的行数为：&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> result);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="_4-condition" tabindex="-1">4.condition <a class="header-anchor" href="#_4-condition" aria-label="Permalink to &quot;4.condition&quot;">​</a></h2><blockquote><p>在真正开发的过程中，组装条件是常见的功能，而这些条件数据来源于用户输入，是可选的，因此我们在组装这些条件时，必须先判断用户是否选择了这些条件，若选择则需要组装该条件，若没有选择则一定不能组装，以免影响 SQL 执行的结果</p></blockquote><ul><li><p><strong>思路一</strong></p><blockquote><p>**执行 SQL：**SELECT uid AS id,user_name AS name,age,email,is_deleted FROM t_user WHERE is_deleted=0 AND (user_name LIKE ? AND age &lt;= ?)</p></blockquote><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">test09</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">     </span><span style="color:#97E1F1;font-style:italic;">String</span><span style="color:#F6F6F4;"> username </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">a</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">     </span><span style="color:#97E1F1;font-style:italic;">Integer</span><span style="color:#F6F6F4;"> ageBegin </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">null</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">     </span><span style="color:#97E1F1;font-style:italic;">Integer</span><span style="color:#F6F6F4;"> ageEnd </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">30</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">     </span><span style="color:#97E1F1;font-style:italic;">QueryWrapper</span><span style="color:#F6F6F4;">&lt;User&gt; queryWrapper </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">QueryWrapper</span><span style="color:#F6F6F4;">&lt;&gt;();</span></span>
<span class="line"><span style="color:#F6F6F4;">     </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;">(StringUtils.</span><span style="color:#62E884;">isNotBlank</span><span style="color:#F6F6F4;">(username)){</span></span>
<span class="line"><span style="color:#F6F6F4;">         </span><span style="color:#7B7F8B;">//isNotBlank判断某个字符创是否不为空字符串、不为null、不为空白符</span></span>
<span class="line"><span style="color:#F6F6F4;">         queryWrapper.</span><span style="color:#62E884;">like</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">user_name</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, username);</span></span>
<span class="line"><span style="color:#F6F6F4;">     }</span></span>
<span class="line"><span style="color:#F6F6F4;">     </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;">(ageBegin </span><span style="color:#F286C4;">!=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">null</span><span style="color:#F6F6F4;">){</span></span>
<span class="line"><span style="color:#F6F6F4;">         queryWrapper.</span><span style="color:#62E884;">ge</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">age</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, ageBegin);</span></span>
<span class="line"><span style="color:#F6F6F4;">     }</span></span>
<span class="line"><span style="color:#F6F6F4;">     </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;">(ageEnd </span><span style="color:#F286C4;">!=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">null</span><span style="color:#F6F6F4;">){</span></span>
<span class="line"><span style="color:#F6F6F4;">         queryWrapper.</span><span style="color:#62E884;">le</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">age</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, ageEnd);</span></span>
<span class="line"><span style="color:#F6F6F4;">     }</span></span>
<span class="line"><span style="color:#F6F6F4;">     </span><span style="color:#97E1F1;font-style:italic;">List</span><span style="color:#F6F6F4;">&lt;User&gt; list </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> userMapper.</span><span style="color:#62E884;">selectList</span><span style="color:#F6F6F4;">(queryWrapper);</span></span>
<span class="line"><span style="color:#F6F6F4;">     list.</span><span style="color:#62E884;">forEach</span><span style="color:#F6F6F4;">(System.out</span><span style="color:#F286C4;">::</span><span style="color:#F6F6F4;">println);</span></span>
<span class="line"><span style="color:#F6F6F4;"> }</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test09</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">     String username </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;a&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">     Integer ageBegin </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">     Integer ageEnd </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">30</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">     QueryWrapper&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; queryWrapper </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> QueryWrapper&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">     </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(StringUtils.</span><span style="color:#6F42C1;">isNotBlank</span><span style="color:#24292E;">(username)){</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6A737D;">//isNotBlank判断某个字符创是否不为空字符串、不为null、不为空白符</span></span>
<span class="line"><span style="color:#24292E;">         queryWrapper.</span><span style="color:#6F42C1;">like</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;user_name&quot;</span><span style="color:#24292E;">, username);</span></span>
<span class="line"><span style="color:#24292E;">     }</span></span>
<span class="line"><span style="color:#24292E;">     </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(ageBegin </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">){</span></span>
<span class="line"><span style="color:#24292E;">         queryWrapper.</span><span style="color:#6F42C1;">ge</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;age&quot;</span><span style="color:#24292E;">, ageBegin);</span></span>
<span class="line"><span style="color:#24292E;">     }</span></span>
<span class="line"><span style="color:#24292E;">     </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(ageEnd </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">){</span></span>
<span class="line"><span style="color:#24292E;">         queryWrapper.</span><span style="color:#6F42C1;">le</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;age&quot;</span><span style="color:#24292E;">, ageEnd);</span></span>
<span class="line"><span style="color:#24292E;">     }</span></span>
<span class="line"><span style="color:#24292E;">     List&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; list </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> userMapper.</span><span style="color:#6F42C1;">selectList</span><span style="color:#24292E;">(queryWrapper);</span></span>
<span class="line"><span style="color:#24292E;">     list.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">(System.out</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">println);</span></span>
<span class="line"><span style="color:#24292E;"> }</span></span></code></pre></div></li><li><p><strong>思路二</strong></p><blockquote><p>上面的实现方案没有问题，但是代码比较复杂，我们可以使用带 condition 参数的重载方法构建查询条件，简化代码的编写</p></blockquote><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">test10</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">String</span><span style="color:#F6F6F4;"> username </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">a</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">Integer</span><span style="color:#F6F6F4;"> ageBegin </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">null</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">Integer</span><span style="color:#F6F6F4;"> ageEnd </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">30</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">QueryWrapper</span><span style="color:#F6F6F4;">&lt;User&gt; queryWrapper </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">QueryWrapper</span><span style="color:#F6F6F4;">&lt;&gt;();</span></span>
<span class="line"><span style="color:#F6F6F4;">    queryWrapper.</span><span style="color:#62E884;">like</span><span style="color:#F6F6F4;">(StringUtils.</span><span style="color:#62E884;">isNotBlank</span><span style="color:#F6F6F4;">(username), </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">user_name</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, username)</span></span>
<span class="line"><span style="color:#F6F6F4;">        .</span><span style="color:#62E884;">ge</span><span style="color:#F6F6F4;">(ageBegin </span><span style="color:#F286C4;">!=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">null</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">age</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, ageBegin)</span></span>
<span class="line"><span style="color:#F6F6F4;">        .</span><span style="color:#62E884;">le</span><span style="color:#F6F6F4;">(ageEnd </span><span style="color:#F286C4;">!=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">null</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">age</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, ageEnd);</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">List</span><span style="color:#F6F6F4;">&lt;User&gt; list </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> userMapper.</span><span style="color:#62E884;">selectList</span><span style="color:#F6F6F4;">(queryWrapper);</span></span>
<span class="line"><span style="color:#F6F6F4;">    list.</span><span style="color:#62E884;">forEach</span><span style="color:#F6F6F4;">(System.out</span><span style="color:#F286C4;">::</span><span style="color:#F6F6F4;">println);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test10</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    String username </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;a&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    Integer ageBegin </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    Integer ageEnd </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">30</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    QueryWrapper&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; queryWrapper </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> QueryWrapper&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">    queryWrapper.</span><span style="color:#6F42C1;">like</span><span style="color:#24292E;">(StringUtils.</span><span style="color:#6F42C1;">isNotBlank</span><span style="color:#24292E;">(username), </span><span style="color:#032F62;">&quot;user_name&quot;</span><span style="color:#24292E;">, username)</span></span>
<span class="line"><span style="color:#24292E;">        .</span><span style="color:#6F42C1;">ge</span><span style="color:#24292E;">(ageBegin </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;age&quot;</span><span style="color:#24292E;">, ageBegin)</span></span>
<span class="line"><span style="color:#24292E;">        .</span><span style="color:#6F42C1;">le</span><span style="color:#24292E;">(ageEnd </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;age&quot;</span><span style="color:#24292E;">, ageEnd);</span></span>
<span class="line"><span style="color:#24292E;">    List&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; list </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> userMapper.</span><span style="color:#6F42C1;">selectList</span><span style="color:#24292E;">(queryWrapper);</span></span>
<span class="line"><span style="color:#24292E;">    list.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">(System.out</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">println);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div></li></ul><h2 id="_5-lambdaquerywrapper" tabindex="-1">5.LambdaQueryWrapper <a class="header-anchor" href="#_5-lambdaquerywrapper" aria-label="Permalink to &quot;5.LambdaQueryWrapper&quot;">​</a></h2><blockquote><p>功能等同于 QueryWrapper，提供了 Lambda 表达式的语法可以避免填错列名。</p></blockquote><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">test11</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">String</span><span style="color:#F6F6F4;"> username </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">a</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">Integer</span><span style="color:#F6F6F4;"> ageBegin </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">null</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">Integer</span><span style="color:#F6F6F4;"> ageEnd </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">30</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">LambdaQueryWrapper</span><span style="color:#F6F6F4;">&lt;User&gt; queryWrapper </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">LambdaQueryWrapper</span><span style="color:#F6F6F4;">&lt;&gt;();</span></span>
<span class="line"><span style="color:#F6F6F4;">    queryWrapper.</span><span style="color:#62E884;">like</span><span style="color:#F6F6F4;">(StringUtils.</span><span style="color:#62E884;">isNotBlank</span><span style="color:#F6F6F4;">(username), User</span><span style="color:#F286C4;">::</span><span style="color:#F6F6F4;">getName, username)</span></span>
<span class="line"><span style="color:#F6F6F4;">        .</span><span style="color:#62E884;">ge</span><span style="color:#F6F6F4;">(ageBegin </span><span style="color:#F286C4;">!=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">null</span><span style="color:#F6F6F4;">, User</span><span style="color:#F286C4;">::</span><span style="color:#F6F6F4;">getAge, ageBegin)</span></span>
<span class="line"><span style="color:#F6F6F4;">        .</span><span style="color:#62E884;">le</span><span style="color:#F6F6F4;">(ageEnd </span><span style="color:#F286C4;">!=</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">null</span><span style="color:#F6F6F4;">, User</span><span style="color:#F286C4;">::</span><span style="color:#F6F6F4;">getAge, ageEnd);</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">List</span><span style="color:#F6F6F4;">&lt;User&gt; list </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> userMapper.</span><span style="color:#62E884;">selectList</span><span style="color:#F6F6F4;">(queryWrapper);</span></span>
<span class="line"><span style="color:#F6F6F4;">    list.</span><span style="color:#62E884;">forEach</span><span style="color:#F6F6F4;">(System.out</span><span style="color:#F286C4;">::</span><span style="color:#F6F6F4;">println);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test11</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    String username </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;a&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    Integer ageBegin </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    Integer ageEnd </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">30</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    LambdaQueryWrapper&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; queryWrapper </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> LambdaQueryWrapper&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">    queryWrapper.</span><span style="color:#6F42C1;">like</span><span style="color:#24292E;">(StringUtils.</span><span style="color:#6F42C1;">isNotBlank</span><span style="color:#24292E;">(username), User</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">getName, username)</span></span>
<span class="line"><span style="color:#24292E;">        .</span><span style="color:#6F42C1;">ge</span><span style="color:#24292E;">(ageBegin </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">, User</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">getAge, ageBegin)</span></span>
<span class="line"><span style="color:#24292E;">        .</span><span style="color:#6F42C1;">le</span><span style="color:#24292E;">(ageEnd </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">, User</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">getAge, ageEnd);</span></span>
<span class="line"><span style="color:#24292E;">    List&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; list </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> userMapper.</span><span style="color:#6F42C1;">selectList</span><span style="color:#24292E;">(queryWrapper);</span></span>
<span class="line"><span style="color:#24292E;">    list.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">(System.out</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">println);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h2 id="_6-lambdaupdatewrapper" tabindex="-1">6.LambdaUpdateWrapper <a class="header-anchor" href="#_6-lambdaupdatewrapper" aria-label="Permalink to &quot;6.LambdaUpdateWrapper&quot;">​</a></h2><blockquote><p>功能等同于 UpdateWrapper，提供了 Lambda 表达式的语法可以避免填错列名。</p></blockquote><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">test12</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//将用户名中包含有a并且（年龄大于20或邮箱为null）的用户信息修改</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">LambdaUpdateWrapper</span><span style="color:#F6F6F4;">&lt;User&gt; updateWrapper </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">LambdaUpdateWrapper</span><span style="color:#F6F6F4;">&lt;&gt;();</span></span>
<span class="line"><span style="color:#F6F6F4;">    updateWrapper.</span><span style="color:#62E884;">like</span><span style="color:#F6F6F4;">(User</span><span style="color:#F286C4;">::</span><span style="color:#F6F6F4;">getName, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">a</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">        .</span><span style="color:#62E884;">and</span><span style="color:#F6F6F4;">(i </span><span style="color:#97E1F1;font-style:italic;">-&gt;</span><span style="color:#F6F6F4;"> i.</span><span style="color:#62E884;">gt</span><span style="color:#F6F6F4;">(User</span><span style="color:#F286C4;">::</span><span style="color:#F6F6F4;">getAge, </span><span style="color:#BF9EEE;">20</span><span style="color:#F6F6F4;">).</span><span style="color:#62E884;">or</span><span style="color:#F6F6F4;">().</span><span style="color:#62E884;">isNull</span><span style="color:#F6F6F4;">(User</span><span style="color:#F286C4;">::</span><span style="color:#F6F6F4;">getEmail));</span></span>
<span class="line"><span style="color:#F6F6F4;">    updateWrapper.</span><span style="color:#62E884;">set</span><span style="color:#F6F6F4;">(User</span><span style="color:#F286C4;">::</span><span style="color:#F6F6F4;">getName, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">小黑</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">).</span><span style="color:#62E884;">set</span><span style="color:#F6F6F4;">(User</span><span style="color:#F286C4;">::</span><span style="color:#F6F6F4;">getEmail,</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">abc@atguigu.com</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">int</span><span style="color:#F6F6F4;"> result </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> userMapper.</span><span style="color:#62E884;">update</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">null</span><span style="color:#F6F6F4;">, updateWrapper);</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">result：</span><span style="color:#DEE492;">&quot;</span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;">result);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test12</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//将用户名中包含有a并且（年龄大于20或邮箱为null）的用户信息修改</span></span>
<span class="line"><span style="color:#24292E;">    LambdaUpdateWrapper&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; updateWrapper </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> LambdaUpdateWrapper&lt;&gt;();</span></span>
<span class="line"><span style="color:#24292E;">    updateWrapper.</span><span style="color:#6F42C1;">like</span><span style="color:#24292E;">(User</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">getName, </span><span style="color:#032F62;">&quot;a&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">        .</span><span style="color:#6F42C1;">and</span><span style="color:#24292E;">(i </span><span style="color:#D73A49;">-&gt;</span><span style="color:#24292E;"> i.</span><span style="color:#6F42C1;">gt</span><span style="color:#24292E;">(User</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">getAge, </span><span style="color:#005CC5;">20</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">or</span><span style="color:#24292E;">().</span><span style="color:#6F42C1;">isNull</span><span style="color:#24292E;">(User</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">getEmail));</span></span>
<span class="line"><span style="color:#24292E;">    updateWrapper.</span><span style="color:#6F42C1;">set</span><span style="color:#24292E;">(User</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">getName, </span><span style="color:#032F62;">&quot;小黑&quot;</span><span style="color:#24292E;">).</span><span style="color:#6F42C1;">set</span><span style="color:#24292E;">(User</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">getEmail,</span><span style="color:#032F62;">&quot;abc@atguigu.com&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> userMapper.</span><span style="color:#6F42C1;">update</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">null</span><span style="color:#24292E;">, updateWrapper);</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;result：&quot;</span><span style="color:#D73A49;">+</span><span style="color:#24292E;">result);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h1 id="六、常用插件" tabindex="-1">六、常用插件 <a class="header-anchor" href="#六、常用插件" aria-label="Permalink to &quot;六、常用插件&quot;">​</a></h1><h2 id="_1-分页插件" tabindex="-1">1.分页插件 <a class="header-anchor" href="#_1-分页插件" aria-label="Permalink to &quot;1.分页插件&quot;">​</a></h2><blockquote><p>MyBatis Plus 自带分页插件，只要简单的配置即可实现分页功能</p></blockquote><ul><li><p><strong>添加配置类<code>MyBatisPlusConfig</code></strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">Configuration</span></span>
<span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">MapperScan</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">com.atguigu.mybatisplus.mapper</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">class</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">MyBatisPlusConfig</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    @</span><span style="color:#97E1F1;font-style:italic;">Bean</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">MybatisPlusInterceptor</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">mybatisPlusInterceptor</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#97E1F1;font-style:italic;">MybatisPlusInterceptor</span><span style="color:#F6F6F4;"> interceptor </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">MybatisPlusInterceptor</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#7B7F8B;">//添加分页插件</span></span>
<span class="line"><span style="color:#F6F6F4;">        interceptor.</span><span style="color:#62E884;">addInnerInterceptor</span><span style="color:#F6F6F4;">(</span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">PaginationInnerInterceptor</span><span style="color:#F6F6F4;">(DbType.MYSQL));</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> interceptor;</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Configuration</span></span>
<span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">MapperScan</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;com.atguigu.mybatisplus.mapper&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">MyBatisPlusConfig</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Bean</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> MybatisPlusInterceptor </span><span style="color:#6F42C1;">mybatisPlusInterceptor</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">        MybatisPlusInterceptor interceptor </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">MybatisPlusInterceptor</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">//添加分页插件</span></span>
<span class="line"><span style="color:#24292E;">        interceptor.</span><span style="color:#6F42C1;">addInnerInterceptor</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">PaginationInnerInterceptor</span><span style="color:#24292E;">(DbType.MYSQL));</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> interceptor;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div></li><li><p><strong>编写测试方法</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">Test</span></span>
<span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">testPage</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//new Page()中的两个参数分别是当前页码，每页显示数量</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">Page</span><span style="color:#F6F6F4;">&lt;User&gt; page </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> userMapper.</span><span style="color:#62E884;">selectPage</span><span style="color:#F6F6F4;">(</span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Page</span><span style="color:#F6F6F4;">&lt;&gt;(</span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">2</span><span style="color:#F6F6F4;">), </span><span style="color:#BF9EEE;">null</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">List</span><span style="color:#F6F6F4;">&lt;User&gt; users </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> page.</span><span style="color:#62E884;">getRecords</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">    users.</span><span style="color:#62E884;">forEach</span><span style="color:#F6F6F4;">(System.out</span><span style="color:#F286C4;">::</span><span style="color:#F6F6F4;">println);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Test</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">testPage</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//new Page()中的两个参数分别是当前页码，每页显示数量</span></span>
<span class="line"><span style="color:#24292E;">    Page&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; page </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> userMapper.</span><span style="color:#6F42C1;">selectPage</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> Page&lt;&gt;(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">2</span><span style="color:#24292E;">), </span><span style="color:#005CC5;">null</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    List&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; users </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> page.</span><span style="color:#6F42C1;">getRecords</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    users.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">(System.out</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">println);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div></li></ul><h2 id="_2-自定义分页" tabindex="-1">2.自定义分页 <a class="header-anchor" href="#_2-自定义分页" aria-label="Permalink to &quot;2.自定义分页&quot;">​</a></h2><blockquote><p>上面调用的是 MyBatis-Plus 提供的带有分页的方法，那么我们自己定义的方法如何实现分页呢？</p></blockquote><ul><li><p><strong>在<code>UserMapper</code>接口中定义一个方法</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">/**</span></span>
<span class="line"><span style="color:#7B7F8B;">  * 根据年龄查询用户列表，分页显示</span></span>
<span class="line"><span style="color:#7B7F8B;">  * </span><span style="color:#F286C4;">@param</span><span style="color:#7B7F8B;"> </span><span style="color:#FFB86C;font-style:italic;">page</span><span style="color:#7B7F8B;"> 分页对象,xml中可以从里面进行取值,传递参数 Page 即自动分页,必须放在第一位</span></span>
<span class="line"><span style="color:#7B7F8B;">  * </span><span style="color:#F286C4;">@param</span><span style="color:#7B7F8B;"> </span><span style="color:#FFB86C;font-style:italic;">age</span><span style="color:#7B7F8B;"> 年龄</span></span>
<span class="line"><span style="color:#7B7F8B;">  * </span><span style="color:#F286C4;">@return</span></span>
<span class="line"><span style="color:#7B7F8B;">  */</span></span>
<span class="line"><span style="color:#97E1F1;font-style:italic;">Page</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">User</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">selectPageVo</span><span style="color:#F6F6F4;">(@</span><span style="color:#97E1F1;font-style:italic;">Param</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">page</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">) </span><span style="color:#97E1F1;font-style:italic;">Page</span><span style="color:#F286C4;">&lt;</span><span style="color:#F6F6F4;">User</span><span style="color:#F286C4;">&gt;</span><span style="color:#F6F6F4;"> page,@</span><span style="color:#97E1F1;font-style:italic;">Param</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">age</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">) </span><span style="color:#97E1F1;font-style:italic;">Integer</span><span style="color:#F6F6F4;"> age);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;">  * 根据年龄查询用户列表，分页显示</span></span>
<span class="line"><span style="color:#6A737D;">  * </span><span style="color:#D73A49;">@param</span><span style="color:#6A737D;"> </span><span style="color:#E36209;">page</span><span style="color:#6A737D;"> 分页对象,xml中可以从里面进行取值,传递参数 Page 即自动分页,必须放在第一位</span></span>
<span class="line"><span style="color:#6A737D;">  * </span><span style="color:#D73A49;">@param</span><span style="color:#6A737D;"> </span><span style="color:#E36209;">age</span><span style="color:#6A737D;"> 年龄</span></span>
<span class="line"><span style="color:#6A737D;">  * </span><span style="color:#D73A49;">@return</span></span>
<span class="line"><span style="color:#6A737D;">  */</span></span>
<span class="line"><span style="color:#24292E;">Page</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">User</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">selectPageVo</span><span style="color:#24292E;">(@</span><span style="color:#D73A49;">Param</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;page&quot;</span><span style="color:#24292E;">) Page</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">User</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> page,@</span><span style="color:#D73A49;">Param</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;age&quot;</span><span style="color:#24292E;">) Integer age);</span></span></code></pre></div></li><li><p><strong>在<code>UserMapper.xml</code>中编写 SQL 实现该方法</strong></p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">&lt;</span><span style="color:#F286C4;">select</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;font-style:italic;">id</span><span style="color:#F6F6F4;">=</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">selectPageVo</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;font-style:italic;">resultType</span><span style="color:#F6F6F4;">=</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">User</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">    select id,username as name,age,email from t_user where age &gt; #{age}</span></span>
<span class="line"><span style="color:#F6F6F4;">&lt;/</span><span style="color:#F286C4;">select</span><span style="color:#F6F6F4;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">select</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">id</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;selectPageVo&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">resultType</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;User&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    select id,username as name,age,email from t_user where age &gt; #{age}</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">select</span><span style="color:#24292E;">&gt;</span></span></code></pre></div></li><li><p><strong>编写测试方法</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">Test</span></span>
<span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">testPageVo</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">Page</span><span style="color:#F6F6F4;">&lt;User&gt; page </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> userMapper.</span><span style="color:#62E884;">selectPageVo</span><span style="color:#F6F6F4;">(</span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Page</span><span style="color:#F6F6F4;">&lt;User&gt;(</span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">,</span><span style="color:#BF9EEE;">2</span><span style="color:#F6F6F4;">), </span><span style="color:#BF9EEE;">20</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">List</span><span style="color:#F6F6F4;">&lt;User&gt; users </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> page.</span><span style="color:#62E884;">getRecords</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">    users.</span><span style="color:#62E884;">forEach</span><span style="color:#F6F6F4;">(System.out</span><span style="color:#F286C4;">::</span><span style="color:#F6F6F4;">println);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Test</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">testPageVo</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    Page&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; page </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> userMapper.</span><span style="color:#6F42C1;">selectPageVo</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> Page&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt;(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">,</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">), </span><span style="color:#005CC5;">20</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    List&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; users </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> page.</span><span style="color:#6F42C1;">getRecords</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    users.</span><span style="color:#6F42C1;">forEach</span><span style="color:#24292E;">(System.out</span><span style="color:#D73A49;">::</span><span style="color:#24292E;">println);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div></li></ul><h2 id="_3-乐观锁" tabindex="-1">3.乐观锁 <a class="header-anchor" href="#_3-乐观锁" aria-label="Permalink to &quot;3.乐观锁&quot;">​</a></h2><blockquote><p><strong>作用：当要更新一条记录的时候，希望这条记录没有被别人更新</strong></p></blockquote><p>乐观锁的实现方式：</p><ul><li>取出记录时，获取当前 version</li><li>更新时，带上这个 version</li><li>执行更新时， set version = newVersion where version = oldVersion</li><li>如果 version 不对，就更新失败</li></ul><h3 id="_3-1-场景" tabindex="-1">3.1 场景 <a class="header-anchor" href="#_3-1-场景" aria-label="Permalink to &quot;3.1 场景&quot;">​</a></h3><hr><ul><li>一件商品，成本价是 80 元，售价是 100 元。老板先是通知小李，说你去把商品价格增加 50 元。小李正在玩游戏，耽搁了一个小时。正好一个小时后，老板觉得商品价格增加到 150 元，价格太高，可能会影响销量。又通知小王，你把商品价格降低 30 元。</li><li>此时，小李和小王同时操作商品后台系统。小李操作的时候，系统先取出商品价格 100 元；小王也在操作，取出的商品价格也是 100 元。小李将价格加了 50 元，并将 100+50=150 元存入了数据库；小王将商品减了 30 元，并将 100-30=70 元存入了数据库。是的，如果没有锁，小李的操作就完全被小王的覆盖了。</li><li>现在商品价格是 70 元，比成本价低 10 元。几分钟后，这个商品很快出售了 1 千多件商品，老板亏 1 万多。</li></ul><h3 id="_3-2-乐观锁与悲观锁" tabindex="-1">3.2 乐观锁与悲观锁 <a class="header-anchor" href="#_3-2-乐观锁与悲观锁" aria-label="Permalink to &quot;3.2 乐观锁与悲观锁&quot;">​</a></h3><hr><ul><li>上面的故事，如果是乐观锁，小王保存价格前，会检查下价格是否被人修改过了。如果被修改过了，则重新取出的被修改后的价格，150 元，这样他会将 120 元存入数据库。</li><li>如果是悲观锁，小李取出数据后，小王只能等小李操作完之后，才能对价格进行操作，也会保证最终的价格是 120 元。</li></ul><h3 id="_3-3-模拟修改冲突" tabindex="-1">3.3 模拟修改冲突 <a class="header-anchor" href="#_3-3-模拟修改冲突" aria-label="Permalink to &quot;3.3 模拟修改冲突&quot;">​</a></h3><hr><ul><li><p><strong>数据库中增加商品表</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">CREATE</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">TABLE</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">t_product</span><span style="color:#F6F6F4;"> (</span></span>
<span class="line"><span style="color:#F6F6F4;">    id </span><span style="color:#F286C4;">BIGINT</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">20</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">NOT NULL</span><span style="color:#F6F6F4;"> COMMENT </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">主键ID</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">NAME</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">VARCHAR</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">30</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">NULL</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">DEFAULT</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">NULL</span><span style="color:#F6F6F4;"> COMMENT </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">商品名称</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">    price </span><span style="color:#F286C4;">INT</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">11</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">DEFAULT</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;"> COMMENT </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">价格</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">VERSION</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">INT</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">11</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">DEFAULT</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;"> COMMENT </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">乐观锁版本号</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">PRIMARY KEY</span><span style="color:#F6F6F4;"> (id)</span></span>
<span class="line"><span style="color:#F6F6F4;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">t_product</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    id </span><span style="color:#D73A49;">BIGINT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;主键ID&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">NAME</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">30</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;商品名称&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    price </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">11</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;价格&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">VERSION</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">11</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;乐观锁版本号&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">PRIMARY KEY</span><span style="color:#24292E;"> (id)</span></span>
<span class="line"><span style="color:#24292E;">);</span></span></code></pre></div></li><li><p><strong>添加一条数据</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">INSERT INTO</span><span style="color:#F6F6F4;"> t_product (id, </span><span style="color:#F286C4;">NAME</span><span style="color:#F6F6F4;">, price) </span><span style="color:#F286C4;">VALUES</span><span style="color:#F6F6F4;"> (</span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">外星人笔记本</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">100</span><span style="color:#F6F6F4;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">INSERT INTO</span><span style="color:#24292E;"> t_product (id, </span><span style="color:#D73A49;">NAME</span><span style="color:#24292E;">, price) </span><span style="color:#D73A49;">VALUES</span><span style="color:#24292E;"> (</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;外星人笔记本&#39;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">100</span><span style="color:#24292E;">);</span></span></code></pre></div></li><li><p><strong>添加一个实体类<code>Product</code></strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">Data</span></span>
<span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">class</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">Product</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Long</span><span style="color:#F6F6F4;"> id;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">String</span><span style="color:#F6F6F4;"> name;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Integer</span><span style="color:#F6F6F4;"> price;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Integer</span><span style="color:#F6F6F4;"> version;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Data</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Product</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> Long id;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> String name;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> Integer price;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> Integer version;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div></li><li><p><strong>添加一个 Mapper 接口<code>ProductMapper</code></strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">interface</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">ProductMapper</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">extends</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">BaseMapper</span><span style="color:#F6F6F4;">&lt;Product&gt; {}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ProductMapper</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">BaseMapper</span><span style="color:#24292E;">&lt;</span><span style="color:#D73A49;">Product</span><span style="color:#24292E;">&gt; {}</span></span></code></pre></div></li><li><p><strong>测试方法</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">Test</span></span>
<span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">testProduct01</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//1.小李获取商品价格</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">Product</span><span style="color:#F6F6F4;"> productLi </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> productMapper.</span><span style="color:#62E884;">selectById</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">小李获取的商品价格为：</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> productLi.</span><span style="color:#62E884;">getPrice</span><span style="color:#F6F6F4;">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//2.小王获取商品价格</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">Product</span><span style="color:#F6F6F4;"> productWang </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> productMapper.</span><span style="color:#62E884;">selectById</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">小李获取的商品价格为：</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> productWang.</span><span style="color:#62E884;">getPrice</span><span style="color:#F6F6F4;">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//3.小李修改商品价格+50</span></span>
<span class="line"><span style="color:#F6F6F4;">    productLi.</span><span style="color:#62E884;">setPrice</span><span style="color:#F6F6F4;">(productLi.</span><span style="color:#62E884;">getPrice</span><span style="color:#F6F6F4;">()</span><span style="color:#F286C4;">+</span><span style="color:#BF9EEE;">50</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    productMapper.</span><span style="color:#62E884;">updateById</span><span style="color:#F6F6F4;">(productLi);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//4.小王修改商品价格-30</span></span>
<span class="line"><span style="color:#F6F6F4;">    productWang.</span><span style="color:#62E884;">setPrice</span><span style="color:#F6F6F4;">(productWang.</span><span style="color:#62E884;">getPrice</span><span style="color:#F6F6F4;">()</span><span style="color:#F286C4;">-</span><span style="color:#BF9EEE;">30</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    productMapper.</span><span style="color:#62E884;">updateById</span><span style="color:#F6F6F4;">(productWang);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//5.老板查询商品价格</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">Product</span><span style="color:#F6F6F4;"> productBoss </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> productMapper.</span><span style="color:#62E884;">selectById</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">老板获取的商品价格为：</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> productBoss.</span><span style="color:#62E884;">getPrice</span><span style="color:#F6F6F4;">());</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Test</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">testProduct01</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//1.小李获取商品价格</span></span>
<span class="line"><span style="color:#24292E;">    Product productLi </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> productMapper.</span><span style="color:#6F42C1;">selectById</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;小李获取的商品价格为：&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> productLi.</span><span style="color:#6F42C1;">getPrice</span><span style="color:#24292E;">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//2.小王获取商品价格</span></span>
<span class="line"><span style="color:#24292E;">    Product productWang </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> productMapper.</span><span style="color:#6F42C1;">selectById</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;小李获取的商品价格为：&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> productWang.</span><span style="color:#6F42C1;">getPrice</span><span style="color:#24292E;">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//3.小李修改商品价格+50</span></span>
<span class="line"><span style="color:#24292E;">    productLi.</span><span style="color:#6F42C1;">setPrice</span><span style="color:#24292E;">(productLi.</span><span style="color:#6F42C1;">getPrice</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">50</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    productMapper.</span><span style="color:#6F42C1;">updateById</span><span style="color:#24292E;">(productLi);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//4.小王修改商品价格-30</span></span>
<span class="line"><span style="color:#24292E;">    productWang.</span><span style="color:#6F42C1;">setPrice</span><span style="color:#24292E;">(productWang.</span><span style="color:#6F42C1;">getPrice</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">30</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    productMapper.</span><span style="color:#6F42C1;">updateById</span><span style="color:#24292E;">(productWang);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//5.老板查询商品价格</span></span>
<span class="line"><span style="color:#24292E;">    Product productBoss </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> productMapper.</span><span style="color:#6F42C1;">selectById</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;老板获取的商品价格为：&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> productBoss.</span><span style="color:#6F42C1;">getPrice</span><span style="color:#24292E;">());</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div></li><li><p><strong>执行结果</strong></p><img src="`+v+`"></li></ul><h3 id="_3-4-乐观锁解决问题" tabindex="-1">3.4 乐观锁解决问题 <a class="header-anchor" href="#_3-4-乐观锁解决问题" aria-label="Permalink to &quot;3.4 乐观锁解决问题&quot;">​</a></h3><hr><ul><li><p><strong>实体类<code>version</code>字段添加注解<code>@Version</code></strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">Data</span></span>
<span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">class</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">Product</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Long</span><span style="color:#F6F6F4;"> id;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">String</span><span style="color:#F6F6F4;"> name;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Integer</span><span style="color:#F6F6F4;"> price;</span></span>
<span class="line"><span style="color:#F6F6F4;">    @</span><span style="color:#97E1F1;font-style:italic;">Version</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Integer</span><span style="color:#F6F6F4;"> version;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Data</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Product</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> Long id;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> String name;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> Integer price;</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">Version</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> Integer version;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div></li><li><p><strong>添加乐观锁插件配置</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">Bean</span></span>
<span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">MybatisPlusInterceptor</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">mybatisPlusInterceptor</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">MybatisPlusInterceptor</span><span style="color:#F6F6F4;"> interceptor </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">MybatisPlusInterceptor</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//添加分页插件</span></span>
<span class="line"><span style="color:#F6F6F4;">    interceptor.</span><span style="color:#62E884;">addInnerInterceptor</span><span style="color:#F6F6F4;">(</span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">PaginationInnerInterceptor</span><span style="color:#F6F6F4;">(DbType.MYSQL));</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//添加乐观锁插件</span></span>
<span class="line"><span style="color:#F6F6F4;">    interceptor.</span><span style="color:#62E884;">addInnerInterceptor</span><span style="color:#F6F6F4;">(</span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">OptimisticLockerInnerInterceptor</span><span style="color:#F6F6F4;">());</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">return</span><span style="color:#F6F6F4;"> interceptor;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Bean</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> MybatisPlusInterceptor </span><span style="color:#6F42C1;">mybatisPlusInterceptor</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    MybatisPlusInterceptor interceptor </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">MybatisPlusInterceptor</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//添加分页插件</span></span>
<span class="line"><span style="color:#24292E;">    interceptor.</span><span style="color:#6F42C1;">addInnerInterceptor</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">PaginationInnerInterceptor</span><span style="color:#24292E;">(DbType.MYSQL));</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//添加乐观锁插件</span></span>
<span class="line"><span style="color:#24292E;">    interceptor.</span><span style="color:#6F42C1;">addInnerInterceptor</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">OptimisticLockerInnerInterceptor</span><span style="color:#24292E;">());</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> interceptor;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div></li><li><p><strong>再次执行测试方法</strong></p><blockquote><p>小李查询商品信息：</p><p>SELECT id,name,price,version FROM t_product WHERE id=?</p><p>小王查询商品信息：</p><p>SELECT id,name,price,version FROM t_product WHERE id=?</p><p>小李修改商品价格，自动将 version+1</p><p>UPDATE t_product SET name=?, price=?, version=? WHERE id=? AND version=?</p><p>Parameters: 外星人笔记本(String), 150(Integer), 1(Integer), 1(Long), 0(Integer)</p><p>小王修改商品价格，此时 version 已更新，条件不成立，修改失败</p><p>UPDATE t_product SET name=?, price=?, version=? WHERE id=? AND version=?</p><p>Parameters: 外星人笔记本(String), 70(Integer), 1(Integer), 1(Long), 0(Integer)</p><p>最终，小王修改失败，查询价格：150</p><p>SELECT id,name,price,version FROM t_product WHERE id=?</p></blockquote></li><li><p><strong>优化执行流程</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">Test</span></span>
<span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">testProduct01</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//1.小李获取商品价格</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">Product</span><span style="color:#F6F6F4;"> productLi </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> productMapper.</span><span style="color:#62E884;">selectById</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">小李获取的商品价格为：</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> productLi.</span><span style="color:#62E884;">getPrice</span><span style="color:#F6F6F4;">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//2.小王获取商品价格</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">Product</span><span style="color:#F6F6F4;"> productWang </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> productMapper.</span><span style="color:#62E884;">selectById</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">小李获取的商品价格为：</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> productWang.</span><span style="color:#62E884;">getPrice</span><span style="color:#F6F6F4;">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//3.小李修改商品价格+50</span></span>
<span class="line"><span style="color:#F6F6F4;">    productLi.</span><span style="color:#62E884;">setPrice</span><span style="color:#F6F6F4;">(productLi.</span><span style="color:#62E884;">getPrice</span><span style="color:#F6F6F4;">()</span><span style="color:#F286C4;">+</span><span style="color:#BF9EEE;">50</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    productMapper.</span><span style="color:#62E884;">updateById</span><span style="color:#F6F6F4;">(productLi);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//4.小王修改商品价格-30</span></span>
<span class="line"><span style="color:#F6F6F4;">    productWang.</span><span style="color:#62E884;">setPrice</span><span style="color:#F6F6F4;">(productWang.</span><span style="color:#62E884;">getPrice</span><span style="color:#F6F6F4;">()</span><span style="color:#F286C4;">-</span><span style="color:#BF9EEE;">30</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">int</span><span style="color:#F6F6F4;"> result </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> productMapper.</span><span style="color:#62E884;">updateById</span><span style="color:#F6F6F4;">(productWang);</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">if</span><span style="color:#F6F6F4;">(result </span><span style="color:#F286C4;">==</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;">){</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#7B7F8B;">//操作失败，重试</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#97E1F1;font-style:italic;">Product</span><span style="color:#F6F6F4;"> productNew </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> productMapper.</span><span style="color:#62E884;">selectById</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">        productNew.</span><span style="color:#62E884;">setPrice</span><span style="color:#F6F6F4;">(productNew.</span><span style="color:#62E884;">getPrice</span><span style="color:#F6F6F4;">()</span><span style="color:#F286C4;">-</span><span style="color:#BF9EEE;">30</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">        productMapper.</span><span style="color:#62E884;">updateById</span><span style="color:#F6F6F4;">(productNew);</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">//5.老板查询商品价格</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">Product</span><span style="color:#F6F6F4;"> productBoss </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> productMapper.</span><span style="color:#62E884;">selectById</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">老板获取的商品价格为：</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> productBoss.</span><span style="color:#62E884;">getPrice</span><span style="color:#F6F6F4;">());</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Test</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">testProduct01</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//1.小李获取商品价格</span></span>
<span class="line"><span style="color:#24292E;">    Product productLi </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> productMapper.</span><span style="color:#6F42C1;">selectById</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;小李获取的商品价格为：&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> productLi.</span><span style="color:#6F42C1;">getPrice</span><span style="color:#24292E;">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//2.小王获取商品价格</span></span>
<span class="line"><span style="color:#24292E;">    Product productWang </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> productMapper.</span><span style="color:#6F42C1;">selectById</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;小李获取的商品价格为：&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> productWang.</span><span style="color:#6F42C1;">getPrice</span><span style="color:#24292E;">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//3.小李修改商品价格+50</span></span>
<span class="line"><span style="color:#24292E;">    productLi.</span><span style="color:#6F42C1;">setPrice</span><span style="color:#24292E;">(productLi.</span><span style="color:#6F42C1;">getPrice</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">+</span><span style="color:#005CC5;">50</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    productMapper.</span><span style="color:#6F42C1;">updateById</span><span style="color:#24292E;">(productLi);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//4.小王修改商品价格-30</span></span>
<span class="line"><span style="color:#24292E;">    productWang.</span><span style="color:#6F42C1;">setPrice</span><span style="color:#24292E;">(productWang.</span><span style="color:#6F42C1;">getPrice</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">30</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> productMapper.</span><span style="color:#6F42C1;">updateById</span><span style="color:#24292E;">(productWang);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">if</span><span style="color:#24292E;">(result </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">){</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">//操作失败，重试</span></span>
<span class="line"><span style="color:#24292E;">        Product productNew </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> productMapper.</span><span style="color:#6F42C1;">selectById</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">        productNew.</span><span style="color:#6F42C1;">setPrice</span><span style="color:#24292E;">(productNew.</span><span style="color:#6F42C1;">getPrice</span><span style="color:#24292E;">()</span><span style="color:#D73A49;">-</span><span style="color:#005CC5;">30</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">        productMapper.</span><span style="color:#6F42C1;">updateById</span><span style="color:#24292E;">(productNew);</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">//5.老板查询商品价格</span></span>
<span class="line"><span style="color:#24292E;">    Product productBoss </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> productMapper.</span><span style="color:#6F42C1;">selectById</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;老板获取的商品价格为：&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> productBoss.</span><span style="color:#6F42C1;">getPrice</span><span style="color:#24292E;">());</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><img src="`+q+'"></li></ul><h1 id="七、通用枚举" tabindex="-1">七、通用枚举 <a class="header-anchor" href="#七、通用枚举" aria-label="Permalink to &quot;七、通用枚举&quot;">​</a></h1><blockquote><p>表中的有些字段值是固定的，例如性别（男或女），此时我们可以使用 MyBatis-Plus 的通用枚举来实现</p></blockquote><ul><li><p><strong>数据库表添加字段<code>sex</code></strong></p><img src="'+f+`"></li><li><p><strong>创建通用枚举类型</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">Getter</span></span>
<span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">enum</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">SexEnum</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#BF9EEE;">MALE</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">男</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">),</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#BF9EEE;">FEMALE</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">2</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">女</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    @</span><span style="color:#97E1F1;font-style:italic;">EnumValue</span><span style="color:#F6F6F4;"> </span><span style="color:#7B7F8B;">//将注解所标识的属性的值存储到数据库中</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">int</span><span style="color:#F6F6F4;"> sex;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">String</span><span style="color:#F6F6F4;"> sexName;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#62E884;">SexEnum</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">Integer</span><span style="color:#F6F6F4;"> </span><span style="color:#FFB86C;font-style:italic;">sex</span><span style="color:#F6F6F4;">, </span><span style="color:#97E1F1;font-style:italic;">String</span><span style="color:#F6F6F4;"> </span><span style="color:#FFB86C;font-style:italic;">sexName</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.sex </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> sex;</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#BF9EEE;font-style:italic;">this</span><span style="color:#F6F6F4;">.sexName </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> sexName;</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Getter</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">enum</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">SexEnum</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">MALE</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;男&quot;</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">FEMALE</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">2</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;女&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">EnumValue</span><span style="color:#24292E;"> </span><span style="color:#6A737D;">//将注解所标识的属性的值存储到数据库中</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> sex;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> String sexName;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">SexEnum</span><span style="color:#24292E;">(Integer </span><span style="color:#E36209;">sex</span><span style="color:#24292E;">, String </span><span style="color:#E36209;">sexName</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.sex </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> sex;</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.sexName </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> sexName;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div></li><li><p><strong>User 实体类中添加属性 sex</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">class</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">User</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Long</span><span style="color:#F6F6F4;"> id;</span></span>
<span class="line"><span style="color:#F6F6F4;">    @</span><span style="color:#97E1F1;font-style:italic;">TableField</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">username</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">String</span><span style="color:#F6F6F4;"> name;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Integer</span><span style="color:#F6F6F4;"> age;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">String</span><span style="color:#F6F6F4;"> email;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    @</span><span style="color:#97E1F1;font-style:italic;">TableLogic</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">int</span><span style="color:#F6F6F4;"> isDeleted;  </span><span style="color:#7B7F8B;">//逻辑删除</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">SexEnum</span><span style="color:#F6F6F4;"> sex;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">User</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> Long id;</span></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">TableField</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;username&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> String name;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> Integer age;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> String email;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    @</span><span style="color:#D73A49;">TableLogic</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> isDeleted;  </span><span style="color:#6A737D;">//逻辑删除</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> SexEnum sex;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div></li><li><p><strong>配置扫描通用枚举</strong></p><div class="language-yml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#7B7F8B;">#MyBatis-Plus相关配置</span></span>
<span class="line"><span style="color:#97E1F1;">mybatis-plus</span><span style="color:#F286C4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#7B7F8B;">#指定mapper文件所在的地址</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">mapper-locations</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">classpath:mapper/*.xml</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">configuration</span><span style="color:#F286C4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#7B7F8B;">#配置日志</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;">log-impl</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">org.apache.ibatis.logging.stdout.StdOutImpl</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">global-config</span><span style="color:#F286C4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;">banner</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">off</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;">db-config</span><span style="color:#F286C4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;">#配置mp的主键策略为自增</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#97E1F1;">id-type</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">auto</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;"># 设置实体类所对应的表的统一前缀</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#97E1F1;">table-prefix</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">t_</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#7B7F8B;">#配置类型别名所对应的包</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">type-aliases-package</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">com.atguigu.mybatisplus.pojo</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#7B7F8B;"># 扫描通用枚举的包</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">type-enums-package</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">com.atguigu.mybatisplus.enums</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">#MyBatis-Plus相关配置</span></span>
<span class="line"><span style="color:#22863A;">mybatis-plus</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">#指定mapper文件所在的地址</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">mapper-locations</span><span style="color:#24292E;">: </span><span style="color:#032F62;">classpath:mapper/*.xml</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">configuration</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">#配置日志</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">log-impl</span><span style="color:#24292E;">: </span><span style="color:#032F62;">org.apache.ibatis.logging.stdout.StdOutImpl</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">global-config</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">banner</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">off</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">db-config</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;">#配置mp的主键策略为自增</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">id-type</span><span style="color:#24292E;">: </span><span style="color:#032F62;">auto</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;"># 设置实体类所对应的表的统一前缀</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">table-prefix</span><span style="color:#24292E;">: </span><span style="color:#032F62;">t_</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">#配置类型别名所对应的包</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">type-aliases-package</span><span style="color:#24292E;">: </span><span style="color:#032F62;">com.atguigu.mybatisplus.pojo</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;"># 扫描通用枚举的包</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">type-enums-package</span><span style="color:#24292E;">: </span><span style="color:#032F62;">com.atguigu.mybatisplus.enums</span></span></code></pre></div></li><li><p><strong>执行测试方法</strong></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">Test</span></span>
<span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">test</span><span style="color:#F6F6F4;">(){</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">User</span><span style="color:#F6F6F4;"> user </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">User</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">    user.</span><span style="color:#62E884;">setName</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">admin</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    user.</span><span style="color:#62E884;">setAge</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">33</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">    user.</span><span style="color:#62E884;">setSex</span><span style="color:#F6F6F4;">(SexEnum.MALE);</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;font-style:italic;">int</span><span style="color:#F6F6F4;"> result </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> userMapper.</span><span style="color:#62E884;">insert</span><span style="color:#F6F6F4;">(user);</span></span>
<span class="line"><span style="color:#F6F6F4;">    System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">result:</span><span style="color:#DEE492;">&quot;</span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;">result);</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Test</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">test</span><span style="color:#24292E;">(){</span></span>
<span class="line"><span style="color:#24292E;">    User user </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">User</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">    user.</span><span style="color:#6F42C1;">setName</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;admin&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    user.</span><span style="color:#6F42C1;">setAge</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">33</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">    user.</span><span style="color:#6F42C1;">setSex</span><span style="color:#24292E;">(SexEnum.MALE);</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">int</span><span style="color:#24292E;"> result </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> userMapper.</span><span style="color:#6F42C1;">insert</span><span style="color:#24292E;">(user);</span></span>
<span class="line"><span style="color:#24292E;">    System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;result:&quot;</span><span style="color:#D73A49;">+</span><span style="color:#24292E;">result);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div></li></ul><h1 id="八、多数据源" tabindex="-1">八、多数据源 <a class="header-anchor" href="#八、多数据源" aria-label="Permalink to &quot;八、多数据源&quot;">​</a></h1><blockquote><p>适用于多种场景：纯粹多库、 读写分离、 一主多从、 混合模式等</p></blockquote><p>场景说明：</p><p>我们创建两个库，分别为：<code>mybatis_plus</code>（以前的库不动）与<code>mybatis_plus_1</code>（新建），将 mybatis_plus 库的<code>product</code>表移动到 mybatis_plus_1 库，这样每个库一张表，通过一个测试用例分别获取用户数据与商品数据，如果获取到说明多库模拟成功</p><h2 id="_1-创建数据库及表" tabindex="-1">1.创建数据库及表 <a class="header-anchor" href="#_1-创建数据库及表" aria-label="Permalink to &quot;1.创建数据库及表&quot;">​</a></h2><ul><li><p><strong>创建数据库<code>mybatis_plus_1</code>和表\`product</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">CREATE</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">DATABASE</span><span style="color:#F6F6F4;"> \`</span><span style="color:#62E884;">mybatis_plus_1</span><span style="color:#F6F6F4;">\` </span><span style="color:#7B7F8B;">/*!40100 DEFAULT CHARACTER SET utf8mb4 */</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F286C4;">use</span><span style="color:#F6F6F4;"> </span><span style="color:#DEE492;">\`</span><span style="color:#E7EE98;">mybatis_plus_1</span><span style="color:#DEE492;">\`</span><span style="color:#F6F6F4;">;</span></span>
<span class="line"><span style="color:#F286C4;">CREATE</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">TABLE</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">product</span><span style="color:#F6F6F4;"> (</span></span>
<span class="line"><span style="color:#F6F6F4;">    id </span><span style="color:#F286C4;">BIGINT</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">20</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">NOT NULL</span><span style="color:#F6F6F4;"> COMMENT </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">主键ID</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">name</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">VARCHAR</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">30</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">NULL</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">DEFAULT</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">NULL</span><span style="color:#F6F6F4;"> COMMENT </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">商品名称</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">    price </span><span style="color:#F286C4;">INT</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">11</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">DEFAULT</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;"> COMMENT </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">价格</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">version</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">INT</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">11</span><span style="color:#F6F6F4;">) </span><span style="color:#F286C4;">DEFAULT</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">0</span><span style="color:#F6F6F4;"> COMMENT </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">乐观锁版本号</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">,</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">PRIMARY KEY</span><span style="color:#F6F6F4;"> (id)</span></span>
<span class="line"><span style="color:#F6F6F4;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DATABASE</span><span style="color:#24292E;"> \`</span><span style="color:#6F42C1;">mybatis_plus_1</span><span style="color:#24292E;">\` </span><span style="color:#6A737D;">/*!40100 DEFAULT CHARACTER SET utf8mb4 */</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">use</span><span style="color:#24292E;"> </span><span style="color:#032F62;">\`mybatis_plus_1\`</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#D73A49;">CREATE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">product</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    id </span><span style="color:#D73A49;">BIGINT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">20</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NOT NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;主键ID&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">name</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">VARCHAR</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">30</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">NULL</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;商品名称&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    price </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">11</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;价格&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">version</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">INT</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">11</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">DEFAULT</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> COMMENT </span><span style="color:#032F62;">&#39;乐观锁版本号&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">PRIMARY KEY</span><span style="color:#24292E;"> (id)</span></span>
<span class="line"><span style="color:#24292E;">);</span></span></code></pre></div></li><li><p><strong>添加测试数据</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">INSERT INTO</span><span style="color:#F6F6F4;"> product (id, </span><span style="color:#F286C4;">NAME</span><span style="color:#F6F6F4;">, price) </span><span style="color:#F286C4;">VALUES</span><span style="color:#F6F6F4;"> (</span><span style="color:#BF9EEE;">1</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&#39;</span><span style="color:#E7EE98;">外星人笔记本</span><span style="color:#DEE492;">&#39;</span><span style="color:#F6F6F4;">, </span><span style="color:#BF9EEE;">100</span><span style="color:#F6F6F4;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">INSERT INTO</span><span style="color:#24292E;"> product (id, </span><span style="color:#D73A49;">NAME</span><span style="color:#24292E;">, price) </span><span style="color:#D73A49;">VALUES</span><span style="color:#24292E;"> (</span><span style="color:#005CC5;">1</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&#39;外星人笔记本&#39;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">100</span><span style="color:#24292E;">);</span></span></code></pre></div></li><li><p><strong>删除<code>mybatis_plus</code>库中的<code>product</code>表</strong></p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">use</span><span style="color:#F6F6F4;"> mybatis_plus;</span></span>
<span class="line"><span style="color:#F286C4;">DROP</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">TABLE</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">IF</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">EXISTS</span><span style="color:#F6F6F4;"> product;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">use</span><span style="color:#24292E;"> mybatis_plus;</span></span>
<span class="line"><span style="color:#D73A49;">DROP</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">TABLE</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">IF</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">EXISTS</span><span style="color:#24292E;"> product;</span></span></code></pre></div></li></ul><h2 id="_2-新建工程引入依赖" tabindex="-1">2.新建工程引入依赖 <a class="header-anchor" href="#_2-新建工程引入依赖" aria-label="Permalink to &quot;2.新建工程引入依赖&quot;">​</a></h2><blockquote><p><strong>自行新建一个 Spring Boot 工程并选择 MySQL 驱动及 Lombok 依赖</strong></p></blockquote><p><strong>引入 MyBaits-Plus 的依赖及多数据源的依赖</strong></p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">&lt;</span><span style="color:#F286C4;">dependency</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">    &lt;</span><span style="color:#F286C4;">groupId</span><span style="color:#F6F6F4;">&gt;com.baomidou&lt;/</span><span style="color:#F286C4;">groupId</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">    &lt;</span><span style="color:#F286C4;">artifactId</span><span style="color:#F6F6F4;">&gt;mybatis-plus-boot-starter&lt;/</span><span style="color:#F286C4;">artifactId</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">    &lt;</span><span style="color:#F286C4;">version</span><span style="color:#F6F6F4;">&gt;3.5.1&lt;/</span><span style="color:#F286C4;">version</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">&lt;/</span><span style="color:#F286C4;">dependency</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">&lt;</span><span style="color:#F286C4;">dependency</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">    &lt;</span><span style="color:#F286C4;">groupId</span><span style="color:#F6F6F4;">&gt;com.baomidou&lt;/</span><span style="color:#F286C4;">groupId</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">    &lt;</span><span style="color:#F286C4;">artifactId</span><span style="color:#F6F6F4;">&gt;dynamic-datasource-spring-boot-starter&lt;/</span><span style="color:#F286C4;">artifactId</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">    &lt;</span><span style="color:#F286C4;">version</span><span style="color:#F6F6F4;">&gt;3.5.0&lt;/</span><span style="color:#F286C4;">version</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">&lt;/</span><span style="color:#F286C4;">dependency</span><span style="color:#F6F6F4;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">dependency</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">groupId</span><span style="color:#24292E;">&gt;com.baomidou&lt;/</span><span style="color:#22863A;">groupId</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">artifactId</span><span style="color:#24292E;">&gt;mybatis-plus-boot-starter&lt;/</span><span style="color:#22863A;">artifactId</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">version</span><span style="color:#24292E;">&gt;3.5.1&lt;/</span><span style="color:#22863A;">version</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">dependency</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">dependency</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">groupId</span><span style="color:#24292E;">&gt;com.baomidou&lt;/</span><span style="color:#22863A;">groupId</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">artifactId</span><span style="color:#24292E;">&gt;dynamic-datasource-spring-boot-starter&lt;/</span><span style="color:#22863A;">artifactId</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">version</span><span style="color:#24292E;">&gt;3.5.0&lt;/</span><span style="color:#22863A;">version</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">dependency</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><h2 id="_3-编写配置文件" tabindex="-1">3.编写配置文件 <a class="header-anchor" href="#_3-编写配置文件" aria-label="Permalink to &quot;3.编写配置文件&quot;">​</a></h2><div class="language-yml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#97E1F1;">spring</span><span style="color:#F286C4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#7B7F8B;"># 配置数据源信息</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">datasource</span><span style="color:#F286C4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;">dynamic</span><span style="color:#F286C4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;"># 设置默认的数据源或者数据源组,默认值即为master</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#97E1F1;">primary</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">master</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#7B7F8B;"># 严格匹配数据源,默认false.true未匹配到指定数据源时抛异常,false使用默认数据源</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#97E1F1;">strict</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">false</span></span>
<span class="line"><span style="color:#F6F6F4;">      </span><span style="color:#97E1F1;">datasource</span><span style="color:#F286C4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#97E1F1;">master</span><span style="color:#F286C4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#97E1F1;">url</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">jdbc:mysql://localhost:3306/mybatis_plus?characterEncoding=utf-8&amp;useSSL=false</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#97E1F1;">driver-class-name</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">com.mysql.cj.jdbc.Driver</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#97E1F1;">username</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">root</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#97E1F1;">password</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">132537</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#97E1F1;">slave_1</span><span style="color:#F286C4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#97E1F1;">url</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">jdbc:mysql://localhost:3306/mybatis_plus_1?characterEncoding=utf-8&amp;useSSL=false</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#97E1F1;">driver-class-name</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">com.mysql.cj.jdbc.Driver</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#97E1F1;">username</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">root</span></span>
<span class="line"><span style="color:#F6F6F4;">          </span><span style="color:#97E1F1;">password</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">132537</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#22863A;">spring</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;"># 配置数据源信息</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">datasource</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">dynamic</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;"># 设置默认的数据源或者数据源组,默认值即为master</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">primary</span><span style="color:#24292E;">: </span><span style="color:#032F62;">master</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#6A737D;"># 严格匹配数据源,默认false.true未匹配到指定数据源时抛异常,false使用默认数据源</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">strict</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#22863A;">datasource</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">master</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#22863A;">url</span><span style="color:#24292E;">: </span><span style="color:#032F62;">jdbc:mysql://localhost:3306/mybatis_plus?characterEncoding=utf-8&amp;useSSL=false</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#22863A;">driver-class-name</span><span style="color:#24292E;">: </span><span style="color:#032F62;">com.mysql.cj.jdbc.Driver</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#22863A;">username</span><span style="color:#24292E;">: </span><span style="color:#032F62;">root</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#22863A;">password</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">132537</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#22863A;">slave_1</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#22863A;">url</span><span style="color:#24292E;">: </span><span style="color:#032F62;">jdbc:mysql://localhost:3306/mybatis_plus_1?characterEncoding=utf-8&amp;useSSL=false</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#22863A;">driver-class-name</span><span style="color:#24292E;">: </span><span style="color:#032F62;">com.mysql.cj.jdbc.Driver</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#22863A;">username</span><span style="color:#24292E;">: </span><span style="color:#032F62;">root</span></span>
<span class="line"><span style="color:#24292E;">          </span><span style="color:#22863A;">password</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">132537</span></span></code></pre></div><h2 id="_4-创建实体类" tabindex="-1">4.创建实体类 <a class="header-anchor" href="#_4-创建实体类" aria-label="Permalink to &quot;4.创建实体类&quot;">​</a></h2><ul><li><p>新建一个<code>User</code>实体类（如果数据库表名有 t_前缀记得配置）</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">Data</span></span>
<span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">class</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">User</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Long</span><span style="color:#F6F6F4;"> id;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">String</span><span style="color:#F6F6F4;"> name;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Integer</span><span style="color:#F6F6F4;"> age;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">String</span><span style="color:#F6F6F4;"> email;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Data</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">User</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> Long id;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> String name;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> Integer age;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> String email;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div></li><li><p>新建一个实体类<code>Product</code></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">Data</span></span>
<span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">class</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">Product</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Long</span><span style="color:#F6F6F4;"> id;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">String</span><span style="color:#F6F6F4;"> name;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Integer</span><span style="color:#F6F6F4;"> price;</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">private</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">Integer</span><span style="color:#F6F6F4;"> version;</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">Data</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Product</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> Long id;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> String name;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> Integer price;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">private</span><span style="color:#24292E;"> Integer version;</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div></li></ul><h2 id="_5-创建-mapper-及-service" tabindex="-1">5.创建 Mapper 及 Service <a class="header-anchor" href="#_5-创建-mapper-及-service" aria-label="Permalink to &quot;5.创建 Mapper 及 Service&quot;">​</a></h2><ul><li><p>新建接口<code>UserMapper</code></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">interface</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">UserMapper</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">extends</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">BaseMapper</span><span style="color:#F6F6F4;">&lt;User&gt; {}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">UserMapper</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">BaseMapper</span><span style="color:#24292E;">&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; {}</span></span></code></pre></div></li><li><p>新建接口<code>ProductMapper</code></p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">interface</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">ProductMapper</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">extends</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">BaseMapper</span><span style="color:#F6F6F4;">&lt;Product&gt; {}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ProductMapper</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">BaseMapper</span><span style="color:#24292E;">&lt;</span><span style="color:#D73A49;">Product</span><span style="color:#24292E;">&gt; {}</span></span></code></pre></div></li><li><p>新建 Service 接口<code>UserService</code>指定操作的数据源</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">DS</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">master</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">) </span><span style="color:#7B7F8B;">//指定操作的数据源，master为user表</span></span>
<span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">interface</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">UserService</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">extends</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">IService</span><span style="color:#F6F6F4;">&lt;User&gt; {}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">DS</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;master&quot;</span><span style="color:#24292E;">) </span><span style="color:#6A737D;">//指定操作的数据源，master为user表</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">UserService</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">IService</span><span style="color:#24292E;">&lt;</span><span style="color:#D73A49;">User</span><span style="color:#24292E;">&gt; {}</span></span></code></pre></div></li><li><p>新建 Service 接口<code>ProductService</code>指定操作的数据源</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">@</span><span style="color:#97E1F1;font-style:italic;">DS</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">slave_1</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">interface</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">ProductService</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">extends</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">IService</span><span style="color:#F6F6F4;">&lt;Product&gt; {}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">@</span><span style="color:#D73A49;">DS</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;slave_1&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">interface</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">ProductService</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">extends</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">IService</span><span style="color:#24292E;">&lt;</span><span style="color:#D73A49;">Product</span><span style="color:#24292E;">&gt; {}</span></span></code></pre></div></li><li><p>自行建立 Service 的实现类</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">...</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">...</span></span></code></pre></div></li></ul><h2 id="_6-编写测试方法" tabindex="-1">6.编写测试方法 <a class="header-anchor" href="#_6-编写测试方法" aria-label="Permalink to &quot;6.编写测试方法&quot;">​</a></h2><blockquote><p><strong>记得在启动类中添加注解<code>@MapperScan()</code></strong></p></blockquote><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">class</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">TestDatasourceApplicationTests</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">	@</span><span style="color:#97E1F1;font-style:italic;">Resource</span></span>
<span class="line"><span style="color:#F6F6F4;">	</span><span style="color:#97E1F1;font-style:italic;">UserService</span><span style="color:#F6F6F4;"> userService;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">	@</span><span style="color:#97E1F1;font-style:italic;">Resource</span></span>
<span class="line"><span style="color:#F6F6F4;">	</span><span style="color:#97E1F1;font-style:italic;">ProductService</span><span style="color:#F6F6F4;"> productService;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">	@</span><span style="color:#97E1F1;font-style:italic;">Test</span></span>
<span class="line"><span style="color:#F6F6F4;">	</span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">contextLoads</span><span style="color:#F6F6F4;">() {</span></span>
<span class="line"><span style="color:#F6F6F4;">		</span><span style="color:#97E1F1;font-style:italic;">User</span><span style="color:#F6F6F4;"> user </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> userService.</span><span style="color:#62E884;">getById</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">1L</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">		</span><span style="color:#97E1F1;font-style:italic;">Product</span><span style="color:#F6F6F4;"> product </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> productService.</span><span style="color:#62E884;">getById</span><span style="color:#F6F6F4;">(</span><span style="color:#BF9EEE;">1L</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">		System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">User = </span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> user);</span></span>
<span class="line"><span style="color:#F6F6F4;">		System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">Product = </span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> product);</span></span>
<span class="line"><span style="color:#F6F6F4;">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">TestDatasourceApplicationTests</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">	@</span><span style="color:#D73A49;">Resource</span></span>
<span class="line"><span style="color:#24292E;">	UserService userService;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">	@</span><span style="color:#D73A49;">Resource</span></span>
<span class="line"><span style="color:#24292E;">	ProductService productService;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">	@</span><span style="color:#D73A49;">Test</span></span>
<span class="line"><span style="color:#24292E;">	</span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">contextLoads</span><span style="color:#24292E;">() {</span></span>
<span class="line"><span style="color:#24292E;">		User user </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> userService.</span><span style="color:#6F42C1;">getById</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1L</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">		Product product </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> productService.</span><span style="color:#6F42C1;">getById</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">1L</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">		System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;User = &quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> user);</span></span>
<span class="line"><span style="color:#24292E;">		System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;Product = &quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> product);</span></span>
<span class="line"><span style="color:#24292E;">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><img src="`+B+'"><h1 id="九、mybatisx-插件" tabindex="-1">九、MyBatisX 插件 <a class="header-anchor" href="#九、mybatisx-插件" aria-label="Permalink to &quot;九、MyBatisX 插件&quot;">​</a></h1><blockquote><p>MyBatis-Plus 为我们提供了强大的 mapper 和 service 模板，能够大大的提高开发效率。</p><p>但是在真正开发过程中，MyBatis-Plus 并不能为我们解决所有问题，例如一些复杂的 SQL，多表联查，我们就需要自己去编写代码和 SQL 语句，我们该如何快速的解决这个问题呢，这个时候可以使用 MyBatisX 插件。</p><p>MyBatisX 一款基于 IDEA 的快速开发插件，为效率而生。</p></blockquote><h2 id="_1-安装-mybatisx-插件" tabindex="-1">1.安装 MyBatisX 插件 <a class="header-anchor" href="#_1-安装-mybatisx-插件" aria-label="Permalink to &quot;1.安装 MyBatisX 插件&quot;">​</a></h2><blockquote><p><strong>打开 IDEA，File-&gt; Setteings-&gt;Plugins-&gt;MyBatisX，搜索栏搜索 MyBatisX 然后安装。</strong></p></blockquote><img src="'+k+`"><h2 id="_2-快速生成代码" tabindex="-1">2.快速生成代码 <a class="header-anchor" href="#_2-快速生成代码" aria-label="Permalink to &quot;2.快速生成代码&quot;">​</a></h2><ul><li><p>新建一个 Spring Boot 项目引入依赖（创建工程时记得勾选 lombok 及 mysql 驱动）</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F6F6F4;">&lt;</span><span style="color:#F286C4;">dependency</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">    &lt;</span><span style="color:#F286C4;">groupId</span><span style="color:#F6F6F4;">&gt;com.baomidou&lt;/</span><span style="color:#F286C4;">groupId</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">    &lt;</span><span style="color:#F286C4;">artifactId</span><span style="color:#F6F6F4;">&gt;mybatis-plus-boot-starter&lt;/</span><span style="color:#F286C4;">artifactId</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">    &lt;</span><span style="color:#F286C4;">version</span><span style="color:#F6F6F4;">&gt;3.5.1&lt;/</span><span style="color:#F286C4;">version</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">&lt;/</span><span style="color:#F286C4;">dependency</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">&lt;</span><span style="color:#F286C4;">dependency</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">    &lt;</span><span style="color:#F286C4;">groupId</span><span style="color:#F6F6F4;">&gt;com.baomidou&lt;/</span><span style="color:#F286C4;">groupId</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">    &lt;</span><span style="color:#F286C4;">artifactId</span><span style="color:#F6F6F4;">&gt;dynamic-datasource-spring-boot-starter&lt;/</span><span style="color:#F286C4;">artifactId</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">    &lt;</span><span style="color:#F286C4;">version</span><span style="color:#F6F6F4;">&gt;3.5.0&lt;/</span><span style="color:#F286C4;">version</span><span style="color:#F6F6F4;">&gt;</span></span>
<span class="line"><span style="color:#F6F6F4;">&lt;/</span><span style="color:#F286C4;">dependency</span><span style="color:#F6F6F4;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">dependency</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">groupId</span><span style="color:#24292E;">&gt;com.baomidou&lt;/</span><span style="color:#22863A;">groupId</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">artifactId</span><span style="color:#24292E;">&gt;mybatis-plus-boot-starter&lt;/</span><span style="color:#22863A;">artifactId</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">version</span><span style="color:#24292E;">&gt;3.5.1&lt;/</span><span style="color:#22863A;">version</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">dependency</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">dependency</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">groupId</span><span style="color:#24292E;">&gt;com.baomidou&lt;/</span><span style="color:#22863A;">groupId</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">artifactId</span><span style="color:#24292E;">&gt;dynamic-datasource-spring-boot-starter&lt;/</span><span style="color:#22863A;">artifactId</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    &lt;</span><span style="color:#22863A;">version</span><span style="color:#24292E;">&gt;3.5.0&lt;/</span><span style="color:#22863A;">version</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">dependency</span><span style="color:#24292E;">&gt;</span></span></code></pre></div></li><li><p>配置数据源信息</p><div class="language-yml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#97E1F1;">spring</span><span style="color:#F286C4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">  </span><span style="color:#97E1F1;">datasource</span><span style="color:#F286C4;">:</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;">type</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">com.zaxxer.hikari.HikariDataSource</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;">driver-class-name</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">com.mysql.cj.jdbc.Driver</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;">url</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">jdbc:mysql://localhost:3306/mybatis_plus?characterEncoding=utf-8&amp;useSSL=false</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;">username</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#E7EE98;">root</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#97E1F1;">password</span><span style="color:#F286C4;">:</span><span style="color:#F6F6F4;"> </span><span style="color:#BF9EEE;">132537</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#22863A;">spring</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#22863A;">datasource</span><span style="color:#24292E;">:</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">type</span><span style="color:#24292E;">: </span><span style="color:#032F62;">com.zaxxer.hikari.HikariDataSource</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">driver-class-name</span><span style="color:#24292E;">: </span><span style="color:#032F62;">com.mysql.cj.jdbc.Driver</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">url</span><span style="color:#24292E;">: </span><span style="color:#032F62;">jdbc:mysql://localhost:3306/mybatis_plus?characterEncoding=utf-8&amp;useSSL=false</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">username</span><span style="color:#24292E;">: </span><span style="color:#032F62;">root</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#22863A;">password</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">132537</span></span></code></pre></div></li><li><p>在 IDEA 中与数据库建立链接</p><img src="`+S+'"></li><li><p>填写数据库信息并保存</p><img src="'+M+'"></li><li><p>找到我们需要生成的表点击右键</p><img src="'+L+'"></li><li><p>填写完信息以后下一步</p><img src="'+I+'"></li><li><p>继续填写信息</p><img src="'+P+'"></li><li><p><strong>大功告成（真特么好用 yyds）</strong></p><img src="'+T+'"></li></ul><h2 id="_3-快速生成-crud" tabindex="-1">3.快速生成 CRUD <a class="header-anchor" href="#_3-快速生成-crud" aria-label="Permalink to &quot;3.快速生成 CRUD&quot;">​</a></h2><blockquote><p>MyBaitsX 可以根据我们在 Mapper 接口中输入的方法名快速帮我们生成对应的 sql 语句</p></blockquote><img src="'+W+'"><img src="'+U+'">',225),_=[N];function O(x,w,R,Q,z,V){return a(),n("div",null,_)}const G=s(j,[["render",O]]);export{H as __pageData,G as default};
