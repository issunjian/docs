import{_ as s,o,c as a,V as n}from"./chunks/framework.c6d8cbec.js";const p="/docs/assets/rumen-a1f2d203-e586-4ca1-8556-e1a94c6b411e.1c86b7a6.jpg",l="/docs/assets/rumen-557ab648-e2c4-4309-8695-aeb7fbcba25b.1249fe20.jpg",t="/docs/assets/rumen-42330ff2-598a-40bf-b252-480704c6a531.a2fc6c9c.jpg",e="/docs/assets/rumen-c71a31d4-5a99-4c12-93a9-348aa79bc086.61fb1295.jpg",c="/docs/assets/rumen-84ea8b51-6b53-4500-86fa-0dcfa61b84cd.4c05f210.jpg",r="/docs/assets/rumen-bcf34981-0c2b-4f86-94e0-711dfb307371.1f1997e2.jpg",y="data:image/jpeg;base64,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",F="data:image/jpeg;base64,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",i="/docs/assets/rumen-b178e02c-23b6-4b54-92ec-3a170a8499d0.be8fea70.jpg",E="/docs/assets/rumen-99717a12-c90d-4a03-941d-f3857f503d44.28301b2b.jpg",g="/docs/assets/rumen-11866209-6a60-4a6a-9ca9-fcd9279796f6.1e163db9.jpg",d="/docs/assets/rumen-753dfcd7-1557-4837-9a7e-94b2ff9db72a.4f7a2430.jpg",u="/docs/assets/rumen-814acc38-8934-47f9-991c-666466601bd7.dcfa913c.jpg",A="/docs/assets/rumen-95d49578-b1ef-43cc-91da-c7b3a7a7517e.0f286765.jpg",Q=JSON.parse('{"title":"MongoDB最基础入门教程","description":"","frontmatter":{"category":["数据库"],"tag":["MongoDB"]},"headers":[],"relativePath":"backend/tobetter/mongodb/rumen.md","filePath":"backend/tobetter/mongodb/rumen.md"}'),b={name:"backend/tobetter/mongodb/rumen.md"},m=n('<h1 id="mongodb最基础入门教程" tabindex="-1">MongoDB最基础入门教程 <a class="header-anchor" href="#mongodb最基础入门教程" aria-label="Permalink to &quot;MongoDB最基础入门教程&quot;">​</a></h1><p>我以为我对MongoDB十分了解，直到我遇到了字节面试官</p><p>有时候不得不感慨一下，系统升级真的是好处多多，不仅让我有机会重构了之前的烂代码，也满足了我积极好学的虚荣心。你看，<a href="https://mp.weixin.qq.com/s/NPJkMy5RppyFk9QhzHxhrw" target="_blank" rel="noreferrer">Redis 入门</a>了、<a href="https://mp.weixin.qq.com/s/ZjsZxle7m_dfmVwVkq2ayg" target="_blank" rel="noreferrer">Elasticsearch 入门</a>了，这次又要入门 MongoDB，感觉自己变秃的同时，也变强大了。</p><img src="'+p+'"><p>小伙伴们在继续阅读之前，我必须要声明一点，我对 MongoDB 并没有进行很深入的研究，仅仅是因为要用，就学一下。但作为一名负责任的技术博主，我是花了心思的，这篇入门教程，小伙伴们读完后绝对会感到满意，忍不住点赞。</p><p>当然了，小伙伴们遇到文章中有错误的地方，不要手下留情，可以组团过来捶我，但要保证一点，不要打脸，我怕毁容。</p><h3 id="_01、mongodb-是什么" tabindex="-1">01、MongoDB 是什么 <a class="header-anchor" href="#_01、mongodb-是什么" aria-label="Permalink to &quot;01、MongoDB 是什么&quot;">​</a></h3><blockquote><p>MongoDB 是一个基于分布式的文件存储数据库，旨在为 Web 应用提供可扩展的高性能数据存储解决方案。</p></blockquote><p>以上引用来自于官方，不得不说，解释得文绉绉的。那就让我来换一种通俗的说法给小伙伴们解释一下，MongoDB 将数据存储为一个文档（类似于 JSON 对象），数据结构由键值对组成，类似于 Java 中的 Map，通过 key 的方式访问起来效率就高得多，对吧？这也是 MongoDB 最重要的特点。</p><p>MongoDB 提供了企业版（功能更强大）和社区版，对于我们开发者来说，拿社区版来学习和使用就足够了。MongoDB 的驱动包很多，常见的编程语言都有覆盖到，比如说 Java、JavaScript、C++、C#、Python 等等。</p><p>很多知名的互联网公司都在用 MongoDB，比如说谷歌、Facebook、eBay 等等。总之，值得信赖，小伙伴们放心入门，技多不压身啊，就当是给自己一次学习的机会。</p><h3 id="_02、安装-mongodb" tabindex="-1">02、安装 MongoDB <a class="header-anchor" href="#_02、安装-mongodb" aria-label="Permalink to &quot;02、安装 MongoDB&quot;">​</a></h3><p>MongoDB 针对不同的操作系统有不同的安装包，我们这篇入门的文章就以 Windows 为例吧。</p><img src="'+l+'"><p>官网下载地址如下：</p><p><a href="https://www.mongodb.com/download-center/community" target="_blank" rel="noreferrer">https://www.mongodb.com/download-center/community</a></p><p>最新的版本是 4.2.6，我选择的是安装版，msi 格式的，264M 左右。下载完就可以双击运行安装，傻瓜式的。</p><p>建议选择「Custom」自定义安装，如下图所示。</p><img src="'+t+'"><p>以服务模式运行，并配置好数据和日志目录，如下图所示。</p><img src="'+e+'"><p>建议取消勾选安装 MongoDB 的图形化客户端工具，否则安装速度慢到你想要去扣会手机。</p><img src="'+c+'"><p>安装完成后进入到 bin 目录下，双击 mongo.exe 文件就可以连接到 MongoDB 服务了。</p><img src="'+r+'"><p>1）MongoDB 的默认端口号为 27017。</p><p>2）MongoDB 的版本号为 4.2.6。</p><p>默认会连接到 test 文档（相当于数据），可以通过 db 命令查询。</p><img src="'+y+'"><p>还可以运行一些简单的算术运算：</p><img src="'+F+'"><p>那如何停止服务呢？可以直接点击右上角的 X 号——粗暴、壁咚。</p><h3 id="_03、安装-robo-3t" tabindex="-1">03、安装 Robo 3T <a class="header-anchor" href="#_03、安装-robo-3t" aria-label="Permalink to &quot;03、安装 Robo 3T&quot;">​</a></h3><p>Robo 3T 提供了对 MongoDB 和 SCRAM-SHA-256（升级的 mongo shell）的支持，是一款轻量级的 MongoDB 客户端工具。</p><p>下载地址如下：</p><p><a href="https://robomongo.org/download" target="_blank" rel="noreferrer">https://robomongo.org/download</a></p><p>最新的版本是 1.3，选择 zip 格式进行下载，23M 左右。下载完成后，解压就行了。</p><img src="'+i+'"><p>包目录不再一一解释了，进入 bin 目录下，双击运行 robo3t.exe 文件，启动 Robo 3T 客户端。</p><img src="'+E+'"><p>点击「Create」创建一个 MongoDB 的连接。</p><img src="'+g+'"><p>连接成功后，就可以操作 MongoDB 了。</p><img src="'+d+`"><p>（不过，小伙伴们这时候也不太知道该怎么操作，毕竟 MongoDB 的一些相关概念还不清楚，无从下手啊）</p><h3 id="_04、mongodb-的相关概念" tabindex="-1">04、MongoDB 的相关概念 <a class="header-anchor" href="#_04、mongodb-的相关概念" aria-label="Permalink to &quot;04、MongoDB 的相关概念&quot;">​</a></h3><p>随着互联网的极速发展，用户数据也越来越庞大，NoSQL 数据库的发展能够很好地处理这些大的数据，MongoDB 是 NoSQL 数据库中的一个典型的代表。</p><p>说到这，可能有些小伙伴们还不知道 NoSQL 是啥意思，我简单解释一下。NoSQL 可不是没有 SQL 的意思，它实际的含义是 Not Only SQL，也就是“不仅仅是 SQL”，指的是非关系型数据库，和传统的关系型数据库 MySQL、Oracle 不同。</p><p>MongoDB 命名源于英文单词 hu<strong>mongo</strong>us，意思是「巨大无比」，可以看得出 MongoDB 的野心。MongoDB 的数据以类似于 JSON 格式的二进制文档存储：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#f6f6f4;">{</span></span>
<span class="line"><span style="color:#f6f6f4;">    name: &quot;沉默王二&quot;,</span></span>
<span class="line"><span style="color:#f6f6f4;">    age: 18,</span></span>
<span class="line"><span style="color:#f6f6f4;">    hobbies: [&quot;写作&quot;, &quot;敲代码&quot;]</span></span>
<span class="line"><span style="color:#f6f6f4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">{</span></span>
<span class="line"><span style="color:#24292e;">    name: &quot;沉默王二&quot;,</span></span>
<span class="line"><span style="color:#24292e;">    age: 18,</span></span>
<span class="line"><span style="color:#24292e;">    hobbies: [&quot;写作&quot;, &quot;敲代码&quot;]</span></span>
<span class="line"><span style="color:#24292e;">}</span></span></code></pre></div><p>在进行下一步之前，需要先来理解 MongoDB 中的几个关键概念，比如说什么是集合，什么是文档，什么是字段等等。MongoDB 虽然是非关系型数据库，但和关系型数据库非常相似。</p><img src="`+u+`"><p>看完上面这幅图（图片来源于好朋友 macrozheng 的文章），是不是瞬间就清晰了？</p><h3 id="_05、在-java-中使用-mongodb" tabindex="-1">05、在 Java 中使用 MongoDB <a class="header-anchor" href="#_05、在-java-中使用-mongodb" aria-label="Permalink to &quot;05、在 Java 中使用 MongoDB&quot;">​</a></h3><p>有些小伙伴可能会问，“二哥，我是一名 Java 程序员，我该如何在 Java 中使用 MongoDB 呢？”这个问题问得好，这就来，这就来。</p><p>第一步，在项目中添加 MongoDB 驱动依赖：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#f6f6f4;">&lt;dependency&gt;</span></span>
<span class="line"><span style="color:#f6f6f4;">    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;</span></span>
<span class="line"><span style="color:#f6f6f4;">    &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;</span></span>
<span class="line"><span style="color:#f6f6f4;">    &lt;version&gt;4.0.3&lt;/version&gt;</span></span>
<span class="line"><span style="color:#f6f6f4;">&lt;/dependency&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">&lt;dependency&gt;</span></span>
<span class="line"><span style="color:#24292e;">    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;</span></span>
<span class="line"><span style="color:#24292e;">    &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;</span></span>
<span class="line"><span style="color:#24292e;">    &lt;version&gt;4.0.3&lt;/version&gt;</span></span>
<span class="line"><span style="color:#24292e;">&lt;/dependency&gt;</span></span></code></pre></div><p>第二步，新建测试类 MongoDBTest：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">class</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;">MongoDBTest</span><span style="color:#F6F6F4;"> {</span></span>
<span class="line"><span style="color:#F6F6F4;">    </span><span style="color:#F286C4;">public</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">static</span><span style="color:#F6F6F4;"> </span><span style="color:#97E1F1;font-style:italic;">void</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">main</span><span style="color:#F6F6F4;">(</span><span style="color:#97E1F1;font-style:italic;">String</span><span style="color:#F6F6F4;">[] </span><span style="color:#FFB86C;font-style:italic;">args</span><span style="color:#F6F6F4;">) {</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#97E1F1;font-style:italic;">MongoClient</span><span style="color:#F6F6F4;"> mongoClient </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> MongoClients.</span><span style="color:#62E884;">create</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#97E1F1;font-style:italic;">MongoDatabase</span><span style="color:#F6F6F4;"> database </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> mongoClient.</span><span style="color:#62E884;">getDatabase</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">mydb</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#97E1F1;font-style:italic;">MongoCollection</span><span style="color:#F6F6F4;">&lt;Document&gt; collection </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> database.</span><span style="color:#62E884;">getCollection</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">test</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#97E1F1;font-style:italic;">Document</span><span style="color:#F6F6F4;"> doc </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">Document</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">name</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">沉默王二</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">                .</span><span style="color:#62E884;">append</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">age</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">18</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">                .</span><span style="color:#62E884;">append</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">hobbies</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, Arrays.</span><span style="color:#62E884;">asList</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">写作</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">敲代码</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">));</span></span>
<span class="line"><span style="color:#F6F6F4;">        collection.</span><span style="color:#62E884;">insertOne</span><span style="color:#F6F6F4;">(doc);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">        System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">集合大小：</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;">collection.</span><span style="color:#62E884;">countDocuments</span><span style="color:#F6F6F4;">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F6F6F4;">        </span><span style="color:#97E1F1;font-style:italic;">Document</span><span style="color:#F6F6F4;"> myDoc </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> collection.</span><span style="color:#62E884;">find</span><span style="color:#F6F6F4;">().</span><span style="color:#62E884;">first</span><span style="color:#F6F6F4;">();</span></span>
<span class="line"><span style="color:#F6F6F4;">        System.out.</span><span style="color:#62E884;">println</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">文档内容：</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;">+</span><span style="color:#F6F6F4;"> myDoc.</span><span style="color:#62E884;">toJson</span><span style="color:#F6F6F4;">());</span></span>
<span class="line"><span style="color:#F6F6F4;">    }</span></span>
<span class="line"><span style="color:#F6F6F4;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">MongoDBTest</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">void</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">main</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">String</span><span style="color:#24292E;">[] </span><span style="color:#E36209;">args</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">        MongoClient mongoClient </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> MongoClients.</span><span style="color:#6F42C1;">create</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        MongoDatabase database </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> mongoClient.</span><span style="color:#6F42C1;">getDatabase</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;mydb&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">        MongoCollection&lt;</span><span style="color:#D73A49;">Document</span><span style="color:#24292E;">&gt; collection </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> database.</span><span style="color:#6F42C1;">getCollection</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;test&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">        Document doc </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Document</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;name&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;沉默王二&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">                .</span><span style="color:#6F42C1;">append</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;age&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;18&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">                .</span><span style="color:#6F42C1;">append</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;hobbies&quot;</span><span style="color:#24292E;">, Arrays.</span><span style="color:#6F42C1;">asList</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;写作&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;敲代码&quot;</span><span style="color:#24292E;">));</span></span>
<span class="line"><span style="color:#24292E;">        collection.</span><span style="color:#6F42C1;">insertOne</span><span style="color:#24292E;">(doc);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">        System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;集合大小：&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;">collection.</span><span style="color:#6F42C1;">countDocuments</span><span style="color:#24292E;">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">        Document myDoc </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> collection.</span><span style="color:#6F42C1;">find</span><span style="color:#24292E;">().</span><span style="color:#6F42C1;">first</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">        System.out.</span><span style="color:#6F42C1;">println</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;文档内容：&quot;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">+</span><span style="color:#24292E;"> myDoc.</span><span style="color:#6F42C1;">toJson</span><span style="color:#24292E;">());</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>1）MongoClient 为 MongoDB 提供的客户端连接对象，不指定主机名和端口号的话，默认就是“localhost”和“27017”。</p><p>如果小伙伴想自定义主机名和端口号的话，也可以通过字符串的形式：</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#97E1F1;font-style:italic;">MongoClient</span><span style="color:#F6F6F4;"> mongoClient </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> MongoClients.</span><span style="color:#62E884;">create</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">mongodb://localhost:27017</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">MongoClient mongoClient </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> MongoClients.</span><span style="color:#6F42C1;">create</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;mongodb://localhost:27017&quot;</span><span style="color:#24292E;">);</span></span></code></pre></div><p>是不是感觉和 MySQL 的连接字符串挺像的？</p><p>2）<code>getDatabase()</code> 方法用于获取指定名称的数据库，如果数据库已经存在，则直接返回该 DB 对象（MongoDatabase），否则就创建一个再返回（省去了判空的操作，非常人性化）。</p><p>3）<code>getCollection()</code> 方法用于获取指定名称的文档对象，如果文档已经存在，则直接返回该 Document 的集合对象，否则就创建一个再返回（和 <code>getDatabase()</code> 方法类似）。</p><p>有了文档对象（<code>MongoCollection&lt;Document&gt;</code>）后，就可以往里面添加具体的文档内容了。</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#97E1F1;font-style:italic;">Document</span><span style="color:#F6F6F4;"> doc </span><span style="color:#F286C4;">=</span><span style="color:#F6F6F4;"> </span><span style="color:#F286C4;font-weight:bold;">new</span><span style="color:#F6F6F4;"> </span><span style="color:#62E884;">Document</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">name</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">沉默王二</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">                .</span><span style="color:#62E884;">append</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">age</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">18</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">)</span></span>
<span class="line"><span style="color:#F6F6F4;">                .</span><span style="color:#62E884;">append</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">hobbies</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, Arrays.</span><span style="color:#62E884;">asList</span><span style="color:#F6F6F4;">(</span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">写作</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">, </span><span style="color:#DEE492;">&quot;</span><span style="color:#E7EE98;">敲代码</span><span style="color:#DEE492;">&quot;</span><span style="color:#F6F6F4;">));</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">Document doc </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Document</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;name&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;沉默王二&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">                .</span><span style="color:#6F42C1;">append</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;age&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;18&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">                .</span><span style="color:#6F42C1;">append</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;hobbies&quot;</span><span style="color:#24292E;">, Arrays.</span><span style="color:#6F42C1;">asList</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;写作&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;敲代码&quot;</span><span style="color:#24292E;">));</span></span></code></pre></div><p>Document 对象来源于 org.bson 包下，可以在实例化该对象之后通过 <code>append()</code> 方法添加对应的键值对，非常方便，就像 String 类的 <code>append()</code> 方法一样。</p><p>有了文档对象后，就可以通过 <code>insertOne()</code> 方法将文档添加到集合当中了。</p><p>4）<code>countDocuments()</code> 方法用于获取集合中的文档数目。</p><p>5）要查询文档，可以通过 <code>find()</code> 方法，它返回一个 <code>FindIterable</code> 对象，<code>first()</code> 方法可以返回当前集合中的第一个文档对象。</p><p>好了，来看一下程序的输出结果：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#f6f6f4;">集合大小：1</span></span>
<span class="line"><span style="color:#f6f6f4;">文档内容：{&quot;_id&quot;: {&quot;$oid&quot;: &quot;5ebcaa76465cab3f18b93e1a&quot;}, &quot;name&quot;: &quot;沉默王二&quot;, &quot;age&quot;: &quot;18&quot;, &quot;hobbies&quot;: [&quot;写作&quot;, &quot;敲代码&quot;]}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">集合大小：1</span></span>
<span class="line"><span style="color:#24292e;">文档内容：{&quot;_id&quot;: {&quot;$oid&quot;: &quot;5ebcaa76465cab3f18b93e1a&quot;}, &quot;name&quot;: &quot;沉默王二&quot;, &quot;age&quot;: &quot;18&quot;, &quot;hobbies&quot;: [&quot;写作&quot;, &quot;敲代码&quot;]}</span></span></code></pre></div><p>完全符合我们的预期，perfect！</p><p>也可以通过 Robo 3T 查看“mydb”数据库，结果如下图所示。</p><img src="`+A+'"><h3 id="_06、鸣谢" tabindex="-1">06、鸣谢 <a class="header-anchor" href="#_06、鸣谢" aria-label="Permalink to &quot;06、鸣谢&quot;">​</a></h3><p>好了，我亲爱的小伙伴们，以上就是本文的全部内容了，是不是看完后很想实操一把 MongoDB，赶快行动吧！如果你在学习的过程中遇到了问题，欢迎随时和我交流，虽然我也是个菜鸟，但我有热情啊。</p><p>另外，如果你想写入门级别的文章，这篇就是最好的范例。</p>',79),f=[m];function D(q,C,h,B,v,K){return o(),a("div",null,f)}const k=s(b,[["render",D]]);export{Q as __pageData,k as default};
