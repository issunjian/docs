import{_ as s,o as n,c as a,V as o}from"./chunks/framework.c6d8cbec.js";const v=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"others/nodejs/volta.md","filePath":"others/nodejs/volta.md"}'),l={name:"others/nodejs/volta.md"},e=o('<blockquote><p>目前环境：win7系统，已在本地安装了nodejs v10.16.0,npm v6.9.0，且在环境变量中配置了node_global和node_cache，在npm config中配置了prefix和cache。<br> 具体的配置参见：<a href="https://www.jianshu.com/p/c145128ed6c9" target="_blank" rel="noreferrer">https://www.jianshu.com/p/c145128ed6c9</a></p></blockquote><p>volta的优点，安装及使用可参见官网：<a href="https://volta.sh/" target="_blank" rel="noreferrer">https://volta.sh/</a></p><h2 id="volta环境变量配置" tabindex="-1">volta环境变量配置 <a class="header-anchor" href="#volta环境变量配置" aria-label="Permalink to &quot;volta环境变量配置&quot;">​</a></h2><p>volta默认的工作目录<code>VOLTA_HOME</code>位置如下</p><ul><li>~/.volta on Unix</li><li>%LOCALAPPDATA%\\Volta on Windows</li></ul><p>因为后续下载安装的各种工具链都是存在该目录下的，所以我这里自定义<code>VOLTA_HOME</code>，比如更改为<code>F:\\repositorys\\Volta</code>目录</p><ul><li>在环境变量中新建一个系统变量名为<code>VOLTA_HOME</code>，值设置<code>F:\\repositorys\\Volta</code></li></ul><p>因为更改了<code>VOLTA_HOME</code>,所以还需要配置下<code>Shim Directory</code>目录，否则通过volta install安装的packages的命令不能使用，比如安装hexo后无法使用hexo xxx命令<br><code>Shim Directory</code>默认目录为<code>%VOLTA_HOME%\\bin</code> (Unix下为<code>$VOLTA_HOME/bin</code>)</p><ul><li>在环境变量中修改PATH中原来的VOLTA_HOME部分</li></ul><p><strong>注意</strong><br> 修改环境变量后重新打开cmd使配置生效</p><h2 id="volta安装其他版本nodejs" tabindex="-1">volta安装其他版本nodejs <a class="header-anchor" href="#volta安装其他版本nodejs" aria-label="Permalink to &quot;volta安装其他版本nodejs&quot;">​</a></h2><p>``txt volta list //查看存在的版本 volta install node //安装最新版的nodejs volta install node@12.2.0 //安装指定版本 volta install node@12 //volta将选择合适的版本安装 volta pin node@10.15 <a href="/docs/xn--package-p96mi23et2cf65dlbbp77x.xn--json-e65fodp9bh9ik33axhf9nysqely7bkoihjfs87j.html">//将更新项目的package.json文件以使用工具的选定版本</a> volta pin yarn@1.14 <a href="/docs/xn--package-p96mi23et2cf65dlbbp77x.xn--json-e65fodp9bh9ik33axhf9nysqely7bkoihjfs87j.html">//将更新项目的package.json文件以使用工具的选定版本</a></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki dracula-soft vp-code-dark"><code><span class="line"><span style="color:#f6f6f4;">**技巧**  </span></span>\n<span class="line"><span style="color:#f6f6f4;">`volta install &lt;package name&gt;`安装tools时与网络有关系，有时会死活下载不下来（主要应该是国内网络环境的原因），可以将自己手动下载的压缩包，或者其他机器上已经使用volta安装过该工具所下载的压缩包（在`%VOLTA_HOME%\\tools\\inventory\\`目录中），拷贝到`%VOLTA_HOME%\\tools\\inventory\\`下对应的文件夹内，比如将`node-v12.18.2-win-x64.zip`复制到`%VOLTA_HOME%\\tools\\inventory\\node\\`目录下，然后再重新执行install命令</span></span>\n<span class="line"><span style="color:#f6f6f4;"></span></span>\n<span class="line"><span style="color:#f6f6f4;">## 卸载原来版本</span></span>\n<span class="line"><span style="color:#f6f6f4;"></span></span>\n<span class="line"><span style="color:#f6f6f4;">+   新选择一个目录，重新配置node\\_global和node\\_cache，配置npm config</span></span>\n<span class="line"><span style="color:#f6f6f4;">+   卸载原来的版本</span></span>\n<span class="line"><span style="color:#f6f6f4;">+   `volta install node@10.16.0`用volta重新安装原来的版本</span></span>\n<span class="line"><span style="color:#f6f6f4;"></span></span>\n<span class="line"><span style="color:#f6f6f4;">## 最新使用步骤</span></span>\n<span class="line"><span style="color:#f6f6f4;"></span></span>\n<span class="line"><span style="color:#f6f6f4;">1.  官方[Github下载地址](https://github.com/volta-cli/volta/releases)去下载安装包进行安装</span></span>\n<span class="line"><span style="color:#f6f6f4;">2.  选择一个目录作为以后的volta安装node的目录，比如`D:\\Repositorys\\Volta`，然后新建环境变量，变量名`VOLTA_HOME`，变量值`D:\\Repositorys\\Volta`</span></span>\n<span class="line"><span style="color:#f6f6f4;">3.  使用`votal install node@xxx`命令安装指定版本的nodejs</span></span>\n<span class="line"><span style="color:#f6f6f4;">4.  配置npm config</span></span>\n<span class="line"><span style="color:#f6f6f4;"></span></span>\n<span class="line"><span style="color:#f6f6f4;">``txt</span></span>\n<span class="line"><span style="color:#f6f6f4;">npm config set registry &quot;https://registry.npmmirror.com/&quot;</span></span>\n<span class="line"><span style="color:#f6f6f4;">npm config set prefix &quot;D:\\Repositorys\\nodejs\\node_global&quot;</span></span>\n<span class="line"><span style="color:#f6f6f4;">npm config set cache &quot;D:\\Repositorys\\nodejs\\node_cache&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">**技巧**  </span></span>\n<span class="line"><span style="color:#24292e;">`volta install &lt;package name&gt;`安装tools时与网络有关系，有时会死活下载不下来（主要应该是国内网络环境的原因），可以将自己手动下载的压缩包，或者其他机器上已经使用volta安装过该工具所下载的压缩包（在`%VOLTA_HOME%\\tools\\inventory\\`目录中），拷贝到`%VOLTA_HOME%\\tools\\inventory\\`下对应的文件夹内，比如将`node-v12.18.2-win-x64.zip`复制到`%VOLTA_HOME%\\tools\\inventory\\node\\`目录下，然后再重新执行install命令</span></span>\n<span class="line"><span style="color:#24292e;"></span></span>\n<span class="line"><span style="color:#24292e;">## 卸载原来版本</span></span>\n<span class="line"><span style="color:#24292e;"></span></span>\n<span class="line"><span style="color:#24292e;">+   新选择一个目录，重新配置node\\_global和node\\_cache，配置npm config</span></span>\n<span class="line"><span style="color:#24292e;">+   卸载原来的版本</span></span>\n<span class="line"><span style="color:#24292e;">+   `volta install node@10.16.0`用volta重新安装原来的版本</span></span>\n<span class="line"><span style="color:#24292e;"></span></span>\n<span class="line"><span style="color:#24292e;">## 最新使用步骤</span></span>\n<span class="line"><span style="color:#24292e;"></span></span>\n<span class="line"><span style="color:#24292e;">1.  官方[Github下载地址](https://github.com/volta-cli/volta/releases)去下载安装包进行安装</span></span>\n<span class="line"><span style="color:#24292e;">2.  选择一个目录作为以后的volta安装node的目录，比如`D:\\Repositorys\\Volta`，然后新建环境变量，变量名`VOLTA_HOME`，变量值`D:\\Repositorys\\Volta`</span></span>\n<span class="line"><span style="color:#24292e;">3.  使用`votal install node@xxx`命令安装指定版本的nodejs</span></span>\n<span class="line"><span style="color:#24292e;">4.  配置npm config</span></span>\n<span class="line"><span style="color:#24292e;"></span></span>\n<span class="line"><span style="color:#24292e;">``txt</span></span>\n<span class="line"><span style="color:#24292e;">npm config set registry &quot;https://registry.npmmirror.com/&quot;</span></span>\n<span class="line"><span style="color:#24292e;">npm config set prefix &quot;D:\\Repositorys\\nodejs\\node_global&quot;</span></span>\n<span class="line"><span style="color:#24292e;">npm config set cache &quot;D:\\Repositorys\\nodejs\\node_cache&quot;</span></span></code></pre></div>',13),p=[e];function t(c,i,r,d,f,y){return n(),a("div",null,p)}const _=s(l,[["render",t]]);export{v as __pageData,_ as default};
